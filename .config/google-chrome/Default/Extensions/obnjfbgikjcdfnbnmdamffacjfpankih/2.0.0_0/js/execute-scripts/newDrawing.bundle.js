(()=>{var e={757:(e,r,t)=>{e.exports=t(666)},901:function(e,r,t){var n,o;!function(a){"use strict";var s,i={};i.VERSION="1.6.1";var l={},g=function(e,r){return function(){return r.apply(e,arguments)}},c=function(){var e,r,t=arguments,n=t[0];for(r=1;r<t.length;r++)for(e in t[r])!(e in n)&&t[r].hasOwnProperty(e)&&(n[e]=t[r][e]);return n},m=function(e,r){return{value:e,name:r}};i.TRACE=m(1,"TRACE"),i.DEBUG=m(2,"DEBUG"),i.INFO=m(3,"INFO"),i.TIME=m(4,"TIME"),i.WARN=m(5,"WARN"),i.ERROR=m(8,"ERROR"),i.OFF=m(99,"OFF");var u=function(e){this.context=e,this.setLevel(e.filterLevel),this.log=this.info};u.prototype={setLevel:function(e){e&&"value"in e&&(this.context.filterLevel=e)},getLevel:function(){return this.context.filterLevel},enabledFor:function(e){var r=this.context.filterLevel;return e.value>=r.value},trace:function(){this.invoke(i.TRACE,arguments)},debug:function(){this.invoke(i.DEBUG,arguments)},info:function(){this.invoke(i.INFO,arguments)},warn:function(){this.invoke(i.WARN,arguments)},error:function(){this.invoke(i.ERROR,arguments)},time:function(e){"string"==typeof e&&e.length>0&&this.invoke(i.TIME,[e,"start"])},timeEnd:function(e){"string"==typeof e&&e.length>0&&this.invoke(i.TIME,[e,"end"])},invoke:function(e,r){s&&this.enabledFor(e)&&s(r,c({level:e},this.context))}};var A,d=new u({filterLevel:i.OFF});(A=i).enabledFor=g(d,d.enabledFor),A.trace=g(d,d.trace),A.debug=g(d,d.debug),A.time=g(d,d.time),A.timeEnd=g(d,d.timeEnd),A.info=g(d,d.info),A.warn=g(d,d.warn),A.error=g(d,d.error),A.log=A.info,i.setHandler=function(e){s=e},i.setLevel=function(e){for(var r in d.setLevel(e),l)l.hasOwnProperty(r)&&l[r].setLevel(e)},i.getLevel=function(){return d.getLevel()},i.get=function(e){return l[e]||(l[e]=new u(c({name:e},d.context)))},i.createDefaultHandler=function(e){(e=e||{}).formatter=e.formatter||function(e,r){r.name&&e.unshift("["+r.name+"]")};var r={},t=function(e,r){Function.prototype.apply.call(e,console,r)};return"undefined"==typeof console?function(){}:function(n,o){n=Array.prototype.slice.call(n);var a,s=console.log;o.level===i.TIME?(a=(o.name?"["+o.name+"] ":"")+n[0],"start"===n[1]?console.time?console.time(a):r[a]=(new Date).getTime():console.timeEnd?console.timeEnd(a):t(s,[a+": "+((new Date).getTime()-r[a])+"ms"])):(o.level===i.WARN&&console.warn?s=console.warn:o.level===i.ERROR&&console.error?s=console.error:o.level===i.INFO&&console.info?s=console.info:o.level===i.DEBUG&&console.debug?s=console.debug:o.level===i.TRACE&&console.trace&&(s=console.trace),e.formatter(n,o),t(s,n))}},i.useDefaults=function(e){i.setLevel(e&&e.defaultLevel||i.DEBUG),i.setHandler(i.createDefaultHandler(e))},i.setDefaults=i.useDefaults,void 0===(o="function"==typeof(n=i)?n.call(r,t,r,e):n)||(e.exports=o)}()},666:e=>{var r=function(e){"use strict";var r,t=Object.prototype,n=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",i=o.toStringTag||"@@toStringTag";function l(e,r,t,n){var o=r&&r.prototype instanceof f?r:f,a=Object.create(o.prototype),s=new T(n||[]);return a._invoke=function(e,r,t){var n=c;return function(o,a){if(n===u)throw new Error("Generator is already running");if(n===A){if("throw"===o)throw a;return P()}for(t.method=o,t.arg=a;;){var s=t.delegate;if(s){var i=E(s,t);if(i){if(i===d)continue;return i}}if("next"===t.method)t.sent=t._sent=t.arg;else if("throw"===t.method){if(n===c)throw n=A,t.arg;t.dispatchException(t.arg)}else"return"===t.method&&t.abrupt("return",t.arg);n=u;var l=g(e,r,t);if("normal"===l.type){if(n=t.done?A:m,l.arg===d)continue;return{value:l.arg,done:t.done}}"throw"===l.type&&(n=A,t.method="throw",t.arg=l.arg)}}}(e,t,s),a}function g(e,r,t){try{return{type:"normal",arg:e.call(r,t)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var c="suspendedStart",m="suspendedYield",u="executing",A="completed",d={};function f(){}function h(){}function p(){}var x={};x[a]=function(){return this};var v=Object.getPrototypeOf,w=v&&v(v(_([])));w&&w!==t&&n.call(w,a)&&(x=w);var y=p.prototype=f.prototype=Object.create(x);function b(e){["next","throw","return"].forEach((function(r){e[r]=function(e){return this._invoke(r,e)}}))}function k(e,r){function t(o,a,s,i){var l=g(e[o],e,a);if("throw"!==l.type){var c=l.arg,m=c.value;return m&&"object"==typeof m&&n.call(m,"__await")?r.resolve(m.__await).then((function(e){t("next",e,s,i)}),(function(e){t("throw",e,s,i)})):r.resolve(m).then((function(e){c.value=e,s(c)}),(function(e){return t("throw",e,s,i)}))}i(l.arg)}var o;this._invoke=function(e,n){function a(){return new r((function(r,o){t(e,n,r,o)}))}return o=o?o.then(a,a):a()}}function E(e,t){var n=e.iterator[t.method];if(n===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=r,E(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var o=g(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,d;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=r),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function S(e){var r={tryLoc:e[0]};1 in e&&(r.catchLoc=e[1]),2 in e&&(r.finallyLoc=e[2],r.afterLoc=e[3]),this.tryEntries.push(r)}function L(e){var r=e.completion||{};r.type="normal",delete r.arg,e.completion=r}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function _(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,s=function t(){for(;++o<e.length;)if(n.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=r,t.done=!0,t};return s.next=s}}return{next:P}}function P(){return{value:r,done:!0}}return h.prototype=y.constructor=p,p.constructor=h,p[i]=h.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var r="function"==typeof e&&e.constructor;return!!r&&(r===h||"GeneratorFunction"===(r.displayName||r.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,i in e||(e[i]="GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(k.prototype),k.prototype[s]=function(){return this},e.AsyncIterator=k,e.async=function(r,t,n,o,a){void 0===a&&(a=Promise);var s=new k(l(r,t,n,o),a);return e.isGeneratorFunction(t)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},b(y),y[i]="Generator",y[a]=function(){return this},y.toString=function(){return"[object Generator]"},e.keys=function(e){var r=[];for(var t in e)r.push(t);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=_,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(L),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=r)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(n,o){return i.type="throw",i.arg=e,t.next=n,o&&(t.method="next",t.arg=r),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],i=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var l=n.call(s,"catchLoc"),g=n.call(s,"finallyLoc");if(l&&g){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!g)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function(e,r){for(var t=this.tryEntries.length-1;t>=0;--t){var o=this.tryEntries[t];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=e,s.arg=r,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(s)},complete:function(e,r){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&r&&(this.next=r),d},finish:function(e){for(var r=this.tryEntries.length-1;r>=0;--r){var t=this.tryEntries[r];if(t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),L(t),d}},catch:function(e){for(var r=this.tryEntries.length-1;r>=0;--r){var t=this.tryEntries[r];if(t.tryLoc===e){var n=t.completion;if("throw"===n.type){var o=n.arg;L(t)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=r),d}},e}(e.exports);try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}},416:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.browser=t(337)},337:function(e,r){var t,n,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=[e],t=function(e){"use strict";if("undefined"==typeof browser||Object.getPrototypeOf(browser)!==Object.prototype){const r="The message port closed before a response was received.",t="Returning a Promise is the preferred way to send a reply from an onMessage/onMessageExternal listener, as the sendResponse will be removed from the specs (See https://developer.mozilla.org/docs/Mozilla/Add-ons/WebExtensions/API/runtime/onMessage)",n=e=>{const n={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(0===Object.keys(n).length)throw new Error("api-metadata.json has not been included in browser-polyfill");class o extends WeakMap{constructor(e,r=void 0){super(r),this.createItem=e}get(e){return this.has(e)||this.set(e,this.createItem(e)),super.get(e)}}const a=e=>e&&"object"==typeof e&&"function"==typeof e.then,s=(r,t)=>(...n)=>{e.runtime.lastError?r.reject(new Error(e.runtime.lastError.message)):t.singleCallbackArg||n.length<=1&&!1!==t.singleCallbackArg?r.resolve(n[0]):r.resolve(n)},i=e=>1==e?"argument":"arguments",l=(e,r)=>function(t,...n){if(n.length<r.minArgs)throw new Error(`Expected at least ${r.minArgs} ${i(r.minArgs)} for ${e}(), got ${n.length}`);if(n.length>r.maxArgs)throw new Error(`Expected at most ${r.maxArgs} ${i(r.maxArgs)} for ${e}(), got ${n.length}`);return new Promise(((o,a)=>{if(r.fallbackToNoCallback)try{t[e](...n,s({resolve:o,reject:a},r))}catch(a){console.warn(`${e} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,a),t[e](...n),r.fallbackToNoCallback=!1,r.noCallback=!0,o()}else r.noCallback?(t[e](...n),o()):t[e](...n,s({resolve:o,reject:a},r))}))},g=(e,r,t)=>new Proxy(r,{apply:(r,n,o)=>t.call(n,e,...o)});let c=Function.call.bind(Object.prototype.hasOwnProperty);const m=(e,r={},t={})=>{let n=Object.create(null),o={has:(r,t)=>t in e||t in n,get(o,a,s){if(a in n)return n[a];if(!(a in e))return;let i=e[a];if("function"==typeof i)if("function"==typeof r[a])i=g(e,e[a],r[a]);else if(c(t,a)){let r=l(a,t[a]);i=g(e,e[a],r)}else i=i.bind(e);else if("object"==typeof i&&null!==i&&(c(r,a)||c(t,a)))i=m(i,r[a],t[a]);else{if(!c(t,"*"))return Object.defineProperty(n,a,{configurable:!0,enumerable:!0,get:()=>e[a],set(r){e[a]=r}}),i;i=m(i,r[a],t["*"])}return n[a]=i,i},set:(r,t,o,a)=>(t in n?n[t]=o:e[t]=o,!0),defineProperty:(e,r,t)=>Reflect.defineProperty(n,r,t),deleteProperty:(e,r)=>Reflect.deleteProperty(n,r)},a=Object.create(e);return new Proxy(a,o)},u=e=>({addListener(r,t,...n){r.addListener(e.get(t),...n)},hasListener:(r,t)=>r.hasListener(e.get(t)),removeListener(r,t){r.removeListener(e.get(t))}}),A=new o((e=>"function"!=typeof e?e:function(r){const t=m(r,{},{getContent:{minArgs:0,maxArgs:0}});e(t)}));let d=!1;const f=new o((e=>"function"!=typeof e?e:function(r,n,o){let s,i,l=!1,g=new Promise((e=>{s=function(r){d||(console.warn(t,(new Error).stack),d=!0),l=!0,e(r)}}));try{i=e(r,n,s)}catch(e){i=Promise.reject(e)}const c=!0!==i&&a(i);if(!0!==i&&!c&&!l)return!1;const m=e=>{e.then((e=>{o(e)}),(e=>{let r;r=e&&(e instanceof Error||"string"==typeof e.message)?e.message:"An unexpected error occurred",o({__mozWebExtensionPolyfillReject__:!0,message:r})})).catch((e=>{console.error("Failed to send onMessage rejected reply",e)}))};return m(c?i:g),!0})),h=({reject:t,resolve:n},o)=>{e.runtime.lastError?e.runtime.lastError.message===r?n():t(new Error(e.runtime.lastError.message)):o&&o.__mozWebExtensionPolyfillReject__?t(new Error(o.message)):n(o)},p=(e,r,t,...n)=>{if(n.length<r.minArgs)throw new Error(`Expected at least ${r.minArgs} ${i(r.minArgs)} for ${e}(), got ${n.length}`);if(n.length>r.maxArgs)throw new Error(`Expected at most ${r.maxArgs} ${i(r.maxArgs)} for ${e}(), got ${n.length}`);return new Promise(((e,r)=>{const o=h.bind(null,{resolve:e,reject:r});n.push(o),t.sendMessage(...n)}))},x={devtools:{network:{onRequestFinished:u(A)}},runtime:{onMessage:u(f),onMessageExternal:u(f),sendMessage:p.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:p.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},v={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return n.privacy={network:{"*":v},services:{"*":v},websites:{"*":v}},m(e,x,n)};if("object"!=typeof chrome||!chrome||!chrome.runtime||!chrome.runtime.id)throw new Error("This script should only be loaded in a browser extension.");e.exports=n(chrome)}else e.exports=browser},void 0===(o="function"==typeof t?t.apply(r,n):t)||(e.exports=o)}},r={};function t(n){var o=r[n];if(void 0!==o)return o.exports;var a=r[n]={exports:{}};return e[n].call(a.exports,a,a.exports,t),a.exports}t.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return t.d(r,{a:r}),r},t.d=(e,r)=>{for(var n in r)t.o(r,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},t.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),(()=>{"use strict";var e=t(757),r=t.n(e);function n(e){return new Promise(((r,t)=>{e.oncomplete=e.onsuccess=()=>r(e.result),e.onabort=e.onerror=()=>t(e.error)}))}function o(e,r){const t=indexedDB.open(e);t.onupgradeneeded=()=>t.result.createObjectStore(r);const o=n(t);return(e,t)=>o.then((n=>t(n.transaction(r,e).objectStore(r))))}let a;function s(){return a||(a=o("keyval-store","keyval")),a}function i(e,r=s()){return r("readonly",(r=>Promise.all(e.map((e=>n(r.get(e)))))))}var l=t(901),g=t.n(l);g().useDefaults(),g().setLevel(g().ERROR);const c=g();function m(e){return new Promise(((r,t)=>{const n=new FileReader;n.onloadend=()=>{const e=n.result;r(e)},n.onerror=t,n.readAsDataURL(e)}))}const u=Math.round(375),A=Math.round(195),d="__drawing_id";function f(e,r){if(c.log("👉 Original Image dimensions:",`${Math.round(e)} x ${Math.round(r)}`),e<=u&&r<=A)return{width:Math.max(1,e),height:Math.max(1,r),scale:1};const t=e/u,n=r/A,o=Math.max(t,n);return e=Math.max(1,Math.round(e/o)),r=Math.max(1,Math.round(r/o)),c.log("New Image dimensions",`${Math.round(e)} x ${Math.round(r)}`,o),{width:e,height:r,scale:1/o}}function h(e,r,t,n,o,a,s){try{var i=e[a](s),l=i.value}catch(e){return void t(e)}i.done?r(l):Promise.resolve(l).then(n,o)}function p(e){return function(){var r=this,t=arguments;return new Promise((function(n,o){var a=e.apply(r,t);function s(e){h(a,n,o,s,i,"next",e)}function i(e){h(a,n,o,s,i,"throw",e)}s(void 0)}))}}const x=o("files-db","files-store");function v(){return w.apply(this,arguments)}function w(){return w=p(r().mark((function e(){var t,n,o,a,s,i,l,g,m,u=arguments;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u.length>0&&void 0!==u[0]?u[0]:{takeScreenshot:!0},n=k(),o=n.excalidraw,a=n.excalidrawState,s=n.versionFiles,i=n.versionDataState,l=JSON.parse(o),g=JSON.parse(a),e.prev=4,null==t||!t.takeScreenshot){e.next=9;break}return e.next=8,y({elements:l,appState:g});case 8:m=e.sent;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),c.error("Error taking screenshot",e.t0);case 14:return e.abrupt("return",{excalidraw:o,excalidrawState:a,versionFiles:s,versionDataState:i,imageBase64:m,viewBackgroundColor:null==g?void 0:g.viewBackgroundColor});case 15:case"end":return e.stop()}}),e,null,[[4,11]])}))),w.apply(this,arguments)}function y(e){return b.apply(this,arguments)}function b(){return(b=p(r().mark((function e(t){var n,o,a,s,l,g,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.elements,o=t.appState,a=(new Date).getTime(),s=n.filter((e=>"image"===e.type)).map((e=>e.fileId)),l={},e.prev=4,e.next=7,i(s,x);case 7:e.sent.forEach((e=>{e&&(l[e.id]=e)})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),c.warn("Error retrieving files from IndexedDB",e.t0);case 14:return e.next=16,window.ExcalidrawLib.exportToBlob({elements:n,getDimensions:(e,r)=>f(e,r),files:l,appState:o});case 16:return g=e.sent,e.next=19,m(g);case 19:return u=e.sent,c.log("📷 Take Screenshoot Took:",(new Date).getTime()-a+"ms"),e.abrupt("return",u);case 22:case"end":return e.stop()}}),e,null,[[4,11]])})))).apply(this,arguments)}function k(){return{excalidraw:localStorage.getItem("excalidraw"),excalidrawState:localStorage.getItem("excalidraw-state"),versionFiles:localStorage.getItem("version-files"),versionDataState:localStorage.getItem("version-dataState")}}let E;function S(e,r,t,n,o,a,s){try{var i=e[a](s),l=i.value}catch(e){return void t(e)}i.done?r(l):Promise.resolve(l).then(n,o)}function L(e){return function(){var r=this,t=arguments;return new Promise((function(n,o){var a=e.apply(r,t);function s(e){S(a,n,o,s,i,"next",e)}function i(e){S(a,n,o,s,i,"throw",e)}s(void 0)}))}}!function(e){e.SAVE_DRAWING="SAVE_DRAWING",e.SAVE_NEW_DRAWING="SAVE_NEW_DRAWING"}(E||(E={}));const T=t(416).browser;L(r().mark((function e(){var t,n,o,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=function(){return(a=L(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=document.createElement("style"),"\n  .excalidraw .dropdown-menu-button {\n    visibility: hidden !important;\n  }\n\n  .excalidraw .dropdown-menu .dropdown-menu-container {\n    visibility: hidden !important;\n  }\n\n  .excalidraw.excalidraw-modal-container {\n    visibility: hidden !important;\n  }\n",t.textContent="\n  .excalidraw .dropdown-menu-button {\n    visibility: hidden !important;\n  }\n\n  .excalidraw .dropdown-menu .dropdown-menu-container {\n    visibility: hidden !important;\n  }\n\n  .excalidraw.excalidraw-modal-container {\n    visibility: hidden !important;\n  }\n",document.head.appendChild(t),!!document.querySelector(".App-menu_top__left > div > div.dropdown-menu")){e.next=9;break}return document.querySelector(".App-menu_top__left > div > button").click(),e.next=9,new Promise((e=>setTimeout(e,10)));case 9:return document.querySelector(".App-menu_top__left > div > div.dropdown-menu > div > button[data-testid='clear-canvas-button']").click(),e.next=12,new Promise((e=>setTimeout(e,10)));case 12:document.querySelector("button.Dialog__action-button.Dialog__action-button--danger").click(),c.debug("State cleaned using the Excalidraw UI");case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)},o=function(){return a.apply(this,arguments)},!(t=localStorage.getItem(d))){e.next=10;break}return e.next=6,v();case 6:return n=e.sent,e.next=9,T.runtime.sendMessage({type:E.SAVE_DRAWING,payload:{id:t,excalidraw:n.excalidraw,excalidrawState:n.excalidrawState,versionFiles:n.versionFiles,versionDataState:n.versionDataState,imageBase64:n.imageBase64,viewBackgroundColor:n.viewBackgroundColor}});case 9:localStorage.removeItem(d);case 10:return e.prev=10,e.next=13,o();case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(10),c.debug("Error clearing state with Excalidraw UI",e.t0);case 18:window.addEventListener("beforeunload",(()=>{localStorage.removeItem("excalidraw"),localStorage.removeItem("excalidraw-state"),localStorage.removeItem("version-files"),localStorage.removeItem("version-dataState")})),location.reload();case 20:case"end":return e.stop()}}),e,null,[[10,15]])})))()})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoianMvZXhlY3V0ZS1zY3JpcHRzL25ld0RyYXdpbmcuYnVuZGxlLmpzIiwibWFwcGluZ3MiOiIyQkFBQUEsRUFBT0MsUUFBVSxFQUFqQixJLHNCQ0FBLFNBS0MsU0FBVUMsR0FDVixhQUdBLElBTUlDLEVBTkFDLEVBQVMsQ0FBRSxFQUdmQSxFQUFPQyxRQUFVLFFBTWpCLElBQUlDLEVBQTZCLENBQUMsRUFHOUJDLEVBQU8sU0FBU0MsRUFBT0MsR0FDMUIsT0FBTyxXQUNOLE9BQU9BLEVBQUtDLE1BQU1GLEVBQU9HLFVBQzFCLENBQ0QsRUFHSUMsRUFBUSxXQUNYLElBQXdDQyxFQUFLQyxFQUF6Q0MsRUFBT0osVUFBV0ssRUFBU0QsRUFBSyxHQUNwQyxJQUFLRCxFQUFJLEVBQUdBLEVBQUlDLEVBQUtFLE9BQVFILElBQzVCLElBQUtELEtBQU9FLEVBQUtELEtBQ1ZELEtBQU9HLElBQVdELEVBQUtELEdBQUdJLGVBQWVMLEtBQzlDRyxFQUFPSCxHQUFPRSxFQUFLRCxHQUFHRCxJQUl6QixPQUFPRyxDQUNSLEVBR0lHLEVBQWlCLFNBQVNDLEVBQU9DLEdBQ3BDLE1BQU8sQ0FBRUQsTUFBT0EsRUFBT0MsS0FBTUEsRUFDOUIsRUFHQWpCLEVBQU9rQixNQUFRSCxFQUFlLEVBQUcsU0FDakNmLEVBQU9tQixNQUFRSixFQUFlLEVBQUcsU0FDakNmLEVBQU9vQixLQUFPTCxFQUFlLEVBQUcsUUFDaENmLEVBQU9xQixLQUFPTixFQUFlLEVBQUcsUUFDaENmLEVBQU9zQixLQUFPUCxFQUFlLEVBQUcsUUFDaENmLEVBQU91QixNQUFRUixFQUFlLEVBQUcsU0FDakNmLEVBQU93QixJQUFNVCxFQUFlLEdBQUksT0FJaEMsSUFBSVUsRUFBbUIsU0FBU0MsR0FDL0JDLEtBQUtDLFFBQVVGLEVBQ2ZDLEtBQUtFLFNBQVNILEVBQWVJLGFBQzdCSCxLQUFLSSxJQUFNSixLQUFLSyxJQUNqQixFQUVBUCxFQUFpQlEsVUFBWSxDQUU1QkosU0FBVSxTQUFVSyxHQUVmQSxHQUFZLFVBQVdBLElB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QUMvQkMsaUJBQWtCZ0MsRUFBaUJoQyxpQkFDbkNLLFlBQWEyQixFQUFpQjNCLFlBQzlCQyxvQkFBcUIwQixFQUFpQjFCLHVCQWhCL0MsT0FxQkdXLGFBQWFrQixXQUFXbkQsR0FyQjNCLG1DQThFU3FDLElBOUVULDJEQWdGR2pELEVBQVE3UixNQUFNLDBDQUFkLE1BaEZILFFBb0ZDc1UsT0FBT3VCLGlCQUFpQixnQkFBZ0IsS0FDdENuQixhQUFha0IsV0FBVyxjQUN4QmxCLGFBQWFrQixXQUFXLG9CQUN4QmxCLGFBQWFrQixXQUFXLGlCQUN4QmxCLGFBQWFrQixXQUFXLG9CQUF4QixJQUlGRSxTQUFTQyxTQTVGViwwREFBRCxFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL3JlZ2VuZXJhdG9yL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9qcy1sb2dnZXIvc3JjL2xvZ2dlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy93ZWJleHRlbnNpb24tcG9seWZpbGwtdHMvbGliL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy93ZWJleHRlbnNpb24tcG9seWZpbGwtdHMvbm9kZV9tb2R1bGVzL3dlYmV4dGVuc2lvbi1wb2x5ZmlsbC9kaXN0L2Jyb3dzZXItcG9seWZpbGwuanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9pZGIta2V5dmFsL2Rpc3QvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpYi9sb2dnZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpYi91dGlscy9ibG9iLXRvLWJhc2U2NC51dGlsLnRzIiwid2VicGFjazovLy8uL3NyYy9saWIvY29uc3RhbnRzLnRzIiwid2VicGFjazovLy8uL3NyYy9saWIvdXRpbHMvY2FsY3VsYXRlLW5ldy1kaW1lbnNpb25zLnV0aWwudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NvbnRlbnRTY3JpcHQvY29udGVudC1zY3JpcHQudXRpbHMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbnN0YW50cy9tZXNzYWdlLnR5cGVzLnRzIiwid2VicGFjazovLy8uL3NyYy9leGVjdXRlLXNjcmlwdHMvbmV3RHJhd2luZy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJyZWdlbmVyYXRvci1ydW50aW1lXCIpO1xuIiwiLyohXHJcbiAqIGpzLWxvZ2dlciAtIGh0dHA6Ly9naXRodWIuY29tL2pvbm55cmVldmVzL2pzLWxvZ2dlclxyXG4gKiBKb25ueSBSZWV2ZXMsIGh0dHA6Ly9qb25ueXJlZXZlcy5jby51ay9cclxuICoganMtbG9nZ2VyIG1heSBiZSBmcmVlbHkgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxyXG4gKi9cclxuKGZ1bmN0aW9uIChnbG9iYWwpIHtcclxuXHRcInVzZSBzdHJpY3RcIjtcclxuXHJcblx0Ly8gVG9wIGxldmVsIG1vZHVsZSBmb3IgdGhlIGdsb2JhbCwgc3RhdGljIGxvZ2dlciBpbnN0YW5jZS5cclxuXHR2YXIgTG9nZ2VyID0geyB9O1xyXG5cclxuXHQvLyBGb3IgdGhvc2UgdGhhdCBhcmUgYXQgaG9tZSB0aGF0IGFyZSBrZWVwaW5nIHNjb3JlLlxyXG5cdExvZ2dlci5WRVJTSU9OID0gXCIxLjYuMVwiO1xyXG5cclxuXHQvLyBGdW5jdGlvbiB3aGljaCBoYW5kbGVzIGFsbCBpbmNvbWluZyBsb2cgbWVzc2FnZXMuXHJcblx0dmFyIGxvZ0hhbmRsZXI7XHJcblxyXG5cdC8vIE1hcCBvZiBDb250ZXh0dWFsTG9nZ2VyIGluc3RhbmNlcyBieSBuYW1lOyB1c2VkIGJ5IExvZ2dlci5nZXQoKSB0byByZXR1cm4gdGhlIHNhbWUgbmFtZWQgaW5zdGFuY2UuXHJcblx0dmFyIGNvbnRleHR1YWxMb2dnZXJzQnlOYW1lTWFwID0ge307XHJcblxyXG5cdC8vIFBvbHlmaWxsIGZvciBFUzUncyBGdW5jdGlvbi5iaW5kLlxyXG5cdHZhciBiaW5kID0gZnVuY3Rpb24oc2NvcGUsIGZ1bmMpIHtcclxuXHRcdHJldHVybiBmdW5jdGlvbigpIHtcclxuXHRcdFx0cmV0dXJuIGZ1bmMuYXBwbHkoc2NvcGUsIGFyZ3VtZW50cyk7XHJcblx0XHR9O1xyXG5cdH07XHJcblxyXG5cdC8vIFN1cGVyIGV4Y2l0aW5nIG9iamVjdCBtZXJnZXItbWF0cm9uIDkwMDAgYWRkaW5nIGFub3RoZXIgMTAwIGJ5dGVzIHRvIHlvdXIgZG93bmxvYWQuXHJcblx0dmFyIG1lcmdlID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0dmFyIGFyZ3MgPSBhcmd1bWVudHMsIHRhcmdldCA9IGFyZ3NbMF0sIGtleSwgaTtcclxuXHRcdGZvciAoaSA9IDE7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdGZvciAoa2V5IGluIGFyZ3NbaV0pIHtcclxuXHRcdFx0XHRpZiAoIShrZXkgaW4gdGFyZ2V0KSAmJiBhcmdzW2ldLmhhc093blByb3BlcnR5KGtleSkpIHtcclxuXHRcdFx0XHRcdHRhcmdldFtrZXldID0gYXJnc1tpXVtrZXldO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHRhcmdldDtcclxuXHR9O1xyXG5cclxuXHQvLyBIZWxwZXIgdG8gZGVmaW5lIGEgbG9nZ2luZyBsZXZlbCBvYmplY3Q7IGhlbHBzIHdpdGggb3B0aW1pc2F0aW9uLlxyXG5cdHZhciBkZWZpbmVMb2dMZXZlbCA9IGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XHJcblx0XHRyZXR1cm4geyB2YWx1ZTogdmFsdWUsIG5hbWU6IG5hbWUgfTtcclxuXHR9O1xyXG5cclxuXHQvLyBQcmVkZWZpbmVkIGxvZ2dpbmcgbGV2ZWxzLlxyXG5cdExvZ2dlci5UUkFDRSA9IGRlZmluZUxvZ0xldmVsKDEsICdUUkFDRScpO1xyXG5cdExvZ2dlci5ERUJVRyA9IGRlZmluZUxvZ0xldmVsKDIsICdERUJVRycpO1xyXG5cdExvZ2dlci5JTkZPID0gZGVmaW5lTG9nTGV2ZWwoMywgJ0lORk8nKTtcclxuXHRMb2dnZXIuVElNRSA9IGRlZmluZUxvZ0xldmVsKDQsICdUSU1FJyk7XHJcblx0TG9nZ2VyLldBUk4gPSBkZWZpbmVMb2dMZXZlbCg1LCAnV0FSTicpO1xyXG5cdExvZ2dlci5FUlJPUiA9IGRlZmluZUxvZ0xldmVsKDgsICdFUlJPUicpO1xyXG5cdExvZ2dlci5PRkYgPSBkZWZpbmVMb2dMZXZlbCg5OSwgJ09GRicpO1xyXG5cclxuXHQvLyBJbm5lciBjbGFzcyB3aGljaCBwZXJmb3JtcyB0aGUgYnVsayBvZiB0aGUgd29yazsgQ29udGV4dHVhbExvZ2dlciBpbnN0YW5jZXMgY2FuIGJlIGNvbmZpZ3VyZWQgaW5kZXBlbmRlbnRseVxyXG5cdC8vIG9mIGVhY2ggb3RoZXIuXHJcblx0dmFyIENvbnRleHR1YWxMb2dnZXIgPSBmdW5jdGlvbihkZWZhdWx0Q29udGV4dCkge1xyXG5cdFx0dGhpcy5jb250ZXh0ID0gZGVmYXVsdENvbnRleHQ7XHJcblx0XHR0aGlzLnNldExldmVsKGRlZmF1bHRDb250ZXh0LmZpbHRlckxldmVsKTtcclxuXHRcdHRoaXMubG9nID0gdGhpcy5pbmZvOyAgLy8gQ29udmVuaWVuY2UgYWxpYXMuXHJcblx0fTtcclxuXHJcblx0Q29udGV4dHVhbExvZ2dlci5wcm90b3R5cGUgPSB7XHJcblx0XHQvLyBDaGFuZ2VzIHRoZSBjdXJyZW50IGxvZ2dpbmcgbGV2ZWwgZm9yIHRoZSBsb2dnaW5nIGluc3RhbmNlLlxyXG5cdFx0c2V0TGV2ZWw6IGZ1bmN0aW9uIChuZXdMZXZlbCkge1xyXG5cdFx0XHQvLyBFbnN1cmUgdGhlIHN1cHBsaWVkIExldmVsIG9iamVjdCBsb29rcyB2YWxpZC5cclxuXHRcdFx0aWYgKG5ld0xldmVsICYmIFwidmFsdWVcIiBpbiBuZXdMZXZlbCkge1xyXG5cdFx0XHRcdHRoaXMuY29udGV4dC5maWx0ZXJMZXZlbCA9IG5ld0xldmVsO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHQvLyBHZXRzIHRoZSBjdXJyZW50IGxvZ2dpbmcgbGV2ZWwgZm9yIHRoZSBsb2dnaW5nIGluc3RhbmNlXHJcblx0XHRnZXRMZXZlbDogZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5jb250ZXh0LmZpbHRlckxldmVsO1xyXG5cdFx0fSxcclxuXHJcblx0XHQvLyBJcyB0aGUgbG9nZ2VyIGNvbmZpZ3VyZWQgdG8gb3V0cHV0IG1lc3NhZ2VzIGF0IHRoZSBzdXBwbGllZCBsZXZlbD9cclxuXHRcdGVuYWJsZWRGb3I6IGZ1bmN0aW9uIChsdmwpIHtcclxuXHRcdFx0dmFyIGZpbHRlckxldmVsID0gdGhpcy5jb250ZXh0LmZpbHRlckxldmVsO1xyXG5cdFx0XHRyZXR1cm4gbHZsLnZhbHVlID49IGZpbHRlckxldmVsLnZhbHVlO1xyXG5cdFx0fSxcclxuXHJcblx0XHR0cmFjZTogZnVuY3Rpb24gKCkge1xyXG5cdFx0XHR0aGlzLmludm9rZShMb2dnZXIuVFJBQ0UsIGFyZ3VtZW50cyk7XHJcblx0XHR9LFxyXG5cclxuXHRcdGRlYnVnOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdHRoaXMuaW52b2tlKExvZ2dlci5ERUJVRywgYXJndW1lbnRzKTtcclxuXHRcdH0sXHJcblxyXG5cdFx0aW5mbzogZnVuY3Rpb24gKCkge1xyXG5cdFx0XHR0aGlzLmludm9rZShMb2dnZXIuSU5GTywgYXJndW1lbnRzKTtcclxuXHRcdH0sXHJcblxyXG5cdFx0d2FybjogZnVuY3Rpb24gKCkge1xyXG5cdFx0XHR0aGlzLmludm9rZShMb2dnZXIuV0FSTiwgYXJndW1lbnRzKTtcclxuXHRcdH0sXHJcblxyXG5cdFx0ZXJyb3I6IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0dGhpcy5pbnZva2UoTG9nZ2VyLkVSUk9SLCBhcmd1bWVudHMpO1xyXG5cdFx0fSxcclxuXHJcblx0XHR0aW1lOiBmdW5jdGlvbiAobGFiZWwpIHtcclxuXHRcdFx0aWYgKHR5cGVvZiBsYWJlbCA9PT0gJ3N0cmluZycgJiYgbGFiZWwubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRcdHRoaXMuaW52b2tlKExvZ2dlci5USU1FLCBbIGxhYmVsLCAnc3RhcnQnIF0pO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cclxuXHRcdHRpbWVFbmQ6IGZ1bmN0aW9uIChsYWJlbCkge1xyXG5cdFx0XHRpZiAodHlwZW9mIGxhYmVsID09PSAnc3RyaW5nJyAmJiBsYWJlbC5sZW5ndGggPiAwKSB7XHJcblx0XHRcdFx0dGhpcy5pbnZva2UoTG9nZ2VyLlRJTUUsIFsgbGFiZWwsICdlbmQnIF0pO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cclxuXHRcdC8vIEludm9rZXMgdGhlIGxvZ2dlciBjYWxsYmFjayBpZiBpdCdzIG5vdCBiZWluZyBmaWx0ZXJlZC5cclxuXHRcdGludm9rZTogZnVuY3Rpb24gKGxldmVsLCBtc2dBcmdzKSB7XHJcblx0XHRcdGlmIChsb2dIYW5kbGVyICYmIHRoaXMuZW5hYmxlZEZvcihsZXZlbCkpIHtcclxuXHRcdFx0XHRsb2dIYW5kbGVyKG1zZ0FyZ3MsIG1lcmdlKHsgbGV2ZWw6IGxldmVsIH0sIHRoaXMuY29udGV4dCkpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0Ly8gUHJvdGVjdGVkIGluc3RhbmNlIHdoaWNoIGFsbCBjYWxscyB0byB0aGUgdG8gbGV2ZWwgYExvZ2dlcmAgbW9kdWxlIHdpbGwgYmUgcm91dGVkIHRocm91Z2guXHJcblx0dmFyIGdsb2JhbExvZ2dlciA9IG5ldyBDb250ZXh0dWFsTG9nZ2VyKHsgZmlsdGVyTGV2ZWw6IExvZ2dlci5PRkYgfSk7XHJcblxyXG5cdC8vIENvbmZpZ3VyZSB0aGUgZ2xvYmFsIExvZ2dlciBpbnN0YW5jZS5cclxuXHQoZnVuY3Rpb24oKSB7XHJcblx0XHQvLyBTaG9ydGN1dCBmb3Igb3B0aW1pc2Vycy5cclxuXHRcdHZhciBMID0gTG9nZ2VyO1xyXG5cclxuXHRcdEwuZW5hYmxlZEZvciA9IGJpbmQoZ2xvYmFsTG9nZ2VyLCBnbG9iYWxMb2dnZXIuZW5hYmxlZEZvcik7XHJcblx0XHRMLnRyYWNlID0gYmluZChnbG9iYWxMb2dnZXIsIGdsb2JhbExvZ2dlci50cmFjZSk7XHJcblx0XHRMLmRlYnVnID0gYmluZChnbG9iYWxMb2dnZXIsIGdsb2JhbExvZ2dlci5kZWJ1Zyk7XHJcblx0XHRMLnRpbWUgPSBiaW5kKGdsb2JhbExvZ2dlciwgZ2xvYmFsTG9nZ2VyLnRpbWUpO1xyXG5cdFx0TC50aW1lRW5kID0gYmluZChnbG9iYWxMb2dnZXIsIGdsb2JhbExvZ2dlci50aW1lRW5kKTtcclxuXHRcdEwuaW5mbyA9IGJpbmQoZ2xvYmFsTG9nZ2VyLCBnbG9iYWxMb2dnZXIuaW5mbyk7XHJcblx0XHRMLndhcm4gPSBiaW5kKGdsb2JhbExvZ2dlciwgZ2xvYmFsTG9nZ2VyLndhcm4pO1xyXG5cdFx0TC5lcnJvciA9IGJpbmQoZ2xvYmFsTG9nZ2VyLCBnbG9iYWxMb2dnZXIuZXJyb3IpO1xyXG5cclxuXHRcdC8vIERvbid0IGZvcmdldCB0aGUgY29udmVuaWVuY2UgYWxpYXMhXHJcblx0XHRMLmxvZyA9IEwuaW5mbztcclxuXHR9KCkpO1xyXG5cclxuXHQvLyBTZXQgdGhlIGdsb2JhbCBsb2dnaW5nIGhhbmRsZXIuICBUaGUgc3VwcGxpZWQgZnVuY3Rpb24gc2hvdWxkIGV4cGVjdCB0d28gYXJndW1lbnRzLCB0aGUgZmlyc3QgYmVpbmcgYW4gYXJndW1lbnRzXHJcblx0Ly8gb2JqZWN0IHdpdGggdGhlIHN1cHBsaWVkIGxvZyBtZXNzYWdlcyBhbmQgdGhlIHNlY29uZCBiZWluZyBhIGNvbnRleHQgb2JqZWN0IHdoaWNoIGNvbnRhaW5zIGEgaGFzaCBvZiBzdGF0ZWZ1bFxyXG5cdC8vIHBhcmFtZXRlcnMgd2hpY2ggdGhlIGxvZ2dpbmcgZnVuY3Rpb24gY2FuIGNvbnN1bWUuXHJcblx0TG9nZ2VyLnNldEhhbmRsZXIgPSBmdW5jdGlvbiAoZnVuYykge1xyXG5cdFx0bG9nSGFuZGxlciA9IGZ1bmM7XHJcblx0fTtcclxuXHJcblx0Ly8gU2V0cyB0aGUgZ2xvYmFsIGxvZ2dpbmcgZmlsdGVyIGxldmVsIHdoaWNoIGFwcGxpZXMgdG8gKmFsbCogcHJldmlvdXNseSByZWdpc3RlcmVkLCBhbmQgZnV0dXJlIExvZ2dlciBpbnN0YW5jZXMuXHJcblx0Ly8gKG5vdGUgdGhhdCBuYW1lZCBsb2dnZXJzIChyZXRyaWV2ZWQgdmlhIGBMb2dnZXIuZ2V0YCkgY2FuIGJlIGNvbmZpZ3VyZWQgaW5kZXBlbmRlbnRseSBpZiByZXF1aXJlZCkuXHJcblx0TG9nZ2VyLnNldExldmVsID0gZnVuY3Rpb24obGV2ZWwpIHtcclxuXHRcdC8vIFNldCB0aGUgZ2xvYmFsTG9nZ2VyJ3MgbGV2ZWwuXHJcblx0XHRnbG9iYWxMb2dnZXIuc2V0TGV2ZWwobGV2ZWwpO1xyXG5cclxuXHRcdC8vIEFwcGx5IHRoaXMgbGV2ZWwgdG8gYWxsIHJlZ2lzdGVyZWQgY29udGV4dHVhbCBsb2dnZXJzLlxyXG5cdFx0Zm9yICh2YXIga2V5IGluIGNvbnRleHR1YWxMb2dnZXJzQnlOYW1lTWFwKSB7XHJcblx0XHRcdGlmIChjb250ZXh0dWFsTG9nZ2Vyc0J5TmFtZU1hcC5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcblx0XHRcdFx0Y29udGV4dHVhbExvZ2dlcnNCeU5hbWVNYXBba2V5XS5zZXRMZXZlbChsZXZlbCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHQvLyBHZXRzIHRoZSBnbG9iYWwgbG9nZ2luZyBmaWx0ZXIgbGV2ZWxcclxuXHRMb2dnZXIuZ2V0TGV2ZWwgPSBmdW5jdGlvbigpIHtcclxuXHRcdHJldHVybiBnbG9iYWxMb2dnZXIuZ2V0TGV2ZWwoKTtcclxuXHR9O1xyXG5cclxuXHQvLyBSZXRyaWV2ZSBhIENvbnRleHR1YWxMb2dnZXIgaW5zdGFuY2UuICBOb3RlIHRoYXQgbmFtZWQgbG9nZ2VycyBhdXRvbWF0aWNhbGx5IGluaGVyaXQgdGhlIGdsb2JhbCBsb2dnZXIncyBsZXZlbCxcclxuXHQvLyBkZWZhdWx0IGNvbnRleHQgYW5kIGxvZyBoYW5kbGVyLlxyXG5cdExvZ2dlci5nZXQgPSBmdW5jdGlvbiAobmFtZSkge1xyXG5cdFx0Ly8gQWxsIGxvZ2dlciBpbnN0YW5jZXMgYXJlIGNhY2hlZCBzbyB0aGV5IGNhbiBiZSBjb25maWd1cmVkIGFoZWFkIG9mIHVzZS5cclxuXHRcdHJldHVybiBjb250ZXh0dWFsTG9nZ2Vyc0J5TmFtZU1hcFtuYW1lXSB8fFxyXG5cdFx0XHQoY29udGV4dHVhbExvZ2dlcnNCeU5hbWVNYXBbbmFtZV0gPSBuZXcgQ29udGV4dHVhbExvZ2dlcihtZXJnZSh7IG5hbWU6IG5hbWUgfSwgZ2xvYmFsTG9nZ2VyLmNvbnRleHQpKSk7XHJcblx0fTtcclxuXHJcblx0Ly8gQ3JlYXRlRGVmYXVsdEhhbmRsZXIgcmV0dXJucyBhIGhhbmRsZXIgZnVuY3Rpb24gd2hpY2ggY2FuIGJlIHBhc3NlZCB0byBgTG9nZ2VyLnNldEhhbmRsZXIoKWAgd2hpY2ggd2lsbFxyXG5cdC8vIHdyaXRlIHRvIHRoZSB3aW5kb3cncyBjb25zb2xlIG9iamVjdCAoaWYgcHJlc2VudCk7IHRoZSBvcHRpb25hbCBvcHRpb25zIG9iamVjdCBjYW4gYmUgdXNlZCB0byBjdXN0b21pc2UgdGhlXHJcblx0Ly8gZm9ybWF0dGVyIHVzZWQgdG8gZm9ybWF0IGVhY2ggbG9nIG1lc3NhZ2UuXHJcblx0TG9nZ2VyLmNyZWF0ZURlZmF1bHRIYW5kbGVyID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcclxuXHRcdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xyXG5cclxuXHRcdG9wdGlvbnMuZm9ybWF0dGVyID0gb3B0aW9ucy5mb3JtYXR0ZXIgfHwgZnVuY3Rpb24gZGVmYXVsdE1lc3NhZ2VGb3JtYXR0ZXIobWVzc2FnZXMsIGNvbnRleHQpIHtcclxuXHRcdFx0Ly8gUHJlcGVuZCB0aGUgbG9nZ2VyJ3MgbmFtZSB0byB0aGUgbG9nIG1lc3NhZ2UgZm9yIGVhc3kgaWRlbnRpZmljYXRpb24uXHJcblx0XHRcdGlmIChjb250ZXh0Lm5hbWUpIHtcclxuXHRcdFx0XHRtZXNzYWdlcy51bnNoaWZ0KFwiW1wiICsgY29udGV4dC5uYW1lICsgXCJdXCIpO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdC8vIE1hcCBvZiB0aW1lc3RhbXBzIGJ5IHRpbWVyIGxhYmVscyB1c2VkIHRvIHRyYWNrIGAjdGltZWAgYW5kIGAjdGltZUVuZCgpYCBpbnZvY2F0aW9ucyBpbiBlbnZpcm9ubWVudHNcclxuXHRcdC8vIHRoYXQgZG9uJ3Qgb2ZmZXIgYSBuYXRpdmUgY29uc29sZSBtZXRob2QuXHJcblx0XHR2YXIgdGltZXJTdGFydFRpbWVCeUxhYmVsTWFwID0ge307XHJcblxyXG5cdFx0Ly8gU3VwcG9ydCBmb3IgSUU4KyAoYW5kIG90aGVyLCBzbGlnaHRseSBtb3JlIHNhbmUgZW52aXJvbm1lbnRzKVxyXG5cdFx0dmFyIGludm9rZUNvbnNvbGVNZXRob2QgPSBmdW5jdGlvbiAoaGRsciwgbWVzc2FnZXMpIHtcclxuXHRcdFx0RnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LmNhbGwoaGRsciwgY29uc29sZSwgbWVzc2FnZXMpO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvLyBDaGVjayBmb3IgdGhlIHByZXNlbmNlIG9mIGEgbG9nZ2VyLlxyXG5cdFx0aWYgKHR5cGVvZiBjb25zb2xlID09PSBcInVuZGVmaW5lZFwiKSB7XHJcblx0XHRcdHJldHVybiBmdW5jdGlvbiAoKSB7IC8qIG5vIGNvbnNvbGUgKi8gfTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gZnVuY3Rpb24obWVzc2FnZXMsIGNvbnRleHQpIHtcclxuXHRcdFx0Ly8gQ29udmVydCBhcmd1bWVudHMgb2JqZWN0IHRvIEFycmF5LlxyXG5cdFx0XHRtZXNzYWdlcyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKG1lc3NhZ2VzKTtcclxuXHJcblx0XHRcdHZhciBoZGxyID0gY29uc29sZS5sb2c7XHJcblx0XHRcdHZhciB0aW1lckxhYmVsO1xyXG5cclxuXHRcdFx0aWYgKGNvbnRleHQubGV2ZWwgPT09IExvZ2dlci5USU1FKSB7XHJcblx0XHRcdFx0dGltZXJMYWJlbCA9IChjb250ZXh0Lm5hbWUgPyAnWycgKyBjb250ZXh0Lm5hbWUgKyAnXSAnIDogJycpICsgbWVzc2FnZXNbMF07XHJcblxyXG5cdFx0XHRcdGlmIChtZXNzYWdlc1sxXSA9PT0gJ3N0YXJ0Jykge1xyXG5cdFx0XHRcdFx0aWYgKGNvbnNvbGUudGltZSkge1xyXG5cdFx0XHRcdFx0XHRjb25zb2xlLnRpbWUodGltZXJMYWJlbCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRcdFx0dGltZXJTdGFydFRpbWVCeUxhYmVsTWFwW3RpbWVyTGFiZWxdID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdFx0aWYgKGNvbnNvbGUudGltZUVuZCkge1xyXG5cdFx0XHRcdFx0XHRjb25zb2xlLnRpbWVFbmQodGltZXJMYWJlbCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRcdFx0aW52b2tlQ29uc29sZU1ldGhvZChoZGxyLCBbIHRpbWVyTGFiZWwgKyAnOiAnICtcclxuXHRcdFx0XHRcdFx0XHQobmV3IERhdGUoKS5nZXRUaW1lKCkgLSB0aW1lclN0YXJ0VGltZUJ5TGFiZWxNYXBbdGltZXJMYWJlbF0pICsgJ21zJyBdKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0Ly8gRGVsZWdhdGUgdGhyb3VnaCB0byBjdXN0b20gd2Fybi9lcnJvciBsb2dnZXJzIGlmIHByZXNlbnQgb24gdGhlIGNvbnNvbGUuXHJcblx0XHRcdFx0aWYgKGNvbnRleHQubGV2ZWwgPT09IExvZ2dlci5XQVJOICYmIGNvbnNvbGUud2Fybikge1xyXG5cdFx0XHRcdFx0aGRsciA9IGNvbnNvbGUud2FybjtcclxuXHRcdFx0XHR9IGVsc2UgaWYgKGNvbnRleHQubGV2ZWwgPT09IExvZ2dlci5FUlJPUiAmJiBjb25zb2xlLmVycm9yKSB7XHJcblx0XHRcdFx0XHRoZGxyID0gY29uc29sZS5lcnJvcjtcclxuXHRcdFx0XHR9IGVsc2UgaWYgKGNvbnRleHQubGV2ZWwgPT09IExvZ2dlci5JTkZPICYmIGNvbnNvbGUuaW5mbykge1xyXG5cdFx0XHRcdFx0aGRsciA9IGNvbnNvbGUuaW5mbztcclxuXHRcdFx0XHR9IGVsc2UgaWYgKGNvbnRleHQubGV2ZWwgPT09IExvZ2dlci5ERUJVRyAmJiBjb25zb2xlLmRlYnVnKSB7XHJcblx0XHRcdFx0XHRoZGxyID0gY29uc29sZS5kZWJ1ZztcclxuXHRcdFx0XHR9IGVsc2UgaWYgKGNvbnRleHQubGV2ZWwgPT09IExvZ2dlci5UUkFDRSAmJiBjb25zb2xlLnRyYWNlKSB7XHJcblx0XHRcdFx0XHRoZGxyID0gY29uc29sZS50cmFjZTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdG9wdGlvbnMuZm9ybWF0dGVyKG1lc3NhZ2VzLCBjb250ZXh0KTtcclxuXHRcdFx0XHRpbnZva2VDb25zb2xlTWV0aG9kKGhkbHIsIG1lc3NhZ2VzKTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHR9O1xyXG5cclxuXHQvLyBDb25maWd1cmUgYW5kIGV4YW1wbGUgYSBEZWZhdWx0IGltcGxlbWVudGF0aW9uIHdoaWNoIHdyaXRlcyB0byB0aGUgYHdpbmRvdy5jb25zb2xlYCAoaWYgcHJlc2VudCkuICBUaGVcclxuXHQvLyBgb3B0aW9uc2AgaGFzaCBjYW4gYmUgdXNlZCB0byBjb25maWd1cmUgdGhlIGRlZmF1bHQgbG9nTGV2ZWwgYW5kIHByb3ZpZGUgYSBjdXN0b20gbWVzc2FnZSBmb3JtYXR0ZXIuXHJcblx0TG9nZ2VyLnVzZURlZmF1bHRzID0gZnVuY3Rpb24ob3B0aW9ucykge1xyXG5cdFx0TG9nZ2VyLnNldExldmVsKG9wdGlvbnMgJiYgb3B0aW9ucy5kZWZhdWx0TGV2ZWwgfHwgTG9nZ2VyLkRFQlVHKTtcclxuXHRcdExvZ2dlci5zZXRIYW5kbGVyKExvZ2dlci5jcmVhdGVEZWZhdWx0SGFuZGxlcihvcHRpb25zKSk7XHJcblx0fTtcclxuXHJcblx0Ly8gQ3JlYXRlYSBhbiBhbGlhcyB0byB1c2VEZWZhdWx0cyB0byBhdm9pZCByZWFraW5nIGEgcmVhY3QtaG9va3MgcnVsZS5cclxuXHRMb2dnZXIuc2V0RGVmYXVsdHMgPSBMb2dnZXIudXNlRGVmYXVsdHM7XHJcblxyXG5cdC8vIEV4cG9ydCB0byBwb3B1bGFyIGVudmlyb25tZW50cyBib2lsZXJwbGF0ZS5cclxuXHRpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XHJcblx0XHRkZWZpbmUoTG9nZ2VyKTtcclxuXHR9XHJcblx0ZWxzZSBpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcclxuXHRcdG1vZHVsZS5leHBvcnRzID0gTG9nZ2VyO1xyXG5cdH1cclxuXHRlbHNlIHtcclxuXHRcdExvZ2dlci5fcHJldkxvZ2dlciA9IGdsb2JhbC5Mb2dnZXI7XHJcblxyXG5cdFx0TG9nZ2VyLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdGdsb2JhbC5Mb2dnZXIgPSBMb2dnZXIuX3ByZXZMb2dnZXI7XHJcblx0XHRcdHJldHVybiBMb2dnZXI7XHJcblx0XHR9O1xyXG5cclxuXHRcdGdsb2JhbC5Mb2dnZXIgPSBMb2dnZXI7XHJcblx0fVxyXG59KHRoaXMpKTtcclxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG52YXIgcnVudGltZSA9IChmdW5jdGlvbiAoZXhwb3J0cykge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgT3AgPSBPYmplY3QucHJvdG90eXBlO1xuICB2YXIgaGFzT3duID0gT3AuaGFzT3duUHJvcGVydHk7XG4gIHZhciB1bmRlZmluZWQ7IC8vIE1vcmUgY29tcHJlc3NpYmxlIHRoYW4gdm9pZCAwLlxuICB2YXIgJFN5bWJvbCA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiA/IFN5bWJvbCA6IHt9O1xuICB2YXIgaXRlcmF0b3JTeW1ib2wgPSAkU3ltYm9sLml0ZXJhdG9yIHx8IFwiQEBpdGVyYXRvclwiO1xuICB2YXIgYXN5bmNJdGVyYXRvclN5bWJvbCA9ICRTeW1ib2wuYXN5bmNJdGVyYXRvciB8fCBcIkBAYXN5bmNJdGVyYXRvclwiO1xuICB2YXIgdG9TdHJpbmdUYWdTeW1ib2wgPSAkU3ltYm9sLnRvU3RyaW5nVGFnIHx8IFwiQEB0b1N0cmluZ1RhZ1wiO1xuXG4gIGZ1bmN0aW9uIHdyYXAoaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QpIHtcbiAgICAvLyBJZiBvdXRlckZuIHByb3ZpZGVkIGFuZCBvdXRlckZuLnByb3RvdHlwZSBpcyBhIEdlbmVyYXRvciwgdGhlbiBvdXRlckZuLnByb3RvdHlwZSBpbnN0YW5jZW9mIEdlbmVyYXRvci5cbiAgICB2YXIgcHJvdG9HZW5lcmF0b3IgPSBvdXRlckZuICYmIG91dGVyRm4ucHJvdG90eXBlIGluc3RhbmNlb2YgR2VuZXJhdG9yID8gb3V0ZXJGbiA6IEdlbmVyYXRvcjtcbiAgICB2YXIgZ2VuZXJhdG9yID0gT2JqZWN0LmNyZWF0ZShwcm90b0dlbmVyYXRvci5wcm90b3R5cGUpO1xuICAgIHZhciBjb250ZXh0ID0gbmV3IENvbnRleHQodHJ5TG9jc0xpc3QgfHwgW10pO1xuXG4gICAgLy8gVGhlIC5faW52b2tlIG1ldGhvZCB1bmlmaWVzIHRoZSBpbXBsZW1lbnRhdGlvbnMgb2YgdGhlIC5uZXh0LFxuICAgIC8vIC50aHJvdywgYW5kIC5yZXR1cm4gbWV0aG9kcy5cbiAgICBnZW5lcmF0b3IuX2ludm9rZSA9IG1ha2VJbnZva2VNZXRob2QoaW5uZXJGbiwgc2VsZiwgY29udGV4dCk7XG5cbiAgICByZXR1cm4gZ2VuZXJhdG9yO1xuICB9XG4gIGV4cG9ydHMud3JhcCA9IHdyYXA7XG5cbiAgLy8gVHJ5L2NhdGNoIGhlbHBlciB0byBtaW5pbWl6ZSBkZW9wdGltaXphdGlvbnMuIFJldHVybnMgYSBjb21wbGV0aW9uXG4gIC8vIHJlY29yZCBsaWtlIGNvbnRleHQudHJ5RW50cmllc1tpXS5jb21wbGV0aW9uLiBUaGlzIGludGVyZmFjZSBjb3VsZFxuICAvLyBoYXZlIGJlZW4gKGFuZCB3YXMgcHJldmlvdXNseSkgZGVzaWduZWQgdG8gdGFrZSBhIGNsb3N1cmUgdG8gYmVcbiAgLy8gaW52b2tlZCB3aXRob3V0IGFyZ3VtZW50cywgYnV0IGluIGFsbCB0aGUgY2FzZXMgd2UgY2FyZSBhYm91dCB3ZVxuICAvLyBhbHJlYWR5IGhhdmUgYW4gZXhpc3RpbmcgbWV0aG9kIHdlIHdhbnQgdG8gY2FsbCwgc28gdGhlcmUncyBubyBuZWVkXG4gIC8vIHRvIGNyZWF0ZSBhIG5ldyBmdW5jdGlvbiBvYmplY3QuIFdlIGNhbiBldmVuIGdldCBhd2F5IHdpdGggYXNzdW1pbmdcbiAgLy8gdGhlIG1ldGhvZCB0YWtlcyBleGFjdGx5IG9uZSBhcmd1bWVudCwgc2luY2UgdGhhdCBoYXBwZW5zIHRvIGJlIHRydWVcbiAgLy8gaW4gZXZlcnkgY2FzZSwgc28gd2UgZG9uJ3QgaGF2ZSB0byB0b3VjaCB0aGUgYXJndW1lbnRzIG9iamVjdC4gVGhlXG4gIC8vIG9ubHkgYWRkaXRpb25hbCBhbGxvY2F0aW9uIHJlcXVpcmVkIGlzIHRoZSBjb21wbGV0aW9uIHJlY29yZCwgd2hpY2hcbiAgLy8gaGFzIGEgc3RhYmxlIHNoYXBlIGFuZCBzbyBob3BlZnVsbHkgc2hvdWxkIGJlIGNoZWFwIHRvIGFsbG9jYXRlLlxuICBmdW5jdGlvbiB0cnlDYXRjaChmbiwgb2JqLCBhcmcpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIHsgdHlwZTogXCJub3JtYWxcIiwgYXJnOiBmbi5jYWxsKG9iaiwgYXJnKSB9O1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgcmV0dXJuIHsgdHlwZTogXCJ0aHJvd1wiLCBhcmc6IGVyciB9O1xuICAgIH1cbiAgfVxuXG4gIHZhciBHZW5TdGF0ZVN1c3BlbmRlZFN0YXJ0ID0gXCJzdXNwZW5kZWRTdGFydFwiO1xuICB2YXIgR2VuU3RhdGVTdXNwZW5kZWRZaWVsZCA9IFwic3VzcGVuZGVkWWllbGRcIjtcbiAgdmFyIEdlblN0YXRlRXhlY3V0aW5nID0gXCJleGVjdXRpbmdcIjtcbiAgdmFyIEdlblN0YXRlQ29tcGxldGVkID0gXCJjb21wbGV0ZWRcIjtcblxuICAvLyBSZXR1cm5pbmcgdGhpcyBvYmplY3QgZnJvbSB0aGUgaW5uZXJGbiBoYXMgdGhlIHNhbWUgZWZmZWN0IGFzXG4gIC8vIGJyZWFraW5nIG91dCBvZiB0aGUgZGlzcGF0Y2ggc3dpdGNoIHN0YXRlbWVudC5cbiAgdmFyIENvbnRpbnVlU2VudGluZWwgPSB7fTtcblxuICAvLyBEdW1teSBjb25zdHJ1Y3RvciBmdW5jdGlvbnMgdGhhdCB3ZSB1c2UgYXMgdGhlIC5jb25zdHJ1Y3RvciBhbmRcbiAgLy8gLmNvbnN0cnVjdG9yLnByb3RvdHlwZSBwcm9wZXJ0aWVzIGZvciBmdW5jdGlvbnMgdGhhdCByZXR1cm4gR2VuZXJhdG9yXG4gIC8vIG9iamVjdHMuIEZvciBmdWxsIHNwZWMgY29tcGxpYW5jZSwgeW91IG1heSB3aXNoIHRvIGNvbmZpZ3VyZSB5b3VyXG4gIC8vIG1pbmlmaWVyIG5vdCB0byBtYW5nbGUgdGhlIG5hbWVzIG9mIHRoZXNlIHR3byBmdW5jdGlvbnMuXG4gIGZ1bmN0aW9uIEdlbmVyYXRvcigpIHt9XG4gIGZ1bmN0aW9uIEdlbmVyYXRvckZ1bmN0aW9uKCkge31cbiAgZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUoKSB7fVxuXG4gIC8vIFRoaXMgaXMgYSBwb2x5ZmlsbCBmb3IgJUl0ZXJhdG9yUHJvdG90eXBlJSBmb3IgZW52aXJvbm1lbnRzIHRoYXRcbiAgLy8gZG9uJ3QgbmF0aXZlbHkgc3VwcG9ydCBpdC5cbiAgdmFyIEl0ZXJhdG9yUHJvdG90eXBlID0ge307XG4gIEl0ZXJhdG9yUHJvdG90eXBlW2l0ZXJhdG9yU3ltYm9sXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICB2YXIgZ2V0UHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Y7XG4gIHZhciBOYXRpdmVJdGVyYXRvclByb3RvdHlwZSA9IGdldFByb3RvICYmIGdldFByb3RvKGdldFByb3RvKHZhbHVlcyhbXSkpKTtcbiAgaWYgKE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlICYmXG4gICAgICBOYXRpdmVJdGVyYXRvclByb3RvdHlwZSAhPT0gT3AgJiZcbiAgICAgIGhhc093bi5jYWxsKE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlLCBpdGVyYXRvclN5bWJvbCkpIHtcbiAgICAvLyBUaGlzIGVudmlyb25tZW50IGhhcyBhIG5hdGl2ZSAlSXRlcmF0b3JQcm90b3R5cGUlOyB1c2UgaXQgaW5zdGVhZFxuICAgIC8vIG9mIHRoZSBwb2x5ZmlsbC5cbiAgICBJdGVyYXRvclByb3RvdHlwZSA9IE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlO1xuICB9XG5cbiAgdmFyIEdwID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUucHJvdG90eXBlID1cbiAgICBHZW5lcmF0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShJdGVyYXRvclByb3RvdHlwZSk7XG4gIEdlbmVyYXRvckZ1bmN0aW9uLnByb3RvdHlwZSA9IEdwLmNvbnN0cnVjdG9yID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGU7XG4gIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLmNvbnN0cnVjdG9yID0gR2VuZXJhdG9yRnVuY3Rpb247XG4gIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlW3RvU3RyaW5nVGFnU3ltYm9sXSA9XG4gICAgR2VuZXJhdG9yRnVuY3Rpb24uZGlzcGxheU5hbWUgPSBcIkdlbmVyYXRvckZ1bmN0aW9uXCI7XG5cbiAgLy8gSGVscGVyIGZvciBkZWZpbmluZyB0aGUgLm5leHQsIC50aHJvdywgYW5kIC5yZXR1cm4gbWV0aG9kcyBvZiB0aGVcbiAgLy8gSXRlcmF0b3IgaW50ZXJmYWNlIGluIHRlcm1zIG9mIGEgc2luZ2xlIC5faW52b2tlIG1ldGhvZC5cbiAgZnVuY3Rpb24gZGVmaW5lSXRlcmF0b3JNZXRob2RzKHByb3RvdHlwZSkge1xuICAgIFtcIm5leHRcIiwgXCJ0aHJvd1wiLCBcInJldHVyblwiXS5mb3JFYWNoKGZ1bmN0aW9uKG1ldGhvZCkge1xuICAgICAgcHJvdG90eXBlW21ldGhvZF0gPSBmdW5jdGlvbihhcmcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ludm9rZShtZXRob2QsIGFyZyk7XG4gICAgICB9O1xuICAgIH0pO1xuICB9XG5cbiAgZXhwb3J0cy5pc0dlbmVyYXRvckZ1bmN0aW9uID0gZnVuY3Rpb24oZ2VuRnVuKSB7XG4gICAgdmFyIGN0b3IgPSB0eXBlb2YgZ2VuRnVuID09PSBcImZ1bmN0aW9uXCIgJiYgZ2VuRnVuLmNvbnN0cnVjdG9yO1xuICAgIHJldHVybiBjdG9yXG4gICAgICA/IGN0b3IgPT09IEdlbmVyYXRvckZ1bmN0aW9uIHx8XG4gICAgICAgIC8vIEZvciB0aGUgbmF0aXZlIEdlbmVyYXRvckZ1bmN0aW9uIGNvbnN0cnVjdG9yLCB0aGUgYmVzdCB3ZSBjYW5cbiAgICAgICAgLy8gZG8gaXMgdG8gY2hlY2sgaXRzIC5uYW1lIHByb3BlcnR5LlxuICAgICAgICAoY3Rvci5kaXNwbGF5TmFtZSB8fCBjdG9yLm5hbWUpID09PSBcIkdlbmVyYXRvckZ1bmN0aW9uXCJcbiAgICAgIDogZmFsc2U7XG4gIH07XG5cbiAgZXhwb3J0cy5tYXJrID0gZnVuY3Rpb24oZ2VuRnVuKSB7XG4gICAgaWYgKE9iamVjdC5zZXRQcm90b3R5cGVPZikge1xuICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKGdlbkZ1biwgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBnZW5GdW4uX19wcm90b19fID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGU7XG4gICAgICBpZiAoISh0b1N0cmluZ1RhZ1N5bWJvbCBpbiBnZW5GdW4pKSB7XG4gICAgICAgIGdlbkZ1blt0b1N0cmluZ1RhZ1N5bWJvbF0gPSBcIkdlbmVyYXRvckZ1bmN0aW9uXCI7XG4gICAgICB9XG4gICAgfVxuICAgIGdlbkZ1bi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEdwKTtcbiAgICByZXR1cm4gZ2VuRnVuO1xuICB9O1xuXG4gIC8vIFdpdGhpbiB0aGUgYm9keSBvZiBhbnkgYXN5bmMgZnVuY3Rpb24sIGBhd2FpdCB4YCBpcyB0cmFuc2Zvcm1lZCB0b1xuICAvLyBgeWllbGQgcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKHgpYCwgc28gdGhhdCB0aGUgcnVudGltZSBjYW4gdGVzdFxuICAvLyBgaGFzT3duLmNhbGwodmFsdWUsIFwiX19hd2FpdFwiKWAgdG8gZGV0ZXJtaW5lIGlmIHRoZSB5aWVsZGVkIHZhbHVlIGlzXG4gIC8vIG1lYW50IHRvIGJlIGF3YWl0ZWQuXG4gIGV4cG9ydHMuYXdyYXAgPSBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4geyBfX2F3YWl0OiBhcmcgfTtcbiAgfTtcblxuICBmdW5jdGlvbiBBc3luY0l0ZXJhdG9yKGdlbmVyYXRvciwgUHJvbWlzZUltcGwpIHtcbiAgICBmdW5jdGlvbiBpbnZva2UobWV0aG9kLCBhcmcsIHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgdmFyIHJlY29yZCA9IHRyeUNhdGNoKGdlbmVyYXRvclttZXRob2RdLCBnZW5lcmF0b3IsIGFyZyk7XG4gICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICByZWplY3QocmVjb3JkLmFyZyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgcmVzdWx0ID0gcmVjb3JkLmFyZztcbiAgICAgICAgdmFyIHZhbHVlID0gcmVzdWx0LnZhbHVlO1xuICAgICAgICBpZiAodmFsdWUgJiZcbiAgICAgICAgICAgIHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJlxuICAgICAgICAgICAgaGFzT3duLmNhbGwodmFsdWUsIFwiX19hd2FpdFwiKSkge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlSW1wbC5yZXNvbHZlKHZhbHVlLl9fYXdhaXQpLnRoZW4oZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgIGludm9rZShcIm5leHRcIiwgdmFsdWUsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICBpbnZva2UoXCJ0aHJvd1wiLCBlcnIsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gUHJvbWlzZUltcGwucmVzb2x2ZSh2YWx1ZSkudGhlbihmdW5jdGlvbih1bndyYXBwZWQpIHtcbiAgICAgICAgICAvLyBXaGVuIGEgeWllbGRlZCBQcm9taXNlIGlzIHJlc29sdmVkLCBpdHMgZmluYWwgdmFsdWUgYmVjb21lc1xuICAgICAgICAgIC8vIHRoZSAudmFsdWUgb2YgdGhlIFByb21pc2U8e3ZhbHVlLGRvbmV9PiByZXN1bHQgZm9yIHRoZVxuICAgICAgICAgIC8vIGN1cnJlbnQgaXRlcmF0aW9uLlxuICAgICAgICAgIHJlc3VsdC52YWx1ZSA9IHVud3JhcHBlZDtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgIH0sIGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgICAgLy8gSWYgYSByZWplY3RlZCBQcm9taXNlIHdhcyB5aWVsZGVkLCB0aHJvdyB0aGUgcmVqZWN0aW9uIGJhY2tcbiAgICAgICAgICAvLyBpbnRvIHRoZSBhc3luYyBnZW5lcmF0b3IgZnVuY3Rpb24gc28gaXQgY2FuIGJlIGhhbmRsZWQgdGhlcmUuXG4gICAgICAgICAgcmV0dXJuIGludm9rZShcInRocm93XCIsIGVycm9yLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgcHJldmlvdXNQcm9taXNlO1xuXG4gICAgZnVuY3Rpb24gZW5xdWV1ZShtZXRob2QsIGFyZykge1xuICAgICAgZnVuY3Rpb24gY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZUltcGwoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgaW52b2tlKG1ldGhvZCwgYXJnLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHByZXZpb3VzUHJvbWlzZSA9XG4gICAgICAgIC8vIElmIGVucXVldWUgaGFzIGJlZW4gY2FsbGVkIGJlZm9yZSwgdGhlbiB3ZSB3YW50IHRvIHdhaXQgdW50aWxcbiAgICAgICAgLy8gYWxsIHByZXZpb3VzIFByb21pc2VzIGhhdmUgYmVlbiByZXNvbHZlZCBiZWZvcmUgY2FsbGluZyBpbnZva2UsXG4gICAgICAgIC8vIHNvIHRoYXQgcmVzdWx0cyBhcmUgYWx3YXlzIGRlbGl2ZXJlZCBpbiB0aGUgY29ycmVjdCBvcmRlci4gSWZcbiAgICAgICAgLy8gZW5xdWV1ZSBoYXMgbm90IGJlZW4gY2FsbGVkIGJlZm9yZSwgdGhlbiBpdCBpcyBpbXBvcnRhbnQgdG9cbiAgICAgICAgLy8gY2FsbCBpbnZva2UgaW1tZWRpYXRlbHksIHdpdGhvdXQgd2FpdGluZyBvbiBhIGNhbGxiYWNrIHRvIGZpcmUsXG4gICAgICAgIC8vIHNvIHRoYXQgdGhlIGFzeW5jIGdlbmVyYXRvciBmdW5jdGlvbiBoYXMgdGhlIG9wcG9ydHVuaXR5IHRvIGRvXG4gICAgICAgIC8vIGFueSBuZWNlc3Nhcnkgc2V0dXAgaW4gYSBwcmVkaWN0YWJsZSB3YXkuIFRoaXMgcHJlZGljdGFiaWxpdHlcbiAgICAgICAgLy8gaXMgd2h5IHRoZSBQcm9taXNlIGNvbnN0cnVjdG9yIHN5bmNocm9ub3VzbHkgaW52b2tlcyBpdHNcbiAgICAgICAgLy8gZXhlY3V0b3IgY2FsbGJhY2ssIGFuZCB3aHkgYXN5bmMgZnVuY3Rpb25zIHN5bmNocm9ub3VzbHlcbiAgICAgICAgLy8gZXhlY3V0ZSBjb2RlIGJlZm9yZSB0aGUgZmlyc3QgYXdhaXQuIFNpbmNlIHdlIGltcGxlbWVudCBzaW1wbGVcbiAgICAgICAgLy8gYXN5bmMgZnVuY3Rpb25zIGluIHRlcm1zIG9mIGFzeW5jIGdlbmVyYXRvcnMsIGl0IGlzIGVzcGVjaWFsbHlcbiAgICAgICAgLy8gaW1wb3J0YW50IHRvIGdldCB0aGlzIHJpZ2h0LCBldmVuIHRob3VnaCBpdCByZXF1aXJlcyBjYXJlLlxuICAgICAgICBwcmV2aW91c1Byb21pc2UgPyBwcmV2aW91c1Byb21pc2UudGhlbihcbiAgICAgICAgICBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZyxcbiAgICAgICAgICAvLyBBdm9pZCBwcm9wYWdhdGluZyBmYWlsdXJlcyB0byBQcm9taXNlcyByZXR1cm5lZCBieSBsYXRlclxuICAgICAgICAgIC8vIGludm9jYXRpb25zIG9mIHRoZSBpdGVyYXRvci5cbiAgICAgICAgICBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZ1xuICAgICAgICApIDogY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcoKTtcbiAgICB9XG5cbiAgICAvLyBEZWZpbmUgdGhlIHVuaWZpZWQgaGVscGVyIG1ldGhvZCB0aGF0IGlzIHVzZWQgdG8gaW1wbGVtZW50IC5uZXh0LFxuICAgIC8vIC50aHJvdywgYW5kIC5yZXR1cm4gKHNlZSBkZWZpbmVJdGVyYXRvck1ldGhvZHMpLlxuICAgIHRoaXMuX2ludm9rZSA9IGVucXVldWU7XG4gIH1cblxuICBkZWZpbmVJdGVyYXRvck1ldGhvZHMoQXN5bmNJdGVyYXRvci5wcm90b3R5cGUpO1xuICBBc3luY0l0ZXJhdG9yLnByb3RvdHlwZVthc3luY0l0ZXJhdG9yU3ltYm9sXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcbiAgZXhwb3J0cy5Bc3luY0l0ZXJhdG9yID0gQXN5bmNJdGVyYXRvcjtcblxuICAvLyBOb3RlIHRoYXQgc2ltcGxlIGFzeW5jIGZ1bmN0aW9ucyBhcmUgaW1wbGVtZW50ZWQgb24gdG9wIG9mXG4gIC8vIEFzeW5jSXRlcmF0b3Igb2JqZWN0czsgdGhleSBqdXN0IHJldHVybiBhIFByb21pc2UgZm9yIHRoZSB2YWx1ZSBvZlxuICAvLyB0aGUgZmluYWwgcmVzdWx0IHByb2R1Y2VkIGJ5IHRoZSBpdGVyYXRvci5cbiAgZXhwb3J0cy5hc3luYyA9IGZ1bmN0aW9uKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0LCBQcm9taXNlSW1wbCkge1xuICAgIGlmIChQcm9taXNlSW1wbCA9PT0gdm9pZCAwKSBQcm9taXNlSW1wbCA9IFByb21pc2U7XG5cbiAgICB2YXIgaXRlciA9IG5ldyBBc3luY0l0ZXJhdG9yKFxuICAgICAgd3JhcChpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdCksXG4gICAgICBQcm9taXNlSW1wbFxuICAgICk7XG5cbiAgICByZXR1cm4gZXhwb3J0cy5pc0dlbmVyYXRvckZ1bmN0aW9uKG91dGVyRm4pXG4gICAgICA/IGl0ZXIgLy8gSWYgb3V0ZXJGbiBpcyBhIGdlbmVyYXRvciwgcmV0dXJuIHRoZSBmdWxsIGl0ZXJhdG9yLlxuICAgICAgOiBpdGVyLm5leHQoKS50aGVuKGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgICAgICAgIHJldHVybiByZXN1bHQuZG9uZSA/IHJlc3VsdC52YWx1ZSA6IGl0ZXIubmV4dCgpO1xuICAgICAgICB9KTtcbiAgfTtcblxuICBmdW5jdGlvbiBtYWtlSW52b2tlTWV0aG9kKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpIHtcbiAgICB2YXIgc3RhdGUgPSBHZW5TdGF0ZVN1c3BlbmRlZFN0YXJ0O1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIGludm9rZShtZXRob2QsIGFyZykge1xuICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZUV4ZWN1dGluZykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBydW5uaW5nXCIpO1xuICAgICAgfVxuXG4gICAgICBpZiAoc3RhdGUgPT09IEdlblN0YXRlQ29tcGxldGVkKSB7XG4gICAgICAgIGlmIChtZXRob2QgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgIHRocm93IGFyZztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEJlIGZvcmdpdmluZywgcGVyIDI1LjMuMy4zLjMgb2YgdGhlIHNwZWM6XG4gICAgICAgIC8vIGh0dHBzOi8vcGVvcGxlLm1vemlsbGEub3JnL35qb3JlbmRvcmZmL2VzNi1kcmFmdC5odG1sI3NlYy1nZW5lcmF0b3JyZXN1bWVcbiAgICAgICAgcmV0dXJuIGRvbmVSZXN1bHQoKTtcbiAgICAgIH1cblxuICAgICAgY29udGV4dC5tZXRob2QgPSBtZXRob2Q7XG4gICAgICBjb250ZXh0LmFyZyA9IGFyZztcblxuICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgdmFyIGRlbGVnYXRlID0gY29udGV4dC5kZWxlZ2F0ZTtcbiAgICAgICAgaWYgKGRlbGVnYXRlKSB7XG4gICAgICAgICAgdmFyIGRlbGVnYXRlUmVzdWx0ID0gbWF5YmVJbnZva2VEZWxlZ2F0ZShkZWxlZ2F0ZSwgY29udGV4dCk7XG4gICAgICAgICAgaWYgKGRlbGVnYXRlUmVzdWx0KSB7XG4gICAgICAgICAgICBpZiAoZGVsZWdhdGVSZXN1bHQgPT09IENvbnRpbnVlU2VudGluZWwpIGNvbnRpbnVlO1xuICAgICAgICAgICAgcmV0dXJuIGRlbGVnYXRlUmVzdWx0O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJuZXh0XCIpIHtcbiAgICAgICAgICAvLyBTZXR0aW5nIGNvbnRleHQuX3NlbnQgZm9yIGxlZ2FjeSBzdXBwb3J0IG9mIEJhYmVsJ3NcbiAgICAgICAgICAvLyBmdW5jdGlvbi5zZW50IGltcGxlbWVudGF0aW9uLlxuICAgICAgICAgIGNvbnRleHQuc2VudCA9IGNvbnRleHQuX3NlbnQgPSBjb250ZXh0LmFyZztcblxuICAgICAgICB9IGVsc2UgaWYgKGNvbnRleHQubWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICBpZiAoc3RhdGUgPT09IEdlblN0YXRlU3VzcGVuZGVkU3RhcnQpIHtcbiAgICAgICAgICAgIHN0YXRlID0gR2VuU3RhdGVDb21wbGV0ZWQ7XG4gICAgICAgICAgICB0aHJvdyBjb250ZXh0LmFyZztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb250ZXh0LmRpc3BhdGNoRXhjZXB0aW9uKGNvbnRleHQuYXJnKTtcblxuICAgICAgICB9IGVsc2UgaWYgKGNvbnRleHQubWV0aG9kID09PSBcInJldHVyblwiKSB7XG4gICAgICAgICAgY29udGV4dC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dC5hcmcpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3RhdGUgPSBHZW5TdGF0ZUV4ZWN1dGluZztcblxuICAgICAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2goaW5uZXJGbiwgc2VsZiwgY29udGV4dCk7XG4gICAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJub3JtYWxcIikge1xuICAgICAgICAgIC8vIElmIGFuIGV4Y2VwdGlvbiBpcyB0aHJvd24gZnJvbSBpbm5lckZuLCB3ZSBsZWF2ZSBzdGF0ZSA9PT1cbiAgICAgICAgICAvLyBHZW5TdGF0ZUV4ZWN1dGluZyBhbmQgbG9vcCBiYWNrIGZvciBhbm90aGVyIGludm9jYXRpb24uXG4gICAgICAgICAgc3RhdGUgPSBjb250ZXh0LmRvbmVcbiAgICAgICAgICAgID8gR2VuU3RhdGVDb21wbGV0ZWRcbiAgICAgICAgICAgIDogR2VuU3RhdGVTdXNwZW5kZWRZaWVsZDtcblxuICAgICAgICAgIGlmIChyZWNvcmQuYXJnID09PSBDb250aW51ZVNlbnRpbmVsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmFsdWU6IHJlY29yZC5hcmcsXG4gICAgICAgICAgICBkb25lOiBjb250ZXh0LmRvbmVcbiAgICAgICAgICB9O1xuXG4gICAgICAgIH0gZWxzZSBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgIHN0YXRlID0gR2VuU3RhdGVDb21wbGV0ZWQ7XG4gICAgICAgICAgLy8gRGlzcGF0Y2ggdGhlIGV4Y2VwdGlvbiBieSBsb29waW5nIGJhY2sgYXJvdW5kIHRvIHRoZVxuICAgICAgICAgIC8vIGNvbnRleHQuZGlzcGF0Y2hFeGNlcHRpb24oY29udGV4dC5hcmcpIGNhbGwgYWJvdmUuXG4gICAgICAgICAgY29udGV4dC5tZXRob2QgPSBcInRocm93XCI7XG4gICAgICAgICAgY29udGV4dC5hcmcgPSByZWNvcmQuYXJnO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIC8vIENhbGwgZGVsZWdhdGUuaXRlcmF0b3JbY29udGV4dC5tZXRob2RdKGNvbnRleHQuYXJnKSBhbmQgaGFuZGxlIHRoZVxuICAvLyByZXN1bHQsIGVpdGhlciBieSByZXR1cm5pbmcgYSB7IHZhbHVlLCBkb25lIH0gcmVzdWx0IGZyb20gdGhlXG4gIC8vIGRlbGVnYXRlIGl0ZXJhdG9yLCBvciBieSBtb2RpZnlpbmcgY29udGV4dC5tZXRob2QgYW5kIGNvbnRleHQuYXJnLFxuICAvLyBzZXR0aW5nIGNvbnRleHQuZGVsZWdhdGUgdG8gbnVsbCwgYW5kIHJldHVybmluZyB0aGUgQ29udGludWVTZW50aW5lbC5cbiAgZnVuY3Rpb24gbWF5YmVJbnZva2VEZWxlZ2F0ZShkZWxlZ2F0ZSwgY29udGV4dCkge1xuICAgIHZhciBtZXRob2QgPSBkZWxlZ2F0ZS5pdGVyYXRvcltjb250ZXh0Lm1ldGhvZF07XG4gICAgaWYgKG1ldGhvZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBBIC50aHJvdyBvciAucmV0dXJuIHdoZW4gdGhlIGRlbGVnYXRlIGl0ZXJhdG9yIGhhcyBubyAudGhyb3dcbiAgICAgIC8vIG1ldGhvZCBhbHdheXMgdGVybWluYXRlcyB0aGUgeWllbGQqIGxvb3AuXG4gICAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDtcblxuICAgICAgaWYgKGNvbnRleHQubWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgLy8gTm90ZTogW1wicmV0dXJuXCJdIG11c3QgYmUgdXNlZCBmb3IgRVMzIHBhcnNpbmcgY29tcGF0aWJpbGl0eS5cbiAgICAgICAgaWYgKGRlbGVnYXRlLml0ZXJhdG9yW1wicmV0dXJuXCJdKSB7XG4gICAgICAgICAgLy8gSWYgdGhlIGRlbGVnYXRlIGl0ZXJhdG9yIGhhcyBhIHJldHVybiBtZXRob2QsIGdpdmUgaXQgYVxuICAgICAgICAgIC8vIGNoYW5jZSB0byBjbGVhbiB1cC5cbiAgICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwicmV0dXJuXCI7XG4gICAgICAgICAgY29udGV4dC5hcmcgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgbWF5YmVJbnZva2VEZWxlZ2F0ZShkZWxlZ2F0ZSwgY29udGV4dCk7XG5cbiAgICAgICAgICBpZiAoY29udGV4dC5tZXRob2QgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgICAgLy8gSWYgbWF5YmVJbnZva2VEZWxlZ2F0ZShjb250ZXh0KSBjaGFuZ2VkIGNvbnRleHQubWV0aG9kIGZyb21cbiAgICAgICAgICAgIC8vIFwicmV0dXJuXCIgdG8gXCJ0aHJvd1wiLCBsZXQgdGhhdCBvdmVycmlkZSB0aGUgVHlwZUVycm9yIGJlbG93LlxuICAgICAgICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29udGV4dC5tZXRob2QgPSBcInRocm93XCI7XG4gICAgICAgIGNvbnRleHQuYXJnID0gbmV3IFR5cGVFcnJvcihcbiAgICAgICAgICBcIlRoZSBpdGVyYXRvciBkb2VzIG5vdCBwcm92aWRlIGEgJ3Rocm93JyBtZXRob2RcIik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH1cblxuICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChtZXRob2QsIGRlbGVnYXRlLml0ZXJhdG9yLCBjb250ZXh0LmFyZyk7XG5cbiAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgY29udGV4dC5tZXRob2QgPSBcInRocm93XCI7XG4gICAgICBjb250ZXh0LmFyZyA9IHJlY29yZC5hcmc7XG4gICAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDtcbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH1cblxuICAgIHZhciBpbmZvID0gcmVjb3JkLmFyZztcblxuICAgIGlmICghIGluZm8pIHtcbiAgICAgIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgY29udGV4dC5hcmcgPSBuZXcgVHlwZUVycm9yKFwiaXRlcmF0b3IgcmVzdWx0IGlzIG5vdCBhbiBvYmplY3RcIik7XG4gICAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDtcbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH1cblxuICAgIGlmIChpbmZvLmRvbmUpIHtcbiAgICAgIC8vIEFzc2lnbiB0aGUgcmVzdWx0IG9mIHRoZSBmaW5pc2hlZCBkZWxlZ2F0ZSB0byB0aGUgdGVtcG9yYXJ5XG4gICAgICAvLyB2YXJpYWJsZSBzcGVjaWZpZWQgYnkgZGVsZWdhdGUucmVzdWx0TmFtZSAoc2VlIGRlbGVnYXRlWWllbGQpLlxuICAgICAgY29udGV4dFtkZWxlZ2F0ZS5yZXN1bHROYW1lXSA9IGluZm8udmFsdWU7XG5cbiAgICAgIC8vIFJlc3VtZSBleGVjdXRpb24gYXQgdGhlIGRlc2lyZWQgbG9jYXRpb24gKHNlZSBkZWxlZ2F0ZVlpZWxkKS5cbiAgICAgIGNvbnRleHQubmV4dCA9IGRlbGVnYXRlLm5leHRMb2M7XG5cbiAgICAgIC8vIElmIGNvbnRleHQubWV0aG9kIHdhcyBcInRocm93XCIgYnV0IHRoZSBkZWxlZ2F0ZSBoYW5kbGVkIHRoZVxuICAgICAgLy8gZXhjZXB0aW9uLCBsZXQgdGhlIG91dGVyIGdlbmVyYXRvciBwcm9jZWVkIG5vcm1hbGx5LiBJZlxuICAgICAgLy8gY29udGV4dC5tZXRob2Qgd2FzIFwibmV4dFwiLCBmb3JnZXQgY29udGV4dC5hcmcgc2luY2UgaXQgaGFzIGJlZW5cbiAgICAgIC8vIFwiY29uc3VtZWRcIiBieSB0aGUgZGVsZWdhdGUgaXRlcmF0b3IuIElmIGNvbnRleHQubWV0aG9kIHdhc1xuICAgICAgLy8gXCJyZXR1cm5cIiwgYWxsb3cgdGhlIG9yaWdpbmFsIC5yZXR1cm4gY2FsbCB0byBjb250aW51ZSBpbiB0aGVcbiAgICAgIC8vIG91dGVyIGdlbmVyYXRvci5cbiAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCAhPT0gXCJyZXR1cm5cIikge1xuICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgICBjb250ZXh0LmFyZyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBSZS15aWVsZCB0aGUgcmVzdWx0IHJldHVybmVkIGJ5IHRoZSBkZWxlZ2F0ZSBtZXRob2QuXG4gICAgICByZXR1cm4gaW5mbztcbiAgICB9XG5cbiAgICAvLyBUaGUgZGVsZWdhdGUgaXRlcmF0b3IgaXMgZmluaXNoZWQsIHNvIGZvcmdldCBpdCBhbmQgY29udGludWUgd2l0aFxuICAgIC8vIHRoZSBvdXRlciBnZW5lcmF0b3IuXG4gICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG4gICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gIH1cblxuICAvLyBEZWZpbmUgR2VuZXJhdG9yLnByb3RvdHlwZS57bmV4dCx0aHJvdyxyZXR1cm59IGluIHRlcm1zIG9mIHRoZVxuICAvLyB1bmlmaWVkIC5faW52b2tlIGhlbHBlciBtZXRob2QuXG4gIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhHcCk7XG5cbiAgR3BbdG9TdHJpbmdUYWdTeW1ib2xdID0gXCJHZW5lcmF0b3JcIjtcblxuICAvLyBBIEdlbmVyYXRvciBzaG91bGQgYWx3YXlzIHJldHVybiBpdHNlbGYgYXMgdGhlIGl0ZXJhdG9yIG9iamVjdCB3aGVuIHRoZVxuICAvLyBAQGl0ZXJhdG9yIGZ1bmN0aW9uIGlzIGNhbGxlZCBvbiBpdC4gU29tZSBicm93c2VycycgaW1wbGVtZW50YXRpb25zIG9mIHRoZVxuICAvLyBpdGVyYXRvciBwcm90b3R5cGUgY2hhaW4gaW5jb3JyZWN0bHkgaW1wbGVtZW50IHRoaXMsIGNhdXNpbmcgdGhlIEdlbmVyYXRvclxuICAvLyBvYmplY3QgdG8gbm90IGJlIHJldHVybmVkIGZyb20gdGhpcyBjYWxsLiBUaGlzIGVuc3VyZXMgdGhhdCBkb2Vzbid0IGhhcHBlbi5cbiAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWdlbmVyYXRvci9pc3N1ZXMvMjc0IGZvciBtb3JlIGRldGFpbHMuXG4gIEdwW2l0ZXJhdG9yU3ltYm9sXSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIEdwLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIFwiW29iamVjdCBHZW5lcmF0b3JdXCI7XG4gIH07XG5cbiAgZnVuY3Rpb24gcHVzaFRyeUVudHJ5KGxvY3MpIHtcbiAgICB2YXIgZW50cnkgPSB7IHRyeUxvYzogbG9jc1swXSB9O1xuXG4gICAgaWYgKDEgaW4gbG9jcykge1xuICAgICAgZW50cnkuY2F0Y2hMb2MgPSBsb2NzWzFdO1xuICAgIH1cblxuICAgIGlmICgyIGluIGxvY3MpIHtcbiAgICAgIGVudHJ5LmZpbmFsbHlMb2MgPSBsb2NzWzJdO1xuICAgICAgZW50cnkuYWZ0ZXJMb2MgPSBsb2NzWzNdO1xuICAgIH1cblxuICAgIHRoaXMudHJ5RW50cmllcy5wdXNoKGVudHJ5KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc2V0VHJ5RW50cnkoZW50cnkpIHtcbiAgICB2YXIgcmVjb3JkID0gZW50cnkuY29tcGxldGlvbiB8fCB7fTtcbiAgICByZWNvcmQudHlwZSA9IFwibm9ybWFsXCI7XG4gICAgZGVsZXRlIHJlY29yZC5hcmc7XG4gICAgZW50cnkuY29tcGxldGlvbiA9IHJlY29yZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIENvbnRleHQodHJ5TG9jc0xpc3QpIHtcbiAgICAvLyBUaGUgcm9vdCBlbnRyeSBvYmplY3QgKGVmZmVjdGl2ZWx5IGEgdHJ5IHN0YXRlbWVudCB3aXRob3V0IGEgY2F0Y2hcbiAgICAvLyBvciBhIGZpbmFsbHkgYmxvY2spIGdpdmVzIHVzIGEgcGxhY2UgdG8gc3RvcmUgdmFsdWVzIHRocm93biBmcm9tXG4gICAgLy8gbG9jYXRpb25zIHdoZXJlIHRoZXJlIGlzIG5vIGVuY2xvc2luZyB0cnkgc3RhdGVtZW50LlxuICAgIHRoaXMudHJ5RW50cmllcyA9IFt7IHRyeUxvYzogXCJyb290XCIgfV07XG4gICAgdHJ5TG9jc0xpc3QuZm9yRWFjaChwdXNoVHJ5RW50cnksIHRoaXMpO1xuICAgIHRoaXMucmVzZXQodHJ1ZSk7XG4gIH1cblxuICBleHBvcnRzLmtleXMgPSBmdW5jdGlvbihvYmplY3QpIHtcbiAgICB2YXIga2V5cyA9IFtdO1xuICAgIGZvciAodmFyIGtleSBpbiBvYmplY3QpIHtcbiAgICAgIGtleXMucHVzaChrZXkpO1xuICAgIH1cbiAgICBrZXlzLnJldmVyc2UoKTtcblxuICAgIC8vIFJhdGhlciB0aGFuIHJldHVybmluZyBhbiBvYmplY3Qgd2l0aCBhIG5leHQgbWV0aG9kLCB3ZSBrZWVwXG4gICAgLy8gdGhpbmdzIHNpbXBsZSBhbmQgcmV0dXJuIHRoZSBuZXh0IGZ1bmN0aW9uIGl0c2VsZi5cbiAgICByZXR1cm4gZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgIHdoaWxlIChrZXlzLmxlbmd0aCkge1xuICAgICAgICB2YXIga2V5ID0ga2V5cy5wb3AoKTtcbiAgICAgICAgaWYgKGtleSBpbiBvYmplY3QpIHtcbiAgICAgICAgICBuZXh0LnZhbHVlID0ga2V5O1xuICAgICAgICAgIG5leHQuZG9uZSA9IGZhbHNlO1xuICAgICAgICAgIHJldHVybiBuZXh0O1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFRvIGF2b2lkIGNyZWF0aW5nIGFuIGFkZGl0aW9uYWwgb2JqZWN0LCB3ZSBqdXN0IGhhbmcgdGhlIC52YWx1ZVxuICAgICAgLy8gYW5kIC5kb25lIHByb3BlcnRpZXMgb2ZmIHRoZSBuZXh0IGZ1bmN0aW9uIG9iamVjdCBpdHNlbGYuIFRoaXNcbiAgICAgIC8vIGFsc28gZW5zdXJlcyB0aGF0IHRoZSBtaW5pZmllciB3aWxsIG5vdCBhbm9ueW1pemUgdGhlIGZ1bmN0aW9uLlxuICAgICAgbmV4dC5kb25lID0gdHJ1ZTtcbiAgICAgIHJldHVybiBuZXh0O1xuICAgIH07XG4gIH07XG5cbiAgZnVuY3Rpb24gdmFsdWVzKGl0ZXJhYmxlKSB7XG4gICAgaWYgKGl0ZXJhYmxlKSB7XG4gICAgICB2YXIgaXRlcmF0b3JNZXRob2QgPSBpdGVyYWJsZVtpdGVyYXRvclN5bWJvbF07XG4gICAgICBpZiAoaXRlcmF0b3JNZXRob2QpIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhdG9yTWV0aG9kLmNhbGwoaXRlcmFibGUpO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIGl0ZXJhYmxlLm5leHQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICByZXR1cm4gaXRlcmFibGU7XG4gICAgICB9XG5cbiAgICAgIGlmICghaXNOYU4oaXRlcmFibGUubGVuZ3RoKSkge1xuICAgICAgICB2YXIgaSA9IC0xLCBuZXh0ID0gZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgICAgICB3aGlsZSAoKytpIDwgaXRlcmFibGUubGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAoaGFzT3duLmNhbGwoaXRlcmFibGUsIGkpKSB7XG4gICAgICAgICAgICAgIG5leHQudmFsdWUgPSBpdGVyYWJsZVtpXTtcbiAgICAgICAgICAgICAgbmV4dC5kb25lID0gZmFsc2U7XG4gICAgICAgICAgICAgIHJldHVybiBuZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIG5leHQudmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgbmV4dC5kb25lID0gdHJ1ZTtcblxuICAgICAgICAgIHJldHVybiBuZXh0O1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBuZXh0Lm5leHQgPSBuZXh0O1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFJldHVybiBhbiBpdGVyYXRvciB3aXRoIG5vIHZhbHVlcy5cbiAgICByZXR1cm4geyBuZXh0OiBkb25lUmVzdWx0IH07XG4gIH1cbiAgZXhwb3J0cy52YWx1ZXMgPSB2YWx1ZXM7XG5cbiAgZnVuY3Rpb24gZG9uZVJlc3VsdCgpIHtcbiAgICByZXR1cm4geyB2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiB0cnVlIH07XG4gIH1cblxuICBDb250ZXh0LnByb3RvdHlwZSA9IHtcbiAgICBjb25zdHJ1Y3RvcjogQ29udGV4dCxcblxuICAgIHJlc2V0OiBmdW5jdGlvbihza2lwVGVtcFJlc2V0KSB7XG4gICAgICB0aGlzLnByZXYgPSAwO1xuICAgICAgdGhpcy5uZXh0ID0gMDtcbiAgICAgIC8vIFJlc2V0dGluZyBjb250ZXh0Ll9zZW50IGZvciBsZWdhY3kgc3VwcG9ydCBvZiBCYWJlbCdzXG4gICAgICAvLyBmdW5jdGlvbi5zZW50IGltcGxlbWVudGF0aW9uLlxuICAgICAgdGhpcy5zZW50ID0gdGhpcy5fc2VudCA9IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMuZG9uZSA9IGZhbHNlO1xuICAgICAgdGhpcy5kZWxlZ2F0ZSA9IG51bGw7XG5cbiAgICAgIHRoaXMubWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICB0aGlzLmFyZyA9IHVuZGVmaW5lZDtcblxuICAgICAgdGhpcy50cnlFbnRyaWVzLmZvckVhY2gocmVzZXRUcnlFbnRyeSk7XG5cbiAgICAgIGlmICghc2tpcFRlbXBSZXNldCkge1xuICAgICAgICBmb3IgKHZhciBuYW1lIGluIHRoaXMpIHtcbiAgICAgICAgICAvLyBOb3Qgc3VyZSBhYm91dCB0aGUgb3B0aW1hbCBvcmRlciBvZiB0aGVzZSBjb25kaXRpb25zOlxuICAgICAgICAgIGlmIChuYW1lLmNoYXJBdCgwKSA9PT0gXCJ0XCIgJiZcbiAgICAgICAgICAgICAgaGFzT3duLmNhbGwodGhpcywgbmFtZSkgJiZcbiAgICAgICAgICAgICAgIWlzTmFOKCtuYW1lLnNsaWNlKDEpKSkge1xuICAgICAgICAgICAgdGhpc1tuYW1lXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgc3RvcDogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLmRvbmUgPSB0cnVlO1xuXG4gICAgICB2YXIgcm9vdEVudHJ5ID0gdGhpcy50cnlFbnRyaWVzWzBdO1xuICAgICAgdmFyIHJvb3RSZWNvcmQgPSByb290RW50cnkuY29tcGxldGlvbjtcbiAgICAgIGlmIChyb290UmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICB0aHJvdyByb290UmVjb3JkLmFyZztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMucnZhbDtcbiAgICB9LFxuXG4gICAgZGlzcGF0Y2hFeGNlcHRpb246IGZ1bmN0aW9uKGV4Y2VwdGlvbikge1xuICAgICAgaWYgKHRoaXMuZG9uZSkge1xuICAgICAgICB0aHJvdyBleGNlcHRpb247XG4gICAgICB9XG5cbiAgICAgIHZhciBjb250ZXh0ID0gdGhpcztcbiAgICAgIGZ1bmN0aW9uIGhhbmRsZShsb2MsIGNhdWdodCkge1xuICAgICAgICByZWNvcmQudHlwZSA9IFwidGhyb3dcIjtcbiAgICAgICAgcmVjb3JkLmFyZyA9IGV4Y2VwdGlvbjtcbiAgICAgICAgY29udGV4dC5uZXh0ID0gbG9jO1xuXG4gICAgICAgIGlmIChjYXVnaHQpIHtcbiAgICAgICAgICAvLyBJZiB0aGUgZGlzcGF0Y2hlZCBleGNlcHRpb24gd2FzIGNhdWdodCBieSBhIGNhdGNoIGJsb2NrLFxuICAgICAgICAgIC8vIHRoZW4gbGV0IHRoYXQgY2F0Y2ggYmxvY2sgaGFuZGxlIHRoZSBleGNlcHRpb24gbm9ybWFsbHkuXG4gICAgICAgICAgY29udGV4dC5tZXRob2QgPSBcIm5leHRcIjtcbiAgICAgICAgICBjb250ZXh0LmFyZyA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAhISBjYXVnaHQ7XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICB2YXIgcmVjb3JkID0gZW50cnkuY29tcGxldGlvbjtcblxuICAgICAgICBpZiAoZW50cnkudHJ5TG9jID09PSBcInJvb3RcIikge1xuICAgICAgICAgIC8vIEV4Y2VwdGlvbiB0aHJvd24gb3V0c2lkZSBvZiBhbnkgdHJ5IGJsb2NrIHRoYXQgY291bGQgaGFuZGxlXG4gICAgICAgICAgLy8gaXQsIHNvIHNldCB0aGUgY29tcGxldGlvbiB2YWx1ZSBvZiB0aGUgZW50aXJlIGZ1bmN0aW9uIHRvXG4gICAgICAgICAgLy8gdGhyb3cgdGhlIGV4Y2VwdGlvbi5cbiAgICAgICAgICByZXR1cm4gaGFuZGxlKFwiZW5kXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA8PSB0aGlzLnByZXYpIHtcbiAgICAgICAgICB2YXIgaGFzQ2F0Y2ggPSBoYXNPd24uY2FsbChlbnRyeSwgXCJjYXRjaExvY1wiKTtcbiAgICAgICAgICB2YXIgaGFzRmluYWxseSA9IGhhc093bi5jYWxsKGVudHJ5LCBcImZpbmFsbHlMb2NcIik7XG5cbiAgICAgICAgICBpZiAoaGFzQ2F0Y2ggJiYgaGFzRmluYWxseSkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmNhdGNoTG9jKSB7XG4gICAgICAgICAgICAgIHJldHVybiBoYW5kbGUoZW50cnkuY2F0Y2hMb2MsIHRydWUpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgICAgICAgIHJldHVybiBoYW5kbGUoZW50cnkuZmluYWxseUxvYyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICB9IGVsc2UgaWYgKGhhc0NhdGNoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuY2F0Y2hMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5jYXRjaExvYywgdHJ1ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICB9IGVsc2UgaWYgKGhhc0ZpbmFsbHkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgICAgICAgIHJldHVybiBoYW5kbGUoZW50cnkuZmluYWxseUxvYyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwidHJ5IHN0YXRlbWVudCB3aXRob3V0IGNhdGNoIG9yIGZpbmFsbHlcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIGFicnVwdDogZnVuY3Rpb24odHlwZSwgYXJnKSB7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA8PSB0aGlzLnByZXYgJiZcbiAgICAgICAgICAgIGhhc093bi5jYWxsKGVudHJ5LCBcImZpbmFsbHlMb2NcIikgJiZcbiAgICAgICAgICAgIHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgICB2YXIgZmluYWxseUVudHJ5ID0gZW50cnk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGZpbmFsbHlFbnRyeSAmJlxuICAgICAgICAgICh0eXBlID09PSBcImJyZWFrXCIgfHxcbiAgICAgICAgICAgdHlwZSA9PT0gXCJjb250aW51ZVwiKSAmJlxuICAgICAgICAgIGZpbmFsbHlFbnRyeS50cnlMb2MgPD0gYXJnICYmXG4gICAgICAgICAgYXJnIDw9IGZpbmFsbHlFbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgIC8vIElnbm9yZSB0aGUgZmluYWxseSBlbnRyeSBpZiBjb250cm9sIGlzIG5vdCBqdW1waW5nIHRvIGFcbiAgICAgICAgLy8gbG9jYXRpb24gb3V0c2lkZSB0aGUgdHJ5L2NhdGNoIGJsb2NrLlxuICAgICAgICBmaW5hbGx5RW50cnkgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICB2YXIgcmVjb3JkID0gZmluYWxseUVudHJ5ID8gZmluYWxseUVudHJ5LmNvbXBsZXRpb24gOiB7fTtcbiAgICAgIHJlY29yZC50eXBlID0gdHlwZTtcbiAgICAgIHJlY29yZC5hcmcgPSBhcmc7XG5cbiAgICAgIGlmIChmaW5hbGx5RW50cnkpIHtcbiAgICAgICAgdGhpcy5tZXRob2QgPSBcIm5leHRcIjtcbiAgICAgICAgdGhpcy5uZXh0ID0gZmluYWxseUVudHJ5LmZpbmFsbHlMb2M7XG4gICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5jb21wbGV0ZShyZWNvcmQpO1xuICAgIH0sXG5cbiAgICBjb21wbGV0ZTogZnVuY3Rpb24ocmVjb3JkLCBhZnRlckxvYykge1xuICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgdGhyb3cgcmVjb3JkLmFyZztcbiAgICAgIH1cblxuICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcImJyZWFrXCIgfHxcbiAgICAgICAgICByZWNvcmQudHlwZSA9PT0gXCJjb250aW51ZVwiKSB7XG4gICAgICAgIHRoaXMubmV4dCA9IHJlY29yZC5hcmc7XG4gICAgICB9IGVsc2UgaWYgKHJlY29yZC50eXBlID09PSBcInJldHVyblwiKSB7XG4gICAgICAgIHRoaXMucnZhbCA9IHRoaXMuYXJnID0gcmVjb3JkLmFyZztcbiAgICAgICAgdGhpcy5tZXRob2QgPSBcInJldHVyblwiO1xuICAgICAgICB0aGlzLm5leHQgPSBcImVuZFwiO1xuICAgICAgfSBlbHNlIGlmIChyZWNvcmQudHlwZSA9PT0gXCJub3JtYWxcIiAmJiBhZnRlckxvYykge1xuICAgICAgICB0aGlzLm5leHQgPSBhZnRlckxvYztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfSxcblxuICAgIGZpbmlzaDogZnVuY3Rpb24oZmluYWxseUxvYykge1xuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIGlmIChlbnRyeS5maW5hbGx5TG9jID09PSBmaW5hbGx5TG9jKSB7XG4gICAgICAgICAgdGhpcy5jb21wbGV0ZShlbnRyeS5jb21wbGV0aW9uLCBlbnRyeS5hZnRlckxvYyk7XG4gICAgICAgICAgcmVzZXRUcnlFbnRyeShlbnRyeSk7XG4gICAgICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgXCJjYXRjaFwiOiBmdW5jdGlvbih0cnlMb2MpIHtcbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICBpZiAoZW50cnkudHJ5TG9jID09PSB0cnlMb2MpIHtcbiAgICAgICAgICB2YXIgcmVjb3JkID0gZW50cnkuY29tcGxldGlvbjtcbiAgICAgICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgICAgdmFyIHRocm93biA9IHJlY29yZC5hcmc7XG4gICAgICAgICAgICByZXNldFRyeUVudHJ5KGVudHJ5KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRocm93bjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBUaGUgY29udGV4dC5jYXRjaCBtZXRob2QgbXVzdCBvbmx5IGJlIGNhbGxlZCB3aXRoIGEgbG9jYXRpb25cbiAgICAgIC8vIGFyZ3VtZW50IHRoYXQgY29ycmVzcG9uZHMgdG8gYSBrbm93biBjYXRjaCBibG9jay5cbiAgICAgIHRocm93IG5ldyBFcnJvcihcImlsbGVnYWwgY2F0Y2ggYXR0ZW1wdFwiKTtcbiAgICB9LFxuXG4gICAgZGVsZWdhdGVZaWVsZDogZnVuY3Rpb24oaXRlcmFibGUsIHJlc3VsdE5hbWUsIG5leHRMb2MpIHtcbiAgICAgIHRoaXMuZGVsZWdhdGUgPSB7XG4gICAgICAgIGl0ZXJhdG9yOiB2YWx1ZXMoaXRlcmFibGUpLFxuICAgICAgICByZXN1bHROYW1lOiByZXN1bHROYW1lLFxuICAgICAgICBuZXh0TG9jOiBuZXh0TG9jXG4gICAgICB9O1xuXG4gICAgICBpZiAodGhpcy5tZXRob2QgPT09IFwibmV4dFwiKSB7XG4gICAgICAgIC8vIERlbGliZXJhdGVseSBmb3JnZXQgdGhlIGxhc3Qgc2VudCB2YWx1ZSBzbyB0aGF0IHdlIGRvbid0XG4gICAgICAgIC8vIGFjY2lkZW50YWxseSBwYXNzIGl0IG9uIHRvIHRoZSBkZWxlZ2F0ZS5cbiAgICAgICAgdGhpcy5hcmcgPSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH1cbiAgfTtcblxuICAvLyBSZWdhcmRsZXNzIG9mIHdoZXRoZXIgdGhpcyBzY3JpcHQgaXMgZXhlY3V0aW5nIGFzIGEgQ29tbW9uSlMgbW9kdWxlXG4gIC8vIG9yIG5vdCwgcmV0dXJuIHRoZSBydW50aW1lIG9iamVjdCBzbyB0aGF0IHdlIGNhbiBkZWNsYXJlIHRoZSB2YXJpYWJsZVxuICAvLyByZWdlbmVyYXRvclJ1bnRpbWUgaW4gdGhlIG91dGVyIHNjb3BlLCB3aGljaCBhbGxvd3MgdGhpcyBtb2R1bGUgdG8gYmVcbiAgLy8gaW5qZWN0ZWQgZWFzaWx5IGJ5IGBiaW4vcmVnZW5lcmF0b3IgLS1pbmNsdWRlLXJ1bnRpbWUgc2NyaXB0LmpzYC5cbiAgcmV0dXJuIGV4cG9ydHM7XG5cbn0oXG4gIC8vIElmIHRoaXMgc2NyaXB0IGlzIGV4ZWN1dGluZyBhcyBhIENvbW1vbkpTIG1vZHVsZSwgdXNlIG1vZHVsZS5leHBvcnRzXG4gIC8vIGFzIHRoZSByZWdlbmVyYXRvclJ1bnRpbWUgbmFtZXNwYWNlLiBPdGhlcndpc2UgY3JlYXRlIGEgbmV3IGVtcHR5XG4gIC8vIG9iamVjdC4gRWl0aGVyIHdheSwgdGhlIHJlc3VsdGluZyBvYmplY3Qgd2lsbCBiZSB1c2VkIHRvIGluaXRpYWxpemVcbiAgLy8gdGhlIHJlZ2VuZXJhdG9yUnVudGltZSB2YXJpYWJsZSBhdCB0aGUgdG9wIG9mIHRoaXMgZmlsZS5cbiAgdHlwZW9mIG1vZHVsZSA9PT0gXCJvYmplY3RcIiA/IG1vZHVsZS5leHBvcnRzIDoge31cbikpO1xuXG50cnkge1xuICByZWdlbmVyYXRvclJ1bnRpbWUgPSBydW50aW1lO1xufSBjYXRjaCAoYWNjaWRlbnRhbFN0cmljdE1vZGUpIHtcbiAgLy8gVGhpcyBtb2R1bGUgc2hvdWxkIG5vdCBiZSBydW5uaW5nIGluIHN0cmljdCBtb2RlLCBzbyB0aGUgYWJvdmVcbiAgLy8gYXNzaWdubWVudCBzaG91bGQgYWx3YXlzIHdvcmsgdW5sZXNzIHNvbWV0aGluZyBpcyBtaXNjb25maWd1cmVkLiBKdXN0XG4gIC8vIGluIGNhc2UgcnVudGltZS5qcyBhY2NpZGVudGFsbHkgcnVucyBpbiBzdHJpY3QgbW9kZSwgd2UgY2FuIGVzY2FwZVxuICAvLyBzdHJpY3QgbW9kZSB1c2luZyBhIGdsb2JhbCBGdW5jdGlvbiBjYWxsLiBUaGlzIGNvdWxkIGNvbmNlaXZhYmx5IGZhaWxcbiAgLy8gaWYgYSBDb250ZW50IFNlY3VyaXR5IFBvbGljeSBmb3JiaWRzIHVzaW5nIEZ1bmN0aW9uLCBidXQgaW4gdGhhdCBjYXNlXG4gIC8vIHRoZSBwcm9wZXIgc29sdXRpb24gaXMgdG8gZml4IHRoZSBhY2NpZGVudGFsIHN0cmljdCBtb2RlIHByb2JsZW0uIElmXG4gIC8vIHlvdSd2ZSBtaXNjb25maWd1cmVkIHlvdXIgYnVuZGxlciB0byBmb3JjZSBzdHJpY3QgbW9kZSBhbmQgYXBwbGllZCBhXG4gIC8vIENTUCB0byBmb3JiaWQgRnVuY3Rpb24sIGFuZCB5b3UncmUgbm90IHdpbGxpbmcgdG8gZml4IGVpdGhlciBvZiB0aG9zZVxuICAvLyBwcm9ibGVtcywgcGxlYXNlIGRldGFpbCB5b3VyIHVuaXF1ZSBwcmVkaWNhbWVudCBpbiBhIEdpdEh1YiBpc3N1ZS5cbiAgRnVuY3Rpb24oXCJyXCIsIFwicmVnZW5lcmF0b3JSdW50aW1lID0gclwiKShydW50aW1lKTtcbn1cbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuXG5leHBvcnRzLmJyb3dzZXIgPSByZXF1aXJlKFwid2ViZXh0ZW5zaW9uLXBvbHlmaWxsXCIpO1xuIiwiKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kKSB7XG4gICAgZGVmaW5lKFwid2ViZXh0ZW5zaW9uLXBvbHlmaWxsXCIsIFtcIm1vZHVsZVwiXSwgZmFjdG9yeSk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBmYWN0b3J5KG1vZHVsZSk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIG1vZCA9IHtcbiAgICAgIGV4cG9ydHM6IHt9XG4gICAgfTtcbiAgICBmYWN0b3J5KG1vZCk7XG4gICAgZ2xvYmFsLmJyb3dzZXIgPSBtb2QuZXhwb3J0cztcbiAgfVxufSkodHlwZW9mIGdsb2JhbFRoaXMgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWxUaGlzIDogdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDogdGhpcywgZnVuY3Rpb24gKG1vZHVsZSkge1xuICAvKiB3ZWJleHRlbnNpb24tcG9seWZpbGwgLSB2MC44LjAgLSBUdWUgQXByIDIwIDIwMjEgMTE6Mjc6MzggKi9cblxuICAvKiAtKi0gTW9kZTogaW5kZW50LXRhYnMtbW9kZTogbmlsOyBqcy1pbmRlbnQtbGV2ZWw6IDIgLSotICovXG5cbiAgLyogdmltOiBzZXQgc3RzPTIgc3c9MiBldCB0dz04MDogKi9cblxuICAvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gICAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXNcbiAgICogZmlsZSwgWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgaWYgKHR5cGVvZiBicm93c2VyID09PSBcInVuZGVmaW5lZFwiIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihicm93c2VyKSAhPT0gT2JqZWN0LnByb3RvdHlwZSkge1xuICAgIGNvbnN0IENIUk9NRV9TRU5EX01FU1NBR0VfQ0FMTEJBQ0tfTk9fUkVTUE9OU0VfTUVTU0FHRSA9IFwiVGhlIG1lc3NhZ2UgcG9ydCBjbG9zZWQgYmVmb3JlIGEgcmVzcG9uc2Ugd2FzIHJlY2VpdmVkLlwiO1xuICAgIGNvbnN0IFNFTkRfUkVTUE9OU0VfREVQUkVDQVRJT05fV0FSTklORyA9IFwiUmV0dXJuaW5nIGEgUHJvbWlzZSBpcyB0aGUgcHJlZmVycmVkIHdheSB0byBzZW5kIGEgcmVwbHkgZnJvbSBhbiBvbk1lc3NhZ2Uvb25NZXNzYWdlRXh0ZXJuYWwgbGlzdGVuZXIsIGFzIHRoZSBzZW5kUmVzcG9uc2Ugd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIHNwZWNzIChTZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9Nb3ppbGxhL0FkZC1vbnMvV2ViRXh0ZW5zaW9ucy9BUEkvcnVudGltZS9vbk1lc3NhZ2UpXCI7IC8vIFdyYXBwaW5nIHRoZSBidWxrIG9mIHRoaXMgcG9seWZpbGwgaW4gYSBvbmUtdGltZS11c2UgZnVuY3Rpb24gaXMgYSBtaW5vclxuICAgIC8vIG9wdGltaXphdGlvbiBmb3IgRmlyZWZveC4gU2luY2UgU3BpZGVybW9ua2V5IGRvZXMgbm90IGZ1bGx5IHBhcnNlIHRoZVxuICAgIC8vIGNvbnRlbnRzIG9mIGEgZnVuY3Rpb24gdW50aWwgdGhlIGZpcnN0IHRpbWUgaXQncyBjYWxsZWQsIGFuZCBzaW5jZSBpdCB3aWxsXG4gICAgLy8gbmV2ZXIgYWN0dWFsbHkgbmVlZCB0byBiZSBjYWxsZWQsIHRoaXMgYWxsb3dzIHRoZSBwb2x5ZmlsbCB0byBiZSBpbmNsdWRlZFxuICAgIC8vIGluIEZpcmVmb3ggbmVhcmx5IGZvciBmcmVlLlxuXG4gICAgY29uc3Qgd3JhcEFQSXMgPSBleHRlbnNpb25BUElzID0+IHtcbiAgICAgIC8vIE5PVEU6IGFwaU1ldGFkYXRhIGlzIGFzc29jaWF0ZWQgdG8gdGhlIGNvbnRlbnQgb2YgdGhlIGFwaS1tZXRhZGF0YS5qc29uIGZpbGVcbiAgICAgIC8vIGF0IGJ1aWxkIHRpbWUgYnkgcmVwbGFjaW5nIHRoZSBmb2xsb3dpbmcgXCJpbmNsdWRlXCIgd2l0aCB0aGUgY29udGVudCBvZiB0aGVcbiAgICAgIC8vIEpTT04gZmlsZS5cbiAgICAgIGNvbnN0IGFwaU1ldGFkYXRhID0ge1xuICAgICAgICBcImFsYXJtc1wiOiB7XG4gICAgICAgICAgXCJjbGVhclwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImNsZWFyQWxsXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0XCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0QWxsXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwiYm9va21hcmtzXCI6IHtcbiAgICAgICAgICBcImNyZWF0ZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldENoaWxkcmVuXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0UmVjZW50XCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0U3ViVHJlZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldFRyZWVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMFxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJtb3ZlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAyLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDJcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicmVtb3ZlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicmVtb3ZlVHJlZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNlYXJjaFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInVwZGF0ZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMixcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcImJyb3dzZXJBY3Rpb25cIjoge1xuICAgICAgICAgIFwiZGlzYWJsZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJmYWxsYmFja1RvTm9DYWxsYmFja1wiOiB0cnVlXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImVuYWJsZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJmYWxsYmFja1RvTm9DYWxsYmFja1wiOiB0cnVlXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldEJhZGdlQmFja2dyb3VuZENvbG9yXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0QmFkZ2VUZXh0XCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0UG9wdXBcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRUaXRsZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcIm9wZW5Qb3B1cFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNldEJhZGdlQmFja2dyb3VuZENvbG9yXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDEsXG4gICAgICAgICAgICBcImZhbGxiYWNrVG9Ob0NhbGxiYWNrXCI6IHRydWVcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwic2V0QmFkZ2VUZXh0XCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDEsXG4gICAgICAgICAgICBcImZhbGxiYWNrVG9Ob0NhbGxiYWNrXCI6IHRydWVcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwic2V0SWNvblwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNldFBvcHVwXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDEsXG4gICAgICAgICAgICBcImZhbGxiYWNrVG9Ob0NhbGxiYWNrXCI6IHRydWVcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwic2V0VGl0bGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwiZmFsbGJhY2tUb05vQ2FsbGJhY2tcIjogdHJ1ZVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJicm93c2luZ0RhdGFcIjoge1xuICAgICAgICAgIFwicmVtb3ZlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAyLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDJcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicmVtb3ZlQ2FjaGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJyZW1vdmVDb29raWVzXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicmVtb3ZlRG93bmxvYWRzXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicmVtb3ZlRm9ybURhdGFcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJyZW1vdmVIaXN0b3J5XCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicmVtb3ZlTG9jYWxTdG9yYWdlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicmVtb3ZlUGFzc3dvcmRzXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicmVtb3ZlUGx1Z2luRGF0YVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNldHRpbmdzXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwiY29tbWFuZHNcIjoge1xuICAgICAgICAgIFwiZ2V0QWxsXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwiY29udGV4dE1lbnVzXCI6IHtcbiAgICAgICAgICBcInJlbW92ZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInJlbW92ZUFsbFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInVwZGF0ZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMixcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcImNvb2tpZXNcIjoge1xuICAgICAgICAgIFwiZ2V0XCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0QWxsXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0QWxsQ29va2llU3RvcmVzXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicmVtb3ZlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwic2V0XCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwiZGV2dG9vbHNcIjoge1xuICAgICAgICAgIFwiaW5zcGVjdGVkV2luZG93XCI6IHtcbiAgICAgICAgICAgIFwiZXZhbFwiOiB7XG4gICAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgICBcIm1heEFyZ3NcIjogMixcbiAgICAgICAgICAgICAgXCJzaW5nbGVDYWxsYmFja0FyZ1wiOiBmYWxzZVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJwYW5lbHNcIjoge1xuICAgICAgICAgICAgXCJjcmVhdGVcIjoge1xuICAgICAgICAgICAgICBcIm1pbkFyZ3NcIjogMyxcbiAgICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDMsXG4gICAgICAgICAgICAgIFwic2luZ2xlQ2FsbGJhY2tBcmdcIjogdHJ1ZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiZWxlbWVudHNcIjoge1xuICAgICAgICAgICAgICBcImNyZWF0ZVNpZGViYXJQYW5lXCI6IHtcbiAgICAgICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcImRvd25sb2Fkc1wiOiB7XG4gICAgICAgICAgXCJjYW5jZWxcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJkb3dubG9hZFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImVyYXNlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0RmlsZUljb25cIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJvcGVuXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDEsXG4gICAgICAgICAgICBcImZhbGxiYWNrVG9Ob0NhbGxiYWNrXCI6IHRydWVcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicGF1c2VcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJyZW1vdmVGaWxlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicmVzdW1lXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwic2VhcmNoXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwic2hvd1wiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJmYWxsYmFja1RvTm9DYWxsYmFja1wiOiB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcImV4dGVuc2lvblwiOiB7XG4gICAgICAgICAgXCJpc0FsbG93ZWRGaWxlU2NoZW1lQWNjZXNzXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiaXNBbGxvd2VkSW5jb2duaXRvQWNjZXNzXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwiaGlzdG9yeVwiOiB7XG4gICAgICAgICAgXCJhZGRVcmxcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJkZWxldGVBbGxcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMFxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJkZWxldGVSYW5nZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImRlbGV0ZVVybFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldFZpc2l0c1wiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNlYXJjaFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcImkxOG5cIjoge1xuICAgICAgICAgIFwiZGV0ZWN0TGFuZ3VhZ2VcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRBY2NlcHRMYW5ndWFnZXNcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMFxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJpZGVudGl0eVwiOiB7XG4gICAgICAgICAgXCJsYXVuY2hXZWJBdXRoRmxvd1wiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcImlkbGVcIjoge1xuICAgICAgICAgIFwicXVlcnlTdGF0ZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcIm1hbmFnZW1lbnRcIjoge1xuICAgICAgICAgIFwiZ2V0XCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0QWxsXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0U2VsZlwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNldEVuYWJsZWRcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDIsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJ1bmluc3RhbGxTZWxmXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwibm90aWZpY2F0aW9uc1wiOiB7XG4gICAgICAgICAgXCJjbGVhclwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImNyZWF0ZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldEFsbFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldFBlcm1pc3Npb25MZXZlbFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInVwZGF0ZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMixcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcInBhZ2VBY3Rpb25cIjoge1xuICAgICAgICAgIFwiZ2V0UG9wdXBcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRUaXRsZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImhpZGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwiZmFsbGJhY2tUb05vQ2FsbGJhY2tcIjogdHJ1ZVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJzZXRJY29uXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwic2V0UG9wdXBcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwiZmFsbGJhY2tUb05vQ2FsbGJhY2tcIjogdHJ1ZVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJzZXRUaXRsZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJmYWxsYmFja1RvTm9DYWxsYmFja1wiOiB0cnVlXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNob3dcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwiZmFsbGJhY2tUb05vQ2FsbGJhY2tcIjogdHJ1ZVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJwZXJtaXNzaW9uc1wiOiB7XG4gICAgICAgICAgXCJjb250YWluc1wiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldEFsbFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInJlbW92ZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInJlcXVlc3RcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJydW50aW1lXCI6IHtcbiAgICAgICAgICBcImdldEJhY2tncm91bmRQYWdlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0UGxhdGZvcm1JbmZvXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwib3Blbk9wdGlvbnNQYWdlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicmVxdWVzdFVwZGF0ZUNoZWNrXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwic2VuZE1lc3NhZ2VcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogM1xuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJzZW5kTmF0aXZlTWVzc2FnZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMixcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNldFVuaW5zdGFsbFVSTFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcInNlc3Npb25zXCI6IHtcbiAgICAgICAgICBcImdldERldmljZXNcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRSZWNlbnRseUNsb3NlZFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInJlc3RvcmVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJzdG9yYWdlXCI6IHtcbiAgICAgICAgICBcImxvY2FsXCI6IHtcbiAgICAgICAgICAgIFwiY2xlYXJcIjoge1xuICAgICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcImdldFwiOiB7XG4gICAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiZ2V0Qnl0ZXNJblVzZVwiOiB7XG4gICAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwicmVtb3ZlXCI6IHtcbiAgICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJzZXRcIjoge1xuICAgICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIFwibWFuYWdlZFwiOiB7XG4gICAgICAgICAgICBcImdldFwiOiB7XG4gICAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiZ2V0Qnl0ZXNJblVzZVwiOiB7XG4gICAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJzeW5jXCI6IHtcbiAgICAgICAgICAgIFwiY2xlYXJcIjoge1xuICAgICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcImdldFwiOiB7XG4gICAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiZ2V0Qnl0ZXNJblVzZVwiOiB7XG4gICAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwicmVtb3ZlXCI6IHtcbiAgICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJzZXRcIjoge1xuICAgICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwidGFic1wiOiB7XG4gICAgICAgICAgXCJjYXB0dXJlVmlzaWJsZVRhYlwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImNyZWF0ZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImRldGVjdExhbmd1YWdlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZGlzY2FyZFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImR1cGxpY2F0ZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImV4ZWN1dGVTY3JpcHRcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRDdXJyZW50XCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0Wm9vbVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldFpvb21TZXR0aW5nc1wiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdvQmFja1wiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdvRm9yd2FyZFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImhpZ2hsaWdodFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImluc2VydENTU1wiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcIm1vdmVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDIsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJxdWVyeVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInJlbG9hZFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInJlbW92ZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInJlbW92ZUNTU1wiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNlbmRNZXNzYWdlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAyLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDNcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwic2V0Wm9vbVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNldFpvb21TZXR0aW5nc1wiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInVwZGF0ZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcInRvcFNpdGVzXCI6IHtcbiAgICAgICAgICBcImdldFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcIndlYk5hdmlnYXRpb25cIjoge1xuICAgICAgICAgIFwiZ2V0QWxsRnJhbWVzXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0RnJhbWVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJ3ZWJSZXF1ZXN0XCI6IHtcbiAgICAgICAgICBcImhhbmRsZXJCZWhhdmlvckNoYW5nZWRcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMFxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJ3aW5kb3dzXCI6IHtcbiAgICAgICAgICBcImNyZWF0ZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldEFsbFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldEN1cnJlbnRcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRMYXN0Rm9jdXNlZFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInJlbW92ZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInVwZGF0ZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMixcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBpZiAoT2JqZWN0LmtleXMoYXBpTWV0YWRhdGEpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJhcGktbWV0YWRhdGEuanNvbiBoYXMgbm90IGJlZW4gaW5jbHVkZWQgaW4gYnJvd3Nlci1wb2x5ZmlsbFwiKTtcbiAgICAgIH1cbiAgICAgIC8qKlxuICAgICAgICogQSBXZWFrTWFwIHN1YmNsYXNzIHdoaWNoIGNyZWF0ZXMgYW5kIHN0b3JlcyBhIHZhbHVlIGZvciBhbnkga2V5IHdoaWNoIGRvZXNcbiAgICAgICAqIG5vdCBleGlzdCB3aGVuIGFjY2Vzc2VkLCBidXQgYmVoYXZlcyBleGFjdGx5IGFzIGFuIG9yZGluYXJ5IFdlYWtNYXBcbiAgICAgICAqIG90aGVyd2lzZS5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjcmVhdGVJdGVtXG4gICAgICAgKiAgICAgICAgQSBmdW5jdGlvbiB3aGljaCB3aWxsIGJlIGNhbGxlZCBpbiBvcmRlciB0byBjcmVhdGUgdGhlIHZhbHVlIGZvciBhbnlcbiAgICAgICAqICAgICAgICBrZXkgd2hpY2ggZG9lcyBub3QgZXhpc3QsIHRoZSBmaXJzdCB0aW1lIGl0IGlzIGFjY2Vzc2VkLiBUaGVcbiAgICAgICAqICAgICAgICBmdW5jdGlvbiByZWNlaXZlcywgYXMgaXRzIG9ubHkgYXJndW1lbnQsIHRoZSBrZXkgYmVpbmcgY3JlYXRlZC5cbiAgICAgICAqL1xuXG5cbiAgICAgIGNsYXNzIERlZmF1bHRXZWFrTWFwIGV4dGVuZHMgV2Vha01hcCB7XG4gICAgICAgIGNvbnN0cnVjdG9yKGNyZWF0ZUl0ZW0sIGl0ZW1zID0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgc3VwZXIoaXRlbXMpO1xuICAgICAgICAgIHRoaXMuY3JlYXRlSXRlbSA9IGNyZWF0ZUl0ZW07XG4gICAgICAgIH1cblxuICAgICAgICBnZXQoa2V5KSB7XG4gICAgICAgICAgaWYgKCF0aGlzLmhhcyhrZXkpKSB7XG4gICAgICAgICAgICB0aGlzLnNldChrZXksIHRoaXMuY3JlYXRlSXRlbShrZXkpKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gc3VwZXIuZ2V0KGtleSk7XG4gICAgICAgIH1cblxuICAgICAgfVxuICAgICAgLyoqXG4gICAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIG9iamVjdCBpcyBhbiBvYmplY3Qgd2l0aCBhIGB0aGVuYCBtZXRob2QsIGFuZCBjYW5cbiAgICAgICAqIHRoZXJlZm9yZSBiZSBhc3N1bWVkIHRvIGJlaGF2ZSBhcyBhIFByb21pc2UuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gdGVzdC5cbiAgICAgICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSB2YWx1ZSBpcyB0aGVuYWJsZS5cbiAgICAgICAqL1xuXG5cbiAgICAgIGNvbnN0IGlzVGhlbmFibGUgPSB2YWx1ZSA9PiB7XG4gICAgICAgIHJldHVybiB2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIHZhbHVlLnRoZW4gPT09IFwiZnVuY3Rpb25cIjtcbiAgICAgIH07XG4gICAgICAvKipcbiAgICAgICAqIENyZWF0ZXMgYW5kIHJldHVybnMgYSBmdW5jdGlvbiB3aGljaCwgd2hlbiBjYWxsZWQsIHdpbGwgcmVzb2x2ZSBvciByZWplY3RcbiAgICAgICAqIHRoZSBnaXZlbiBwcm9taXNlIGJhc2VkIG9uIGhvdyBpdCBpcyBjYWxsZWQ6XG4gICAgICAgKlxuICAgICAgICogLSBJZiwgd2hlbiBjYWxsZWQsIGBjaHJvbWUucnVudGltZS5sYXN0RXJyb3JgIGNvbnRhaW5zIGEgbm9uLW51bGwgb2JqZWN0LFxuICAgICAgICogICB0aGUgcHJvbWlzZSBpcyByZWplY3RlZCB3aXRoIHRoYXQgdmFsdWUuXG4gICAgICAgKiAtIElmIHRoZSBmdW5jdGlvbiBpcyBjYWxsZWQgd2l0aCBleGFjdGx5IG9uZSBhcmd1bWVudCwgdGhlIHByb21pc2UgaXNcbiAgICAgICAqICAgcmVzb2x2ZWQgdG8gdGhhdCB2YWx1ZS5cbiAgICAgICAqIC0gT3RoZXJ3aXNlLCB0aGUgcHJvbWlzZSBpcyByZXNvbHZlZCB0byBhbiBhcnJheSBjb250YWluaW5nIGFsbCBvZiB0aGVcbiAgICAgICAqICAgZnVuY3Rpb24ncyBhcmd1bWVudHMuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtvYmplY3R9IHByb21pc2VcbiAgICAgICAqICAgICAgICBBbiBvYmplY3QgY29udGFpbmluZyB0aGUgcmVzb2x1dGlvbiBhbmQgcmVqZWN0aW9uIGZ1bmN0aW9ucyBvZiBhXG4gICAgICAgKiAgICAgICAgcHJvbWlzZS5cbiAgICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IHByb21pc2UucmVzb2x2ZVxuICAgICAgICogICAgICAgIFRoZSBwcm9taXNlJ3MgcmVzb2x1dGlvbiBmdW5jdGlvbi5cbiAgICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IHByb21pc2UucmVqZWN0XG4gICAgICAgKiAgICAgICAgVGhlIHByb21pc2UncyByZWplY3Rpb24gZnVuY3Rpb24uXG4gICAgICAgKiBAcGFyYW0ge29iamVjdH0gbWV0YWRhdGFcbiAgICAgICAqICAgICAgICBNZXRhZGF0YSBhYm91dCB0aGUgd3JhcHBlZCBtZXRob2Qgd2hpY2ggaGFzIGNyZWF0ZWQgdGhlIGNhbGxiYWNrLlxuICAgICAgICogQHBhcmFtIHtib29sZWFufSBtZXRhZGF0YS5zaW5nbGVDYWxsYmFja0FyZ1xuICAgICAgICogICAgICAgIFdoZXRoZXIgb3Igbm90IHRoZSBwcm9taXNlIGlzIHJlc29sdmVkIHdpdGggb25seSB0aGUgZmlyc3RcbiAgICAgICAqICAgICAgICBhcmd1bWVudCBvZiB0aGUgY2FsbGJhY2ssIGFsdGVybmF0aXZlbHkgYW4gYXJyYXkgb2YgYWxsIHRoZVxuICAgICAgICogICAgICAgIGNhbGxiYWNrIGFyZ3VtZW50cyBpcyByZXNvbHZlZC4gQnkgZGVmYXVsdCwgaWYgdGhlIGNhbGxiYWNrXG4gICAgICAgKiAgICAgICAgZnVuY3Rpb24gaXMgaW52b2tlZCB3aXRoIG9ubHkgYSBzaW5nbGUgYXJndW1lbnQsIHRoYXQgd2lsbCBiZVxuICAgICAgICogICAgICAgIHJlc29sdmVkIHRvIHRoZSBwcm9taXNlLCB3aGlsZSBhbGwgYXJndW1lbnRzIHdpbGwgYmUgcmVzb2x2ZWQgYXNcbiAgICAgICAqICAgICAgICBhbiBhcnJheSBpZiBtdWx0aXBsZSBhcmUgZ2l2ZW4uXG4gICAgICAgKlxuICAgICAgICogQHJldHVybnMge2Z1bmN0aW9ufVxuICAgICAgICogICAgICAgIFRoZSBnZW5lcmF0ZWQgY2FsbGJhY2sgZnVuY3Rpb24uXG4gICAgICAgKi9cblxuXG4gICAgICBjb25zdCBtYWtlQ2FsbGJhY2sgPSAocHJvbWlzZSwgbWV0YWRhdGEpID0+IHtcbiAgICAgICAgcmV0dXJuICguLi5jYWxsYmFja0FyZ3MpID0+IHtcbiAgICAgICAgICBpZiAoZXh0ZW5zaW9uQVBJcy5ydW50aW1lLmxhc3RFcnJvcikge1xuICAgICAgICAgICAgcHJvbWlzZS5yZWplY3QobmV3IEVycm9yKGV4dGVuc2lvbkFQSXMucnVudGltZS5sYXN0RXJyb3IubWVzc2FnZSkpO1xuICAgICAgICAgIH0gZWxzZSBpZiAobWV0YWRhdGEuc2luZ2xlQ2FsbGJhY2tBcmcgfHwgY2FsbGJhY2tBcmdzLmxlbmd0aCA8PSAxICYmIG1ldGFkYXRhLnNpbmdsZUNhbGxiYWNrQXJnICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgcHJvbWlzZS5yZXNvbHZlKGNhbGxiYWNrQXJnc1swXSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHByb21pc2UucmVzb2x2ZShjYWxsYmFja0FyZ3MpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHBsdXJhbGl6ZUFyZ3VtZW50cyA9IG51bUFyZ3MgPT4gbnVtQXJncyA9PSAxID8gXCJhcmd1bWVudFwiIDogXCJhcmd1bWVudHNcIjtcbiAgICAgIC8qKlxuICAgICAgICogQ3JlYXRlcyBhIHdyYXBwZXIgZnVuY3Rpb24gZm9yIGEgbWV0aG9kIHdpdGggdGhlIGdpdmVuIG5hbWUgYW5kIG1ldGFkYXRhLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gICAgICAgKiAgICAgICAgVGhlIG5hbWUgb2YgdGhlIG1ldGhvZCB3aGljaCBpcyBiZWluZyB3cmFwcGVkLlxuICAgICAgICogQHBhcmFtIHtvYmplY3R9IG1ldGFkYXRhXG4gICAgICAgKiAgICAgICAgTWV0YWRhdGEgYWJvdXQgdGhlIG1ldGhvZCBiZWluZyB3cmFwcGVkLlxuICAgICAgICogQHBhcmFtIHtpbnRlZ2VyfSBtZXRhZGF0YS5taW5BcmdzXG4gICAgICAgKiAgICAgICAgVGhlIG1pbmltdW0gbnVtYmVyIG9mIGFyZ3VtZW50cyB3aGljaCBtdXN0IGJlIHBhc3NlZCB0byB0aGVcbiAgICAgICAqICAgICAgICBmdW5jdGlvbi4gSWYgY2FsbGVkIHdpdGggZmV3ZXIgdGhhbiB0aGlzIG51bWJlciBvZiBhcmd1bWVudHMsIHRoZVxuICAgICAgICogICAgICAgIHdyYXBwZXIgd2lsbCByYWlzZSBhbiBleGNlcHRpb24uXG4gICAgICAgKiBAcGFyYW0ge2ludGVnZXJ9IG1ldGFkYXRhLm1heEFyZ3NcbiAgICAgICAqICAgICAgICBUaGUgbWF4aW11bSBudW1iZXIgb2YgYXJndW1lbnRzIHdoaWNoIG1heSBiZSBwYXNzZWQgdG8gdGhlXG4gICAgICAgKiAgICAgICAgZnVuY3Rpb24uIElmIGNhbGxlZCB3aXRoIG1vcmUgdGhhbiB0aGlzIG51bWJlciBvZiBhcmd1bWVudHMsIHRoZVxuICAgICAgICogICAgICAgIHdyYXBwZXIgd2lsbCByYWlzZSBhbiBleGNlcHRpb24uXG4gICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG1ldGFkYXRhLnNpbmdsZUNhbGxiYWNrQXJnXG4gICAgICAgKiAgICAgICAgV2hldGhlciBvciBub3QgdGhlIHByb21pc2UgaXMgcmVzb2x2ZWQgd2l0aCBvbmx5IHRoZSBmaXJzdFxuICAgICAgICogICAgICAgIGFyZ3VtZW50IG9mIHRoZSBjYWxsYmFjaywgYWx0ZXJuYXRpdmVseSBhbiBhcnJheSBvZiBhbGwgdGhlXG4gICAgICAgKiAgICAgICAgY2FsbGJhY2sgYXJndW1lbnRzIGlzIHJlc29sdmVkLiBCeSBkZWZhdWx0LCBpZiB0aGUgY2FsbGJhY2tcbiAgICAgICAqICAgICAgICBmdW5jdGlvbiBpcyBpbnZva2VkIHdpdGggb25seSBhIHNpbmdsZSBhcmd1bWVudCwgdGhhdCB3aWxsIGJlXG4gICAgICAgKiAgICAgICAgcmVzb2x2ZWQgdG8gdGhlIHByb21pc2UsIHdoaWxlIGFsbCBhcmd1bWVudHMgd2lsbCBiZSByZXNvbHZlZCBhc1xuICAgICAgICogICAgICAgIGFuIGFycmF5IGlmIG11bHRpcGxlIGFyZSBnaXZlbi5cbiAgICAgICAqXG4gICAgICAgKiBAcmV0dXJucyB7ZnVuY3Rpb24ob2JqZWN0LCAuLi4qKX1cbiAgICAgICAqICAgICAgIFRoZSBnZW5lcmF0ZWQgd3JhcHBlciBmdW5jdGlvbi5cbiAgICAgICAqL1xuXG5cbiAgICAgIGNvbnN0IHdyYXBBc3luY0Z1bmN0aW9uID0gKG5hbWUsIG1ldGFkYXRhKSA9PiB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBhc3luY0Z1bmN0aW9uV3JhcHBlcih0YXJnZXQsIC4uLmFyZ3MpIHtcbiAgICAgICAgICBpZiAoYXJncy5sZW5ndGggPCBtZXRhZGF0YS5taW5BcmdzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEV4cGVjdGVkIGF0IGxlYXN0ICR7bWV0YWRhdGEubWluQXJnc30gJHtwbHVyYWxpemVBcmd1bWVudHMobWV0YWRhdGEubWluQXJncyl9IGZvciAke25hbWV9KCksIGdvdCAke2FyZ3MubGVuZ3RofWApO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChhcmdzLmxlbmd0aCA+IG1ldGFkYXRhLm1heEFyZ3MpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRXhwZWN0ZWQgYXQgbW9zdCAke21ldGFkYXRhLm1heEFyZ3N9ICR7cGx1cmFsaXplQXJndW1lbnRzKG1ldGFkYXRhLm1heEFyZ3MpfSBmb3IgJHtuYW1lfSgpLCBnb3QgJHthcmdzLmxlbmd0aH1gKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgaWYgKG1ldGFkYXRhLmZhbGxiYWNrVG9Ob0NhbGxiYWNrKSB7XG4gICAgICAgICAgICAgIC8vIFRoaXMgQVBJIG1ldGhvZCBoYXMgY3VycmVudGx5IG5vIGNhbGxiYWNrIG9uIENocm9tZSwgYnV0IGl0IHJldHVybiBhIHByb21pc2Ugb24gRmlyZWZveCxcbiAgICAgICAgICAgICAgLy8gYW5kIHNvIHRoZSBwb2x5ZmlsbCB3aWxsIHRyeSB0byBjYWxsIGl0IHdpdGggYSBjYWxsYmFjayBmaXJzdCwgYW5kIGl0IHdpbGwgZmFsbGJhY2tcbiAgICAgICAgICAgICAgLy8gdG8gbm90IHBhc3NpbmcgdGhlIGNhbGxiYWNrIGlmIHRoZSBmaXJzdCBjYWxsIGZhaWxzLlxuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHRhcmdldFtuYW1lXSguLi5hcmdzLCBtYWtlQ2FsbGJhY2soe1xuICAgICAgICAgICAgICAgICAgcmVzb2x2ZSxcbiAgICAgICAgICAgICAgICAgIHJlamVjdFxuICAgICAgICAgICAgICAgIH0sIG1ldGFkYXRhKSk7XG4gICAgICAgICAgICAgIH0gY2F0Y2ggKGNiRXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYCR7bmFtZX0gQVBJIG1ldGhvZCBkb2Vzbid0IHNlZW0gdG8gc3VwcG9ydCB0aGUgY2FsbGJhY2sgcGFyYW1ldGVyLCBgICsgXCJmYWxsaW5nIGJhY2sgdG8gY2FsbCBpdCB3aXRob3V0IGEgY2FsbGJhY2s6IFwiLCBjYkVycm9yKTtcbiAgICAgICAgICAgICAgICB0YXJnZXRbbmFtZV0oLi4uYXJncyk7IC8vIFVwZGF0ZSB0aGUgQVBJIG1ldGhvZCBtZXRhZGF0YSwgc28gdGhhdCB0aGUgbmV4dCBBUEkgY2FsbHMgd2lsbCBub3QgdHJ5IHRvXG4gICAgICAgICAgICAgICAgLy8gdXNlIHRoZSB1bnN1cHBvcnRlZCBjYWxsYmFjayBhbnltb3JlLlxuXG4gICAgICAgICAgICAgICAgbWV0YWRhdGEuZmFsbGJhY2tUb05vQ2FsbGJhY2sgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBtZXRhZGF0YS5ub0NhbGxiYWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAobWV0YWRhdGEubm9DYWxsYmFjaykge1xuICAgICAgICAgICAgICB0YXJnZXRbbmFtZV0oLi4uYXJncyk7XG4gICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRhcmdldFtuYW1lXSguLi5hcmdzLCBtYWtlQ2FsbGJhY2soe1xuICAgICAgICAgICAgICAgIHJlc29sdmUsXG4gICAgICAgICAgICAgICAgcmVqZWN0XG4gICAgICAgICAgICAgIH0sIG1ldGFkYXRhKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICB9O1xuICAgICAgLyoqXG4gICAgICAgKiBXcmFwcyBhbiBleGlzdGluZyBtZXRob2Qgb2YgdGhlIHRhcmdldCBvYmplY3QsIHNvIHRoYXQgY2FsbHMgdG8gaXQgYXJlXG4gICAgICAgKiBpbnRlcmNlcHRlZCBieSB0aGUgZ2l2ZW4gd3JhcHBlciBmdW5jdGlvbi4gVGhlIHdyYXBwZXIgZnVuY3Rpb24gcmVjZWl2ZXMsXG4gICAgICAgKiBhcyBpdHMgZmlyc3QgYXJndW1lbnQsIHRoZSBvcmlnaW5hbCBgdGFyZ2V0YCBvYmplY3QsIGZvbGxvd2VkIGJ5IGVhY2ggb2ZcbiAgICAgICAqIHRoZSBhcmd1bWVudHMgcGFzc2VkIHRvIHRoZSBvcmlnaW5hbCBtZXRob2QuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtvYmplY3R9IHRhcmdldFxuICAgICAgICogICAgICAgIFRoZSBvcmlnaW5hbCB0YXJnZXQgb2JqZWN0IHRoYXQgdGhlIHdyYXBwZWQgbWV0aG9kIGJlbG9uZ3MgdG8uXG4gICAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBtZXRob2RcbiAgICAgICAqICAgICAgICBUaGUgbWV0aG9kIGJlaW5nIHdyYXBwZWQuIFRoaXMgaXMgdXNlZCBhcyB0aGUgdGFyZ2V0IG9mIHRoZSBQcm94eVxuICAgICAgICogICAgICAgIG9iamVjdCB3aGljaCBpcyBjcmVhdGVkIHRvIHdyYXAgdGhlIG1ldGhvZC5cbiAgICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IHdyYXBwZXJcbiAgICAgICAqICAgICAgICBUaGUgd3JhcHBlciBmdW5jdGlvbiB3aGljaCBpcyBjYWxsZWQgaW4gcGxhY2Ugb2YgYSBkaXJlY3QgaW52b2NhdGlvblxuICAgICAgICogICAgICAgIG9mIHRoZSB3cmFwcGVkIG1ldGhvZC5cbiAgICAgICAqXG4gICAgICAgKiBAcmV0dXJucyB7UHJveHk8ZnVuY3Rpb24+fVxuICAgICAgICogICAgICAgIEEgUHJveHkgb2JqZWN0IGZvciB0aGUgZ2l2ZW4gbWV0aG9kLCB3aGljaCBpbnZva2VzIHRoZSBnaXZlbiB3cmFwcGVyXG4gICAgICAgKiAgICAgICAgbWV0aG9kIGluIGl0cyBwbGFjZS5cbiAgICAgICAqL1xuXG5cbiAgICAgIGNvbnN0IHdyYXBNZXRob2QgPSAodGFyZ2V0LCBtZXRob2QsIHdyYXBwZXIpID0+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm94eShtZXRob2QsIHtcbiAgICAgICAgICBhcHBseSh0YXJnZXRNZXRob2QsIHRoaXNPYmosIGFyZ3MpIHtcbiAgICAgICAgICAgIHJldHVybiB3cmFwcGVyLmNhbGwodGhpc09iaiwgdGFyZ2V0LCAuLi5hcmdzKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgfSk7XG4gICAgICB9O1xuXG4gICAgICBsZXQgaGFzT3duUHJvcGVydHkgPSBGdW5jdGlvbi5jYWxsLmJpbmQoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSk7XG4gICAgICAvKipcbiAgICAgICAqIFdyYXBzIGFuIG9iamVjdCBpbiBhIFByb3h5IHdoaWNoIGludGVyY2VwdHMgYW5kIHdyYXBzIGNlcnRhaW4gbWV0aG9kc1xuICAgICAgICogYmFzZWQgb24gdGhlIGdpdmVuIGB3cmFwcGVyc2AgYW5kIGBtZXRhZGF0YWAgb2JqZWN0cy5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge29iamVjdH0gdGFyZ2V0XG4gICAgICAgKiAgICAgICAgVGhlIHRhcmdldCBvYmplY3QgdG8gd3JhcC5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge29iamVjdH0gW3dyYXBwZXJzID0ge31dXG4gICAgICAgKiAgICAgICAgQW4gb2JqZWN0IHRyZWUgY29udGFpbmluZyB3cmFwcGVyIGZ1bmN0aW9ucyBmb3Igc3BlY2lhbCBjYXNlcy4gQW55XG4gICAgICAgKiAgICAgICAgZnVuY3Rpb24gcHJlc2VudCBpbiB0aGlzIG9iamVjdCB0cmVlIGlzIGNhbGxlZCBpbiBwbGFjZSBvZiB0aGVcbiAgICAgICAqICAgICAgICBtZXRob2QgaW4gdGhlIHNhbWUgbG9jYXRpb24gaW4gdGhlIGB0YXJnZXRgIG9iamVjdCB0cmVlLiBUaGVzZVxuICAgICAgICogICAgICAgIHdyYXBwZXIgbWV0aG9kcyBhcmUgaW52b2tlZCBhcyBkZXNjcmliZWQgaW4ge0BzZWUgd3JhcE1ldGhvZH0uXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtvYmplY3R9IFttZXRhZGF0YSA9IHt9XVxuICAgICAgICogICAgICAgIEFuIG9iamVjdCB0cmVlIGNvbnRhaW5pbmcgbWV0YWRhdGEgdXNlZCB0byBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlXG4gICAgICAgKiAgICAgICAgUHJvbWlzZS1iYXNlZCB3cmFwcGVyIGZ1bmN0aW9ucyBmb3IgYXN5bmNocm9ub3VzLiBBbnkgZnVuY3Rpb24gaW5cbiAgICAgICAqICAgICAgICB0aGUgYHRhcmdldGAgb2JqZWN0IHRyZWUgd2hpY2ggaGFzIGEgY29ycmVzcG9uZGluZyBtZXRhZGF0YSBvYmplY3RcbiAgICAgICAqICAgICAgICBpbiB0aGUgc2FtZSBsb2NhdGlvbiBpbiB0aGUgYG1ldGFkYXRhYCB0cmVlIGlzIHJlcGxhY2VkIHdpdGggYW5cbiAgICAgICAqICAgICAgICBhdXRvbWF0aWNhbGx5LWdlbmVyYXRlZCB3cmFwcGVyIGZ1bmN0aW9uLCBhcyBkZXNjcmliZWQgaW5cbiAgICAgICAqICAgICAgICB7QHNlZSB3cmFwQXN5bmNGdW5jdGlvbn1cbiAgICAgICAqXG4gICAgICAgKiBAcmV0dXJucyB7UHJveHk8b2JqZWN0Pn1cbiAgICAgICAqL1xuXG4gICAgICBjb25zdCB3cmFwT2JqZWN0ID0gKHRhcmdldCwgd3JhcHBlcnMgPSB7fSwgbWV0YWRhdGEgPSB7fSkgPT4ge1xuICAgICAgICBsZXQgY2FjaGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICBsZXQgaGFuZGxlcnMgPSB7XG4gICAgICAgICAgaGFzKHByb3h5VGFyZ2V0LCBwcm9wKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvcCBpbiB0YXJnZXQgfHwgcHJvcCBpbiBjYWNoZTtcbiAgICAgICAgICB9LFxuXG4gICAgICAgICAgZ2V0KHByb3h5VGFyZ2V0LCBwcm9wLCByZWNlaXZlcikge1xuICAgICAgICAgICAgaWYgKHByb3AgaW4gY2FjaGUpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGNhY2hlW3Byb3BdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIShwcm9wIGluIHRhcmdldCkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IHZhbHVlID0gdGFyZ2V0W3Byb3BdO1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgLy8gVGhpcyBpcyBhIG1ldGhvZCBvbiB0aGUgdW5kZXJseWluZyBvYmplY3QuIENoZWNrIGlmIHdlIG5lZWQgdG8gZG9cbiAgICAgICAgICAgICAgLy8gYW55IHdyYXBwaW5nLlxuICAgICAgICAgICAgICBpZiAodHlwZW9mIHdyYXBwZXJzW3Byb3BdID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICAvLyBXZSBoYXZlIGEgc3BlY2lhbC1jYXNlIHdyYXBwZXIgZm9yIHRoaXMgbWV0aG9kLlxuICAgICAgICAgICAgICAgIHZhbHVlID0gd3JhcE1ldGhvZCh0YXJnZXQsIHRhcmdldFtwcm9wXSwgd3JhcHBlcnNbcHJvcF0pO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKGhhc093blByb3BlcnR5KG1ldGFkYXRhLCBwcm9wKSkge1xuICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgYW4gYXN5bmMgbWV0aG9kIHRoYXQgd2UgaGF2ZSBtZXRhZGF0YSBmb3IuIENyZWF0ZSBhXG4gICAgICAgICAgICAgICAgLy8gUHJvbWlzZSB3cmFwcGVyIGZvciBpdC5cbiAgICAgICAgICAgICAgICBsZXQgd3JhcHBlciA9IHdyYXBBc3luY0Z1bmN0aW9uKHByb3AsIG1ldGFkYXRhW3Byb3BdKTtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHdyYXBNZXRob2QodGFyZ2V0LCB0YXJnZXRbcHJvcF0sIHdyYXBwZXIpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgYSBtZXRob2QgdGhhdCB3ZSBkb24ndCBrbm93IG9yIGNhcmUgYWJvdXQuIFJldHVybiB0aGVcbiAgICAgICAgICAgICAgICAvLyBvcmlnaW5hbCBtZXRob2QsIGJvdW5kIHRvIHRoZSB1bmRlcmx5aW5nIG9iamVjdC5cbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLmJpbmQodGFyZ2V0KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgdmFsdWUgIT09IG51bGwgJiYgKGhhc093blByb3BlcnR5KHdyYXBwZXJzLCBwcm9wKSB8fCBoYXNPd25Qcm9wZXJ0eShtZXRhZGF0YSwgcHJvcCkpKSB7XG4gICAgICAgICAgICAgIC8vIFRoaXMgaXMgYW4gb2JqZWN0IHRoYXQgd2UgbmVlZCB0byBkbyBzb21lIHdyYXBwaW5nIGZvciB0aGUgY2hpbGRyZW5cbiAgICAgICAgICAgICAgLy8gb2YuIENyZWF0ZSBhIHN1Yi1vYmplY3Qgd3JhcHBlciBmb3IgaXQgd2l0aCB0aGUgYXBwcm9wcmlhdGUgY2hpbGRcbiAgICAgICAgICAgICAgLy8gbWV0YWRhdGEuXG4gICAgICAgICAgICAgIHZhbHVlID0gd3JhcE9iamVjdCh2YWx1ZSwgd3JhcHBlcnNbcHJvcF0sIG1ldGFkYXRhW3Byb3BdKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaGFzT3duUHJvcGVydHkobWV0YWRhdGEsIFwiKlwiKSkge1xuICAgICAgICAgICAgICAvLyBXcmFwIGFsbCBwcm9wZXJ0aWVzIGluICogbmFtZXNwYWNlLlxuICAgICAgICAgICAgICB2YWx1ZSA9IHdyYXBPYmplY3QodmFsdWUsIHdyYXBwZXJzW3Byb3BdLCBtZXRhZGF0YVtcIipcIl0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gV2UgZG9uJ3QgbmVlZCB0byBkbyBhbnkgd3JhcHBpbmcgZm9yIHRoaXMgcHJvcGVydHksXG4gICAgICAgICAgICAgIC8vIHNvIGp1c3QgZm9yd2FyZCBhbGwgYWNjZXNzIHRvIHRoZSB1bmRlcmx5aW5nIG9iamVjdC5cbiAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNhY2hlLCBwcm9wLCB7XG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG5cbiAgICAgICAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0W3Byb3BdO1xuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICBzZXQodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgIHRhcmdldFtwcm9wXSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYWNoZVtwcm9wXSA9IHZhbHVlO1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgIH0sXG5cbiAgICAgICAgICBzZXQocHJveHlUYXJnZXQsIHByb3AsIHZhbHVlLCByZWNlaXZlcikge1xuICAgICAgICAgICAgaWYgKHByb3AgaW4gY2FjaGUpIHtcbiAgICAgICAgICAgICAgY2FjaGVbcHJvcF0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRhcmdldFtwcm9wXSA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9LFxuXG4gICAgICAgICAgZGVmaW5lUHJvcGVydHkocHJveHlUYXJnZXQsIHByb3AsIGRlc2MpIHtcbiAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LmRlZmluZVByb3BlcnR5KGNhY2hlLCBwcm9wLCBkZXNjKTtcbiAgICAgICAgICB9LFxuXG4gICAgICAgICAgZGVsZXRlUHJvcGVydHkocHJveHlUYXJnZXQsIHByb3ApIHtcbiAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LmRlbGV0ZVByb3BlcnR5KGNhY2hlLCBwcm9wKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgfTsgLy8gUGVyIGNvbnRyYWN0IG9mIHRoZSBQcm94eSBBUEksIHRoZSBcImdldFwiIHByb3h5IGhhbmRsZXIgbXVzdCByZXR1cm4gdGhlXG4gICAgICAgIC8vIG9yaWdpbmFsIHZhbHVlIG9mIHRoZSB0YXJnZXQgaWYgdGhhdCB2YWx1ZSBpcyBkZWNsYXJlZCByZWFkLW9ubHkgYW5kXG4gICAgICAgIC8vIG5vbi1jb25maWd1cmFibGUuIEZvciB0aGlzIHJlYXNvbiwgd2UgY3JlYXRlIGFuIG9iamVjdCB3aXRoIHRoZVxuICAgICAgICAvLyBwcm90b3R5cGUgc2V0IHRvIGB0YXJnZXRgIGluc3RlYWQgb2YgdXNpbmcgYHRhcmdldGAgZGlyZWN0bHkuXG4gICAgICAgIC8vIE90aGVyd2lzZSB3ZSBjYW5ub3QgcmV0dXJuIGEgY3VzdG9tIG9iamVjdCBmb3IgQVBJcyB0aGF0XG4gICAgICAgIC8vIGFyZSBkZWNsYXJlZCByZWFkLW9ubHkgYW5kIG5vbi1jb25maWd1cmFibGUsIHN1Y2ggYXMgYGNocm9tZS5kZXZ0b29sc2AuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFRoZSBwcm94eSBoYW5kbGVycyB0aGVtc2VsdmVzIHdpbGwgc3RpbGwgdXNlIHRoZSBvcmlnaW5hbCBgdGFyZ2V0YFxuICAgICAgICAvLyBpbnN0ZWFkIG9mIHRoZSBgcHJveHlUYXJnZXRgLCBzbyB0aGF0IHRoZSBtZXRob2RzIGFuZCBwcm9wZXJ0aWVzIGFyZVxuICAgICAgICAvLyBkZXJlZmVyZW5jZWQgdmlhIHRoZSBvcmlnaW5hbCB0YXJnZXRzLlxuXG4gICAgICAgIGxldCBwcm94eVRhcmdldCA9IE9iamVjdC5jcmVhdGUodGFyZ2V0KTtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm94eShwcm94eVRhcmdldCwgaGFuZGxlcnMpO1xuICAgICAgfTtcbiAgICAgIC8qKlxuICAgICAgICogQ3JlYXRlcyBhIHNldCBvZiB3cmFwcGVyIGZ1bmN0aW9ucyBmb3IgYW4gZXZlbnQgb2JqZWN0LCB3aGljaCBoYW5kbGVzXG4gICAgICAgKiB3cmFwcGluZyBvZiBsaXN0ZW5lciBmdW5jdGlvbnMgdGhhdCB0aG9zZSBtZXNzYWdlcyBhcmUgcGFzc2VkLlxuICAgICAgICpcbiAgICAgICAqIEEgc2luZ2xlIHdyYXBwZXIgaXMgY3JlYXRlZCBmb3IgZWFjaCBsaXN0ZW5lciBmdW5jdGlvbiwgYW5kIHN0b3JlZCBpbiBhXG4gICAgICAgKiBtYXAuIFN1YnNlcXVlbnQgY2FsbHMgdG8gYGFkZExpc3RlbmVyYCwgYGhhc0xpc3RlbmVyYCwgb3IgYHJlbW92ZUxpc3RlbmVyYFxuICAgICAgICogcmV0cmlldmUgdGhlIG9yaWdpbmFsIHdyYXBwZXIsIHNvIHRoYXQgIGF0dGVtcHRzIHRvIHJlbW92ZSBhXG4gICAgICAgKiBwcmV2aW91c2x5LWFkZGVkIGxpc3RlbmVyIHdvcmsgYXMgZXhwZWN0ZWQuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtEZWZhdWx0V2Vha01hcDxmdW5jdGlvbiwgZnVuY3Rpb24+fSB3cmFwcGVyTWFwXG4gICAgICAgKiAgICAgICAgQSBEZWZhdWx0V2Vha01hcCBvYmplY3Qgd2hpY2ggd2lsbCBjcmVhdGUgdGhlIGFwcHJvcHJpYXRlIHdyYXBwZXJcbiAgICAgICAqICAgICAgICBmb3IgYSBnaXZlbiBsaXN0ZW5lciBmdW5jdGlvbiB3aGVuIG9uZSBkb2VzIG5vdCBleGlzdCwgYW5kIHJldHJpZXZlXG4gICAgICAgKiAgICAgICAgYW4gZXhpc3Rpbmcgb25lIHdoZW4gaXQgZG9lcy5cbiAgICAgICAqXG4gICAgICAgKiBAcmV0dXJucyB7b2JqZWN0fVxuICAgICAgICovXG5cblxuICAgICAgY29uc3Qgd3JhcEV2ZW50ID0gd3JhcHBlck1hcCA9PiAoe1xuICAgICAgICBhZGRMaXN0ZW5lcih0YXJnZXQsIGxpc3RlbmVyLCAuLi5hcmdzKSB7XG4gICAgICAgICAgdGFyZ2V0LmFkZExpc3RlbmVyKHdyYXBwZXJNYXAuZ2V0KGxpc3RlbmVyKSwgLi4uYXJncyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgaGFzTGlzdGVuZXIodGFyZ2V0LCBsaXN0ZW5lcikge1xuICAgICAgICAgIHJldHVybiB0YXJnZXQuaGFzTGlzdGVuZXIod3JhcHBlck1hcC5nZXQobGlzdGVuZXIpKTtcbiAgICAgICAgfSxcblxuICAgICAgICByZW1vdmVMaXN0ZW5lcih0YXJnZXQsIGxpc3RlbmVyKSB7XG4gICAgICAgICAgdGFyZ2V0LnJlbW92ZUxpc3RlbmVyKHdyYXBwZXJNYXAuZ2V0KGxpc3RlbmVyKSk7XG4gICAgICAgIH1cblxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IG9uUmVxdWVzdEZpbmlzaGVkV3JhcHBlcnMgPSBuZXcgRGVmYXVsdFdlYWtNYXAobGlzdGVuZXIgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIGxpc3RlbmVyICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICByZXR1cm4gbGlzdGVuZXI7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdyYXBzIGFuIG9uUmVxdWVzdEZpbmlzaGVkIGxpc3RlbmVyIGZ1bmN0aW9uIHNvIHRoYXQgaXQgd2lsbCByZXR1cm4gYVxuICAgICAgICAgKiBgZ2V0Q29udGVudCgpYCBwcm9wZXJ0eSB3aGljaCByZXR1cm5zIGEgYFByb21pc2VgIHJhdGhlciB0aGFuIHVzaW5nIGFcbiAgICAgICAgICogY2FsbGJhY2sgQVBJLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gcmVxXG4gICAgICAgICAqICAgICAgICBUaGUgSEFSIGVudHJ5IG9iamVjdCByZXByZXNlbnRpbmcgdGhlIG5ldHdvcmsgcmVxdWVzdC5cbiAgICAgICAgICovXG5cblxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gb25SZXF1ZXN0RmluaXNoZWQocmVxKSB7XG4gICAgICAgICAgY29uc3Qgd3JhcHBlZFJlcSA9IHdyYXBPYmplY3QocmVxLCB7fVxuICAgICAgICAgIC8qIHdyYXBwZXJzICovXG4gICAgICAgICAgLCB7XG4gICAgICAgICAgICBnZXRDb250ZW50OiB7XG4gICAgICAgICAgICAgIG1pbkFyZ3M6IDAsXG4gICAgICAgICAgICAgIG1heEFyZ3M6IDBcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBsaXN0ZW5lcih3cmFwcGVkUmVxKTtcbiAgICAgICAgfTtcbiAgICAgIH0pOyAvLyBLZWVwIHRyYWNrIGlmIHRoZSBkZXByZWNhdGlvbiB3YXJuaW5nIGhhcyBiZWVuIGxvZ2dlZCBhdCBsZWFzdCBvbmNlLlxuXG4gICAgICBsZXQgbG9nZ2VkU2VuZFJlc3BvbnNlRGVwcmVjYXRpb25XYXJuaW5nID0gZmFsc2U7XG4gICAgICBjb25zdCBvbk1lc3NhZ2VXcmFwcGVycyA9IG5ldyBEZWZhdWx0V2Vha01hcChsaXN0ZW5lciA9PiB7XG4gICAgICAgIGlmICh0eXBlb2YgbGlzdGVuZXIgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgIHJldHVybiBsaXN0ZW5lcjtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogV3JhcHMgYSBtZXNzYWdlIGxpc3RlbmVyIGZ1bmN0aW9uIHNvIHRoYXQgaXQgbWF5IHNlbmQgcmVzcG9uc2VzIGJhc2VkIG9uXG4gICAgICAgICAqIGl0cyByZXR1cm4gdmFsdWUsIHJhdGhlciB0aGFuIGJ5IHJldHVybmluZyBhIHNlbnRpbmVsIHZhbHVlIGFuZCBjYWxsaW5nIGFcbiAgICAgICAgICogY2FsbGJhY2suIElmIHRoZSBsaXN0ZW5lciBmdW5jdGlvbiByZXR1cm5zIGEgUHJvbWlzZSwgdGhlIHJlc3BvbnNlIGlzXG4gICAgICAgICAqIHNlbnQgd2hlbiB0aGUgcHJvbWlzZSBlaXRoZXIgcmVzb2x2ZXMgb3IgcmVqZWN0cy5cbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHsqfSBtZXNzYWdlXG4gICAgICAgICAqICAgICAgICBUaGUgbWVzc2FnZSBzZW50IGJ5IHRoZSBvdGhlciBlbmQgb2YgdGhlIGNoYW5uZWwuXG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBzZW5kZXJcbiAgICAgICAgICogICAgICAgIERldGFpbHMgYWJvdXQgdGhlIHNlbmRlciBvZiB0aGUgbWVzc2FnZS5cbiAgICAgICAgICogQHBhcmFtIHtmdW5jdGlvbigqKX0gc2VuZFJlc3BvbnNlXG4gICAgICAgICAqICAgICAgICBBIGNhbGxiYWNrIHdoaWNoLCB3aGVuIGNhbGxlZCB3aXRoIGFuIGFyYml0cmFyeSBhcmd1bWVudCwgc2VuZHNcbiAgICAgICAgICogICAgICAgIHRoYXQgdmFsdWUgYXMgYSByZXNwb25zZS5cbiAgICAgICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICAgICAqICAgICAgICBUcnVlIGlmIHRoZSB3cmFwcGVkIGxpc3RlbmVyIHJldHVybmVkIGEgUHJvbWlzZSwgd2hpY2ggd2lsbCBsYXRlclxuICAgICAgICAgKiAgICAgICAgeWllbGQgYSByZXNwb25zZS4gRmFsc2Ugb3RoZXJ3aXNlLlxuICAgICAgICAgKi9cblxuXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBvbk1lc3NhZ2UobWVzc2FnZSwgc2VuZGVyLCBzZW5kUmVzcG9uc2UpIHtcbiAgICAgICAgICBsZXQgZGlkQ2FsbFNlbmRSZXNwb25zZSA9IGZhbHNlO1xuICAgICAgICAgIGxldCB3cmFwcGVkU2VuZFJlc3BvbnNlO1xuICAgICAgICAgIGxldCBzZW5kUmVzcG9uc2VQcm9taXNlID0gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICB3cmFwcGVkU2VuZFJlc3BvbnNlID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgIGlmICghbG9nZ2VkU2VuZFJlc3BvbnNlRGVwcmVjYXRpb25XYXJuaW5nKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFNFTkRfUkVTUE9OU0VfREVQUkVDQVRJT05fV0FSTklORywgbmV3IEVycm9yKCkuc3RhY2spO1xuICAgICAgICAgICAgICAgIGxvZ2dlZFNlbmRSZXNwb25zZURlcHJlY2F0aW9uV2FybmluZyA9IHRydWU7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBkaWRDYWxsU2VuZFJlc3BvbnNlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgcmVzb2x2ZShyZXNwb25zZSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGxldCByZXN1bHQ7XG5cbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmVzdWx0ID0gbGlzdGVuZXIobWVzc2FnZSwgc2VuZGVyLCB3cmFwcGVkU2VuZFJlc3BvbnNlKTtcbiAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IFByb21pc2UucmVqZWN0KGVycik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgaXNSZXN1bHRUaGVuYWJsZSA9IHJlc3VsdCAhPT0gdHJ1ZSAmJiBpc1RoZW5hYmxlKHJlc3VsdCk7IC8vIElmIHRoZSBsaXN0ZW5lciBkaWRuJ3QgcmV0dXJuZWQgdHJ1ZSBvciBhIFByb21pc2UsIG9yIGNhbGxlZFxuICAgICAgICAgIC8vIHdyYXBwZWRTZW5kUmVzcG9uc2Ugc3luY2hyb25vdXNseSwgd2UgY2FuIGV4aXQgZWFybGllclxuICAgICAgICAgIC8vIGJlY2F1c2UgdGhlcmUgd2lsbCBiZSBubyByZXNwb25zZSBzZW50IGZyb20gdGhpcyBsaXN0ZW5lci5cblxuICAgICAgICAgIGlmIChyZXN1bHQgIT09IHRydWUgJiYgIWlzUmVzdWx0VGhlbmFibGUgJiYgIWRpZENhbGxTZW5kUmVzcG9uc2UpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9IC8vIEEgc21hbGwgaGVscGVyIHRvIHNlbmQgdGhlIG1lc3NhZ2UgaWYgdGhlIHByb21pc2UgcmVzb2x2ZXNcbiAgICAgICAgICAvLyBhbmQgYW4gZXJyb3IgaWYgdGhlIHByb21pc2UgcmVqZWN0cyAoYSB3cmFwcGVkIHNlbmRNZXNzYWdlIGhhc1xuICAgICAgICAgIC8vIHRvIHRyYW5zbGF0ZSB0aGUgbWVzc2FnZSBpbnRvIGEgcmVzb2x2ZWQgcHJvbWlzZSBvciBhIHJlamVjdGVkXG4gICAgICAgICAgLy8gcHJvbWlzZSkuXG5cblxuICAgICAgICAgIGNvbnN0IHNlbmRQcm9taXNlZFJlc3VsdCA9IHByb21pc2UgPT4ge1xuICAgICAgICAgICAgcHJvbWlzZS50aGVuKG1zZyA9PiB7XG4gICAgICAgICAgICAgIC8vIHNlbmQgdGhlIG1lc3NhZ2UgdmFsdWUuXG4gICAgICAgICAgICAgIHNlbmRSZXNwb25zZShtc2cpO1xuICAgICAgICAgICAgfSwgZXJyb3IgPT4ge1xuICAgICAgICAgICAgICAvLyBTZW5kIGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGUgZXJyb3IgaWYgdGhlIHJlamVjdGVkIHZhbHVlXG4gICAgICAgICAgICAgIC8vIGlzIGFuIGluc3RhbmNlIG9mIGVycm9yLCBvciB0aGUgb2JqZWN0IGl0c2VsZiBvdGhlcndpc2UuXG4gICAgICAgICAgICAgIGxldCBtZXNzYWdlO1xuXG4gICAgICAgICAgICAgIGlmIChlcnJvciAmJiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvciB8fCB0eXBlb2YgZXJyb3IubWVzc2FnZSA9PT0gXCJzdHJpbmdcIikpIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gZXJyb3IubWVzc2FnZTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gXCJBbiB1bmV4cGVjdGVkIGVycm9yIG9jY3VycmVkXCI7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBzZW5kUmVzcG9uc2Uoe1xuICAgICAgICAgICAgICAgIF9fbW96V2ViRXh0ZW5zaW9uUG9seWZpbGxSZWplY3RfXzogdHJ1ZSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSkuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgLy8gUHJpbnQgYW4gZXJyb3Igb24gdGhlIGNvbnNvbGUgaWYgdW5hYmxlIHRvIHNlbmQgdGhlIHJlc3BvbnNlLlxuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIHNlbmQgb25NZXNzYWdlIHJlamVjdGVkIHJlcGx5XCIsIGVycik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9OyAvLyBJZiB0aGUgbGlzdGVuZXIgcmV0dXJuZWQgYSBQcm9taXNlLCBzZW5kIHRoZSByZXNvbHZlZCB2YWx1ZSBhcyBhXG4gICAgICAgICAgLy8gcmVzdWx0LCBvdGhlcndpc2Ugd2FpdCB0aGUgcHJvbWlzZSByZWxhdGVkIHRvIHRoZSB3cmFwcGVkU2VuZFJlc3BvbnNlXG4gICAgICAgICAgLy8gY2FsbGJhY2sgdG8gcmVzb2x2ZSBhbmQgc2VuZCBpdCBhcyBhIHJlc3BvbnNlLlxuXG5cbiAgICAgICAgICBpZiAoaXNSZXN1bHRUaGVuYWJsZSkge1xuICAgICAgICAgICAgc2VuZFByb21pc2VkUmVzdWx0KHJlc3VsdCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNlbmRQcm9taXNlZFJlc3VsdChzZW5kUmVzcG9uc2VQcm9taXNlKTtcbiAgICAgICAgICB9IC8vIExldCBDaHJvbWUga25vdyB0aGF0IHRoZSBsaXN0ZW5lciBpcyByZXBseWluZy5cblxuXG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH07XG4gICAgICB9KTtcblxuICAgICAgY29uc3Qgd3JhcHBlZFNlbmRNZXNzYWdlQ2FsbGJhY2sgPSAoe1xuICAgICAgICByZWplY3QsXG4gICAgICAgIHJlc29sdmVcbiAgICAgIH0sIHJlcGx5KSA9PiB7XG4gICAgICAgIGlmIChleHRlbnNpb25BUElzLnJ1bnRpbWUubGFzdEVycm9yKSB7XG4gICAgICAgICAgLy8gRGV0ZWN0IHdoZW4gbm9uZSBvZiB0aGUgbGlzdGVuZXJzIHJlcGxpZWQgdG8gdGhlIHNlbmRNZXNzYWdlIGNhbGwgYW5kIHJlc29sdmVcbiAgICAgICAgICAvLyB0aGUgcHJvbWlzZSB0byB1bmRlZmluZWQgYXMgaW4gRmlyZWZveC5cbiAgICAgICAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL21vemlsbGEvd2ViZXh0ZW5zaW9uLXBvbHlmaWxsL2lzc3Vlcy8xMzBcbiAgICAgICAgICBpZiAoZXh0ZW5zaW9uQVBJcy5ydW50aW1lLmxhc3RFcnJvci5tZXNzYWdlID09PSBDSFJPTUVfU0VORF9NRVNTQUdFX0NBTExCQUNLX05PX1JFU1BPTlNFX01FU1NBR0UpIHtcbiAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihleHRlbnNpb25BUElzLnJ1bnRpbWUubGFzdEVycm9yLm1lc3NhZ2UpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAocmVwbHkgJiYgcmVwbHkuX19tb3pXZWJFeHRlbnNpb25Qb2x5ZmlsbFJlamVjdF9fKSB7XG4gICAgICAgICAgLy8gQ29udmVydCBiYWNrIHRoZSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBlcnJvciBpbnRvXG4gICAgICAgICAgLy8gYW4gRXJyb3IgaW5zdGFuY2UuXG4gICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihyZXBseS5tZXNzYWdlKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzb2x2ZShyZXBseSk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHdyYXBwZWRTZW5kTWVzc2FnZSA9IChuYW1lLCBtZXRhZGF0YSwgYXBpTmFtZXNwYWNlT2JqLCAuLi5hcmdzKSA9PiB7XG4gICAgICAgIGlmIChhcmdzLmxlbmd0aCA8IG1ldGFkYXRhLm1pbkFyZ3MpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEV4cGVjdGVkIGF0IGxlYXN0ICR7bWV0YWRhdGEubWluQXJnc30gJHtwbHVyYWxpemVBcmd1bWVudHMobWV0YWRhdGEubWluQXJncyl9IGZvciAke25hbWV9KCksIGdvdCAke2FyZ3MubGVuZ3RofWApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGFyZ3MubGVuZ3RoID4gbWV0YWRhdGEubWF4QXJncykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRXhwZWN0ZWQgYXQgbW9zdCAke21ldGFkYXRhLm1heEFyZ3N9ICR7cGx1cmFsaXplQXJndW1lbnRzKG1ldGFkYXRhLm1heEFyZ3MpfSBmb3IgJHtuYW1lfSgpLCBnb3QgJHthcmdzLmxlbmd0aH1gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgY29uc3Qgd3JhcHBlZENiID0gd3JhcHBlZFNlbmRNZXNzYWdlQ2FsbGJhY2suYmluZChudWxsLCB7XG4gICAgICAgICAgICByZXNvbHZlLFxuICAgICAgICAgICAgcmVqZWN0XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgYXJncy5wdXNoKHdyYXBwZWRDYik7XG4gICAgICAgICAgYXBpTmFtZXNwYWNlT2JqLnNlbmRNZXNzYWdlKC4uLmFyZ3MpO1xuICAgICAgICB9KTtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHN0YXRpY1dyYXBwZXJzID0ge1xuICAgICAgICBkZXZ0b29sczoge1xuICAgICAgICAgIG5ldHdvcms6IHtcbiAgICAgICAgICAgIG9uUmVxdWVzdEZpbmlzaGVkOiB3cmFwRXZlbnQob25SZXF1ZXN0RmluaXNoZWRXcmFwcGVycylcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHJ1bnRpbWU6IHtcbiAgICAgICAgICBvbk1lc3NhZ2U6IHdyYXBFdmVudChvbk1lc3NhZ2VXcmFwcGVycyksXG4gICAgICAgICAgb25NZXNzYWdlRXh0ZXJuYWw6IHdyYXBFdmVudChvbk1lc3NhZ2VXcmFwcGVycyksXG4gICAgICAgICAgc2VuZE1lc3NhZ2U6IHdyYXBwZWRTZW5kTWVzc2FnZS5iaW5kKG51bGwsIFwic2VuZE1lc3NhZ2VcIiwge1xuICAgICAgICAgICAgbWluQXJnczogMSxcbiAgICAgICAgICAgIG1heEFyZ3M6IDNcbiAgICAgICAgICB9KVxuICAgICAgICB9LFxuICAgICAgICB0YWJzOiB7XG4gICAgICAgICAgc2VuZE1lc3NhZ2U6IHdyYXBwZWRTZW5kTWVzc2FnZS5iaW5kKG51bGwsIFwic2VuZE1lc3NhZ2VcIiwge1xuICAgICAgICAgICAgbWluQXJnczogMixcbiAgICAgICAgICAgIG1heEFyZ3M6IDNcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgY29uc3Qgc2V0dGluZ01ldGFkYXRhID0ge1xuICAgICAgICBjbGVhcjoge1xuICAgICAgICAgIG1pbkFyZ3M6IDEsXG4gICAgICAgICAgbWF4QXJnczogMVxuICAgICAgICB9LFxuICAgICAgICBnZXQ6IHtcbiAgICAgICAgICBtaW5BcmdzOiAxLFxuICAgICAgICAgIG1heEFyZ3M6IDFcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiB7XG4gICAgICAgICAgbWluQXJnczogMSxcbiAgICAgICAgICBtYXhBcmdzOiAxXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBhcGlNZXRhZGF0YS5wcml2YWN5ID0ge1xuICAgICAgICBuZXR3b3JrOiB7XG4gICAgICAgICAgXCIqXCI6IHNldHRpbmdNZXRhZGF0YVxuICAgICAgICB9LFxuICAgICAgICBzZXJ2aWNlczoge1xuICAgICAgICAgIFwiKlwiOiBzZXR0aW5nTWV0YWRhdGFcbiAgICAgICAgfSxcbiAgICAgICAgd2Vic2l0ZXM6IHtcbiAgICAgICAgICBcIipcIjogc2V0dGluZ01ldGFkYXRhXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICByZXR1cm4gd3JhcE9iamVjdChleHRlbnNpb25BUElzLCBzdGF0aWNXcmFwcGVycywgYXBpTWV0YWRhdGEpO1xuICAgIH07XG5cbiAgICBpZiAodHlwZW9mIGNocm9tZSAhPSBcIm9iamVjdFwiIHx8ICFjaHJvbWUgfHwgIWNocm9tZS5ydW50aW1lIHx8ICFjaHJvbWUucnVudGltZS5pZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhpcyBzY3JpcHQgc2hvdWxkIG9ubHkgYmUgbG9hZGVkIGluIGEgYnJvd3NlciBleHRlbnNpb24uXCIpO1xuICAgIH0gLy8gVGhlIGJ1aWxkIHByb2Nlc3MgYWRkcyBhIFVNRCB3cmFwcGVyIGFyb3VuZCB0aGlzIGZpbGUsIHdoaWNoIG1ha2VzIHRoZVxuICAgIC8vIGBtb2R1bGVgIHZhcmlhYmxlIGF2YWlsYWJsZS5cblxuXG4gICAgbW9kdWxlLmV4cG9ydHMgPSB3cmFwQVBJcyhjaHJvbWUpO1xuICB9IGVsc2Uge1xuICAgIG1vZHVsZS5leHBvcnRzID0gYnJvd3NlcjtcbiAgfVxufSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1icm93c2VyLXBvbHlmaWxsLmpzLm1hcFxuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsImZ1bmN0aW9uIHByb21pc2lmeVJlcXVlc3QocmVxdWVzdCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmUgLSBmaWxlIHNpemUgaGFja3NcbiAgICAgICAgcmVxdWVzdC5vbmNvbXBsZXRlID0gcmVxdWVzdC5vbnN1Y2Nlc3MgPSAoKSA9PiByZXNvbHZlKHJlcXVlc3QucmVzdWx0KTtcbiAgICAgICAgLy8gQHRzLWlnbm9yZSAtIGZpbGUgc2l6ZSBoYWNrc1xuICAgICAgICByZXF1ZXN0Lm9uYWJvcnQgPSByZXF1ZXN0Lm9uZXJyb3IgPSAoKSA9PiByZWplY3QocmVxdWVzdC5lcnJvcik7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBjcmVhdGVTdG9yZShkYk5hbWUsIHN0b3JlTmFtZSkge1xuICAgIGNvbnN0IHJlcXVlc3QgPSBpbmRleGVkREIub3BlbihkYk5hbWUpO1xuICAgIHJlcXVlc3Qub251cGdyYWRlbmVlZGVkID0gKCkgPT4gcmVxdWVzdC5yZXN1bHQuY3JlYXRlT2JqZWN0U3RvcmUoc3RvcmVOYW1lKTtcbiAgICBjb25zdCBkYnAgPSBwcm9taXNpZnlSZXF1ZXN0KHJlcXVlc3QpO1xuICAgIHJldHVybiAodHhNb2RlLCBjYWxsYmFjaykgPT4gZGJwLnRoZW4oKGRiKSA9PiBjYWxsYmFjayhkYi50cmFuc2FjdGlvbihzdG9yZU5hbWUsIHR4TW9kZSkub2JqZWN0U3RvcmUoc3RvcmVOYW1lKSkpO1xufVxubGV0IGRlZmF1bHRHZXRTdG9yZUZ1bmM7XG5mdW5jdGlvbiBkZWZhdWx0R2V0U3RvcmUoKSB7XG4gICAgaWYgKCFkZWZhdWx0R2V0U3RvcmVGdW5jKSB7XG4gICAgICAgIGRlZmF1bHRHZXRTdG9yZUZ1bmMgPSBjcmVhdGVTdG9yZSgna2V5dmFsLXN0b3JlJywgJ2tleXZhbCcpO1xuICAgIH1cbiAgICByZXR1cm4gZGVmYXVsdEdldFN0b3JlRnVuYztcbn1cbi8qKlxuICogR2V0IGEgdmFsdWUgYnkgaXRzIGtleS5cbiAqXG4gKiBAcGFyYW0ga2V5XG4gKiBAcGFyYW0gY3VzdG9tU3RvcmUgTWV0aG9kIHRvIGdldCBhIGN1c3RvbSBzdG9yZS4gVXNlIHdpdGggY2F1dGlvbiAoc2VlIHRoZSBkb2NzKS5cbiAqL1xuZnVuY3Rpb24gZ2V0KGtleSwgY3VzdG9tU3RvcmUgPSBkZWZhdWx0R2V0U3RvcmUoKSkge1xuICAgIHJldHVybiBjdXN0b21TdG9yZSgncmVhZG9ubHknLCAoc3RvcmUpID0+IHByb21pc2lmeVJlcXVlc3Qoc3RvcmUuZ2V0KGtleSkpKTtcbn1cbi8qKlxuICogU2V0IGEgdmFsdWUgd2l0aCBhIGtleS5cbiAqXG4gKiBAcGFyYW0ga2V5XG4gKiBAcGFyYW0gdmFsdWVcbiAqIEBwYXJhbSBjdXN0b21TdG9yZSBNZXRob2QgdG8gZ2V0IGEgY3VzdG9tIHN0b3JlLiBVc2Ugd2l0aCBjYXV0aW9uIChzZWUgdGhlIGRvY3MpLlxuICovXG5mdW5jdGlvbiBzZXQoa2V5LCB2YWx1ZSwgY3VzdG9tU3RvcmUgPSBkZWZhdWx0R2V0U3RvcmUoKSkge1xuICAgIHJldHVybiBjdXN0b21TdG9yZSgncmVhZHdyaXRlJywgKHN0b3JlKSA9PiB7XG4gICAgICAgIHN0b3JlLnB1dCh2YWx1ZSwga2V5KTtcbiAgICAgICAgcmV0dXJuIHByb21pc2lmeVJlcXVlc3Qoc3RvcmUudHJhbnNhY3Rpb24pO1xuICAgIH0pO1xufVxuLyoqXG4gKiBTZXQgbXVsdGlwbGUgdmFsdWVzIGF0IG9uY2UuIFRoaXMgaXMgZmFzdGVyIHRoYW4gY2FsbGluZyBzZXQoKSBtdWx0aXBsZSB0aW1lcy5cbiAqIEl0J3MgYWxzbyBhdG9taWMg4oCTIGlmIG9uZSBvZiB0aGUgcGFpcnMgY2FuJ3QgYmUgYWRkZWQsIG5vbmUgd2lsbCBiZSBhZGRlZC5cbiAqXG4gKiBAcGFyYW0gZW50cmllcyBBcnJheSBvZiBlbnRyaWVzLCB3aGVyZSBlYWNoIGVudHJ5IGlzIGFuIGFycmF5IG9mIGBba2V5LCB2YWx1ZV1gLlxuICogQHBhcmFtIGN1c3RvbVN0b3JlIE1ldGhvZCB0byBnZXQgYSBjdXN0b20gc3RvcmUuIFVzZSB3aXRoIGNhdXRpb24gKHNlZSB0aGUgZG9jcykuXG4gKi9cbmZ1bmN0aW9uIHNldE1hbnkoZW50cmllcywgY3VzdG9tU3RvcmUgPSBkZWZhdWx0R2V0U3RvcmUoKSkge1xuICAgIHJldHVybiBjdXN0b21TdG9yZSgncmVhZHdyaXRlJywgKHN0b3JlKSA9PiB7XG4gICAgICAgIGVudHJpZXMuZm9yRWFjaCgoZW50cnkpID0+IHN0b3JlLnB1dChlbnRyeVsxXSwgZW50cnlbMF0pKTtcbiAgICAgICAgcmV0dXJuIHByb21pc2lmeVJlcXVlc3Qoc3RvcmUudHJhbnNhY3Rpb24pO1xuICAgIH0pO1xufVxuLyoqXG4gKiBHZXQgbXVsdGlwbGUgdmFsdWVzIGJ5IHRoZWlyIGtleXNcbiAqXG4gKiBAcGFyYW0ga2V5c1xuICogQHBhcmFtIGN1c3RvbVN0b3JlIE1ldGhvZCB0byBnZXQgYSBjdXN0b20gc3RvcmUuIFVzZSB3aXRoIGNhdXRpb24gKHNlZSB0aGUgZG9jcykuXG4gKi9cbmZ1bmN0aW9uIGdldE1hbnkoa2V5cywgY3VzdG9tU3RvcmUgPSBkZWZhdWx0R2V0U3RvcmUoKSkge1xuICAgIHJldHVybiBjdXN0b21TdG9yZSgncmVhZG9ubHknLCAoc3RvcmUpID0+IFByb21pc2UuYWxsKGtleXMubWFwKChrZXkpID0+IHByb21pc2lmeVJlcXVlc3Qoc3RvcmUuZ2V0KGtleSkpKSkpO1xufVxuLyoqXG4gKiBVcGRhdGUgYSB2YWx1ZS4gVGhpcyBsZXRzIHlvdSBzZWUgdGhlIG9sZCB2YWx1ZSBhbmQgdXBkYXRlIGl0IGFzIGFuIGF0b21pYyBvcGVyYXRpb24uXG4gKlxuICogQHBhcmFtIGtleVxuICogQHBhcmFtIHVwZGF0ZXIgQSBjYWxsYmFjayB0aGF0IHRha2VzIHRoZSBvbGQgdmFsdWUgYW5kIHJldHVybnMgYSBuZXcgdmFsdWUuXG4gKiBAcGFyYW0gY3VzdG9tU3RvcmUgTWV0aG9kIHRvIGdldCBhIGN1c3RvbSBzdG9yZS4gVXNlIHdpdGggY2F1dGlvbiAoc2VlIHRoZSBkb2NzKS5cbiAqL1xuZnVuY3Rpb24gdXBkYXRlKGtleSwgdXBkYXRlciwgY3VzdG9tU3RvcmUgPSBkZWZhdWx0R2V0U3RvcmUoKSkge1xuICAgIHJldHVybiBjdXN0b21TdG9yZSgncmVhZHdyaXRlJywgKHN0b3JlKSA9PiBcbiAgICAvLyBOZWVkIHRvIGNyZWF0ZSB0aGUgcHJvbWlzZSBtYW51YWxseS5cbiAgICAvLyBJZiBJIHRyeSB0byBjaGFpbiBwcm9taXNlcywgdGhlIHRyYW5zYWN0aW9uIGNsb3NlcyBpbiBicm93c2Vyc1xuICAgIC8vIHRoYXQgdXNlIGEgcHJvbWlzZSBwb2x5ZmlsbCAoSUUxMC8xMSkuXG4gICAgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBzdG9yZS5nZXQoa2V5KS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHN0b3JlLnB1dCh1cGRhdGVyKHRoaXMucmVzdWx0KSwga2V5KTtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHByb21pc2lmeVJlcXVlc3Qoc3RvcmUudHJhbnNhY3Rpb24pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9KSk7XG59XG4vKipcbiAqIERlbGV0ZSBhIHBhcnRpY3VsYXIga2V5IGZyb20gdGhlIHN0b3JlLlxuICpcbiAqIEBwYXJhbSBrZXlcbiAqIEBwYXJhbSBjdXN0b21TdG9yZSBNZXRob2QgdG8gZ2V0IGEgY3VzdG9tIHN0b3JlLiBVc2Ugd2l0aCBjYXV0aW9uIChzZWUgdGhlIGRvY3MpLlxuICovXG5mdW5jdGlvbiBkZWwoa2V5LCBjdXN0b21TdG9yZSA9IGRlZmF1bHRHZXRTdG9yZSgpKSB7XG4gICAgcmV0dXJuIGN1c3RvbVN0b3JlKCdyZWFkd3JpdGUnLCAoc3RvcmUpID0+IHtcbiAgICAgICAgc3RvcmUuZGVsZXRlKGtleSk7XG4gICAgICAgIHJldHVybiBwcm9taXNpZnlSZXF1ZXN0KHN0b3JlLnRyYW5zYWN0aW9uKTtcbiAgICB9KTtcbn1cbi8qKlxuICogRGVsZXRlIG11bHRpcGxlIGtleXMgYXQgb25jZS5cbiAqXG4gKiBAcGFyYW0ga2V5cyBMaXN0IG9mIGtleXMgdG8gZGVsZXRlLlxuICogQHBhcmFtIGN1c3RvbVN0b3JlIE1ldGhvZCB0byBnZXQgYSBjdXN0b20gc3RvcmUuIFVzZSB3aXRoIGNhdXRpb24gKHNlZSB0aGUgZG9jcykuXG4gKi9cbmZ1bmN0aW9uIGRlbE1hbnkoa2V5cywgY3VzdG9tU3RvcmUgPSBkZWZhdWx0R2V0U3RvcmUoKSkge1xuICAgIHJldHVybiBjdXN0b21TdG9yZSgncmVhZHdyaXRlJywgKHN0b3JlKSA9PiB7XG4gICAgICAgIGtleXMuZm9yRWFjaCgoa2V5KSA9PiBzdG9yZS5kZWxldGUoa2V5KSk7XG4gICAgICAgIHJldHVybiBwcm9taXNpZnlSZXF1ZXN0KHN0b3JlLnRyYW5zYWN0aW9uKTtcbiAgICB9KTtcbn1cbi8qKlxuICogQ2xlYXIgYWxsIHZhbHVlcyBpbiB0aGUgc3RvcmUuXG4gKlxuICogQHBhcmFtIGN1c3RvbVN0b3JlIE1ldGhvZCB0byBnZXQgYSBjdXN0b20gc3RvcmUuIFVzZSB3aXRoIGNhdXRpb24gKHNlZSB0aGUgZG9jcykuXG4gKi9cbmZ1bmN0aW9uIGNsZWFyKGN1c3RvbVN0b3JlID0gZGVmYXVsdEdldFN0b3JlKCkpIHtcbiAgICByZXR1cm4gY3VzdG9tU3RvcmUoJ3JlYWR3cml0ZScsIChzdG9yZSkgPT4ge1xuICAgICAgICBzdG9yZS5jbGVhcigpO1xuICAgICAgICByZXR1cm4gcHJvbWlzaWZ5UmVxdWVzdChzdG9yZS50cmFuc2FjdGlvbik7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBlYWNoQ3Vyc29yKHN0b3JlLCBjYWxsYmFjaykge1xuICAgIHN0b3JlLm9wZW5DdXJzb3IoKS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5yZXN1bHQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNhbGxiYWNrKHRoaXMucmVzdWx0KTtcbiAgICAgICAgdGhpcy5yZXN1bHQuY29udGludWUoKTtcbiAgICB9O1xuICAgIHJldHVybiBwcm9taXNpZnlSZXF1ZXN0KHN0b3JlLnRyYW5zYWN0aW9uKTtcbn1cbi8qKlxuICogR2V0IGFsbCBrZXlzIGluIHRoZSBzdG9yZS5cbiAqXG4gKiBAcGFyYW0gY3VzdG9tU3RvcmUgTWV0aG9kIHRvIGdldCBhIGN1c3RvbSBzdG9yZS4gVXNlIHdpdGggY2F1dGlvbiAoc2VlIHRoZSBkb2NzKS5cbiAqL1xuZnVuY3Rpb24ga2V5cyhjdXN0b21TdG9yZSA9IGRlZmF1bHRHZXRTdG9yZSgpKSB7XG4gICAgcmV0dXJuIGN1c3RvbVN0b3JlKCdyZWFkb25seScsIChzdG9yZSkgPT4ge1xuICAgICAgICAvLyBGYXN0IHBhdGggZm9yIG1vZGVybiBicm93c2Vyc1xuICAgICAgICBpZiAoc3RvcmUuZ2V0QWxsS2V5cykge1xuICAgICAgICAgICAgcmV0dXJuIHByb21pc2lmeVJlcXVlc3Qoc3RvcmUuZ2V0QWxsS2V5cygpKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpdGVtcyA9IFtdO1xuICAgICAgICByZXR1cm4gZWFjaEN1cnNvcihzdG9yZSwgKGN1cnNvcikgPT4gaXRlbXMucHVzaChjdXJzb3Iua2V5KSkudGhlbigoKSA9PiBpdGVtcyk7XG4gICAgfSk7XG59XG4vKipcbiAqIEdldCBhbGwgdmFsdWVzIGluIHRoZSBzdG9yZS5cbiAqXG4gKiBAcGFyYW0gY3VzdG9tU3RvcmUgTWV0aG9kIHRvIGdldCBhIGN1c3RvbSBzdG9yZS4gVXNlIHdpdGggY2F1dGlvbiAoc2VlIHRoZSBkb2NzKS5cbiAqL1xuZnVuY3Rpb24gdmFsdWVzKGN1c3RvbVN0b3JlID0gZGVmYXVsdEdldFN0b3JlKCkpIHtcbiAgICByZXR1cm4gY3VzdG9tU3RvcmUoJ3JlYWRvbmx5JywgKHN0b3JlKSA9PiB7XG4gICAgICAgIC8vIEZhc3QgcGF0aCBmb3IgbW9kZXJuIGJyb3dzZXJzXG4gICAgICAgIGlmIChzdG9yZS5nZXRBbGwpIHtcbiAgICAgICAgICAgIHJldHVybiBwcm9taXNpZnlSZXF1ZXN0KHN0b3JlLmdldEFsbCgpKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpdGVtcyA9IFtdO1xuICAgICAgICByZXR1cm4gZWFjaEN1cnNvcihzdG9yZSwgKGN1cnNvcikgPT4gaXRlbXMucHVzaChjdXJzb3IudmFsdWUpKS50aGVuKCgpID0+IGl0ZW1zKTtcbiAgICB9KTtcbn1cbi8qKlxuICogR2V0IGFsbCBlbnRyaWVzIGluIHRoZSBzdG9yZS4gRWFjaCBlbnRyeSBpcyBhbiBhcnJheSBvZiBgW2tleSwgdmFsdWVdYC5cbiAqXG4gKiBAcGFyYW0gY3VzdG9tU3RvcmUgTWV0aG9kIHRvIGdldCBhIGN1c3RvbSBzdG9yZS4gVXNlIHdpdGggY2F1dGlvbiAoc2VlIHRoZSBkb2NzKS5cbiAqL1xuZnVuY3Rpb24gZW50cmllcyhjdXN0b21TdG9yZSA9IGRlZmF1bHRHZXRTdG9yZSgpKSB7XG4gICAgcmV0dXJuIGN1c3RvbVN0b3JlKCdyZWFkb25seScsIChzdG9yZSkgPT4ge1xuICAgICAgICAvLyBGYXN0IHBhdGggZm9yIG1vZGVybiBicm93c2Vyc1xuICAgICAgICAvLyAoYWx0aG91Z2gsIGhvcGVmdWxseSB3ZSdsbCBnZXQgYSBzaW1wbGVyIHBhdGggc29tZSBkYXkpXG4gICAgICAgIGlmIChzdG9yZS5nZXRBbGwgJiYgc3RvcmUuZ2V0QWxsS2V5cykge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKFtcbiAgICAgICAgICAgICAgICBwcm9taXNpZnlSZXF1ZXN0KHN0b3JlLmdldEFsbEtleXMoKSksXG4gICAgICAgICAgICAgICAgcHJvbWlzaWZ5UmVxdWVzdChzdG9yZS5nZXRBbGwoKSksXG4gICAgICAgICAgICBdKS50aGVuKChba2V5cywgdmFsdWVzXSkgPT4ga2V5cy5tYXAoKGtleSwgaSkgPT4gW2tleSwgdmFsdWVzW2ldXSkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGl0ZW1zID0gW107XG4gICAgICAgIHJldHVybiBjdXN0b21TdG9yZSgncmVhZG9ubHknLCAoc3RvcmUpID0+IGVhY2hDdXJzb3Ioc3RvcmUsIChjdXJzb3IpID0+IGl0ZW1zLnB1c2goW2N1cnNvci5rZXksIGN1cnNvci52YWx1ZV0pKS50aGVuKCgpID0+IGl0ZW1zKSk7XG4gICAgfSk7XG59XG5cbmV4cG9ydCB7IGNsZWFyLCBjcmVhdGVTdG9yZSwgZGVsLCBkZWxNYW55LCBlbnRyaWVzLCBnZXQsIGdldE1hbnksIGtleXMsIHByb21pc2lmeVJlcXVlc3QsIHNldCwgc2V0TWFueSwgdXBkYXRlLCB2YWx1ZXMgfTtcbiIsImltcG9ydCBMb2dnZXIgZnJvbSBcImpzLWxvZ2dlclwiO1xuXG5Mb2dnZXIudXNlRGVmYXVsdHMoKTtcbkxvZ2dlci5zZXRMZXZlbChcbiAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiID8gTG9nZ2VyLkVSUk9SIDogTG9nZ2VyLkRFQlVHXG4pO1xuXG5leHBvcnQgY29uc3QgWExvZ2dlciA9IExvZ2dlcjtcbiIsImV4cG9ydCBmdW5jdGlvbiBjb252ZXJ0QmxvYlRvQmFzZTY0QXN5bmMoYmxvYjogQmxvYik6IFByb21pc2U8c3RyaW5nPiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZTxzdHJpbmc+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgIHJlYWRlci5vbmxvYWRlbmQgPSAoKSA9PiB7XG4gICAgICBjb25zdCBiYXNlNjREYXRhID0gcmVhZGVyLnJlc3VsdCBhcyBzdHJpbmc7XG4gICAgICByZXNvbHZlKGJhc2U2NERhdGEpO1xuICAgIH07XG4gICAgcmVhZGVyLm9uZXJyb3IgPSByZWplY3Q7XG4gICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoYmxvYik7XG4gIH0pO1xufVxuIiwiZXhwb3J0IGNvbnN0IE1BWF9XSURUSF9USFVNQk5BSUwgPSBNYXRoLnJvdW5kKDI1MCAqIDEuNSk7XG5leHBvcnQgY29uc3QgTUFYX0hFSUdIVF9USFVNQk5BSUwgPSBNYXRoLnJvdW5kKDEzMCAqIDEuNSk7XG5cbi8vIFdlcmUgZHJhd2luZyBpZCBpcyBzYXZlZCBpbiBsb2NhbCBzdG9yYWdlXG5leHBvcnQgY29uc3QgRFJBV0lOR19JRF9LRVlfTFMgPSBcIl9fZHJhd2luZ19pZFwiO1xuIiwiaW1wb3J0IHsgTUFYX0hFSUdIVF9USFVNQk5BSUwsIE1BWF9XSURUSF9USFVNQk5BSUwgfSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBYTG9nZ2VyIH0gZnJvbSBcIi4uL2xvZ2dlclwiO1xuXG5leHBvcnQgZnVuY3Rpb24gY2FsY3VsYXRlTmV3RGltZW5zaW9ucyh3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikge1xuICBYTG9nZ2VyLmxvZyhcbiAgICBcIvCfkYkgT3JpZ2luYWwgSW1hZ2UgZGltZW5zaW9uczpcIixcbiAgICBgJHtNYXRoLnJvdW5kKHdpZHRoKX0geCAke01hdGgucm91bmQoaGVpZ2h0KX1gXG4gICk7XG4gIGlmICh3aWR0aCA8PSBNQVhfV0lEVEhfVEhVTUJOQUlMICYmIGhlaWdodCA8PSBNQVhfSEVJR0hUX1RIVU1CTkFJTCkge1xuICAgIHJldHVybiB7XG4gICAgICB3aWR0aDogTWF0aC5tYXgoMSwgd2lkdGgpLFxuICAgICAgaGVpZ2h0OiBNYXRoLm1heCgxLCBoZWlnaHQpLFxuICAgICAgc2NhbGU6IDEsXG4gICAgfTtcbiAgfVxuXG4gIGNvbnN0IHdpZHRoU2NhbGUgPSB3aWR0aCAvIE1BWF9XSURUSF9USFVNQk5BSUw7XG4gIGNvbnN0IGhlaWdodFNjYWxlID0gaGVpZ2h0IC8gTUFYX0hFSUdIVF9USFVNQk5BSUw7XG5cbiAgY29uc3Qgc2NhbGUgPSBNYXRoLm1heCh3aWR0aFNjYWxlLCBoZWlnaHRTY2FsZSk7XG5cbiAgd2lkdGggPSBNYXRoLm1heCgxLCBNYXRoLnJvdW5kKHdpZHRoIC8gc2NhbGUpKTtcbiAgaGVpZ2h0ID0gTWF0aC5tYXgoMSwgTWF0aC5yb3VuZChoZWlnaHQgLyBzY2FsZSkpO1xuXG4gIFhMb2dnZXIubG9nKFxuICAgIFwiTmV3IEltYWdlIGRpbWVuc2lvbnNcIixcbiAgICBgJHtNYXRoLnJvdW5kKHdpZHRoKX0geCAke01hdGgucm91bmQoaGVpZ2h0KX1gLFxuICAgIHNjYWxlXG4gICk7XG4gIHJldHVybiB7XG4gICAgd2lkdGgsXG4gICAgaGVpZ2h0LFxuICAgIHNjYWxlOiAxLjAgLyBzY2FsZSxcbiAgfTtcbn1cbiIsImltcG9ydCB0eXBlIHsgRXhjYWxpZHJhd0ltYWdlRWxlbWVudCB9IGZyb20gXCJAZXhjYWxpZHJhdy9leGNhbGlkcmF3L3R5cGVzL2VsZW1lbnQvdHlwZXNcIjtcbmltcG9ydCB0eXBlIHtcbiAgQmluYXJ5RmlsZURhdGEsXG4gIEJpbmFyeUZpbGVzLFxufSBmcm9tIFwiQGV4Y2FsaWRyYXcvZXhjYWxpZHJhdy90eXBlcy90eXBlc1wiO1xuaW1wb3J0IHsgY3JlYXRlU3RvcmUsIGdldE1hbnkgfSBmcm9tIFwiaWRiLWtleXZhbFwiO1xuaW1wb3J0IHsgRHJhd2luZ0RhdGFTdGF0ZSB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL2RyYXdpbmctZGF0YS1zdGF0ZS5pbnRlcmZhY2VcIjtcbmltcG9ydCB0eXBlIHsgRXhjYWxpZHJhd0RhdGFTdGF0ZSB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL2V4Y2FsaWRyYXctZGF0YS1zdGF0ZS5pbnRlcmZhY2VcIjtcbmltcG9ydCB7IFhMb2dnZXIgfSBmcm9tIFwiLi4vbGliL2xvZ2dlclwiO1xuaW1wb3J0IHsgY29udmVydEJsb2JUb0Jhc2U2NEFzeW5jIH0gZnJvbSBcIi4uL2xpYi91dGlscy9ibG9iLXRvLWJhc2U2NC51dGlsXCI7XG5pbXBvcnQgeyBjYWxjdWxhdGVOZXdEaW1lbnNpb25zIH0gZnJvbSBcIi4uL2xpYi91dGlscy9jYWxjdWxhdGUtbmV3LWRpbWVuc2lvbnMudXRpbFwiO1xuXG4vLyBXZXJlIGltYWdlcyBhcmUgc3RvcmVkOiBodHRwczovL2dpdGh1Yi5jb20vZXhjYWxpZHJhdy9leGNhbGlkcmF3L2Jsb2IvZThkZWY4ZGE4ZDVmY2Y5NDQ1YWViZGQ5OTZkZTNmZWU0Y2VjZjdlZi9leGNhbGlkcmF3LWFwcC9kYXRhL0xvY2FsRGF0YS50cyNMMjRcbmNvbnN0IGZpbGVzU3RvcmUgPSBjcmVhdGVTdG9yZShcImZpbGVzLWRiXCIsIFwiZmlsZXMtc3RvcmVcIik7XG5cbnR5cGUgR2V0RHJhd2luZ0RhdGFTdGF0ZVByb3BzID0ge1xuICB0YWtlU2NyZWVuc2hvdD86IGJvb2xlYW47XG59O1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldERyYXdpbmdEYXRhU3RhdGUoXG4gIHByb3BzOiBHZXREcmF3aW5nRGF0YVN0YXRlUHJvcHMgPSB7IHRha2VTY3JlZW5zaG90OiB0cnVlIH1cbik6IFByb21pc2U8RHJhd2luZ0RhdGFTdGF0ZT4ge1xuICBjb25zdCB7IGV4Y2FsaWRyYXcsIGV4Y2FsaWRyYXdTdGF0ZSwgdmVyc2lvbkZpbGVzLCB2ZXJzaW9uRGF0YVN0YXRlIH0gPVxuICAgIGdldEV4Y2FsaWRyYXdEYXRhU3RhdGUoKTtcblxuICBjb25zdCBlbGVtZW50cyA9IEpTT04ucGFyc2UoZXhjYWxpZHJhdykgYXMgRXhjYWxpZHJhd0VsZW1lbnRzO1xuICBjb25zdCBhcHBTdGF0ZSA9IEpTT04ucGFyc2UoZXhjYWxpZHJhd1N0YXRlKSBhcyBFeGNhbGlkcmF3QXBwU3RhdGU7XG5cbiAgbGV0IGltYWdlQmFzZTY0OiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIC8vIFNjcmVlbnNob3QgaXMgb3B0aW9uYWxcbiAgdHJ5IHtcbiAgICBpZiAocHJvcHM/LnRha2VTY3JlZW5zaG90KSB7XG4gICAgICBpbWFnZUJhc2U2NCA9IGF3YWl0IHRha2VTY3JlZW5zaG90KHtcbiAgICAgICAgZWxlbWVudHMsXG4gICAgICAgIGFwcFN0YXRlLFxuICAgICAgfSk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIFhMb2dnZXIuZXJyb3IoXCJFcnJvciB0YWtpbmcgc2NyZWVuc2hvdFwiLCBlcnJvcik7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGV4Y2FsaWRyYXcsXG4gICAgZXhjYWxpZHJhd1N0YXRlLFxuICAgIHZlcnNpb25GaWxlcyxcbiAgICB2ZXJzaW9uRGF0YVN0YXRlLFxuICAgIGltYWdlQmFzZTY0LFxuICAgIHZpZXdCYWNrZ3JvdW5kQ29sb3I6IGFwcFN0YXRlPy52aWV3QmFja2dyb3VuZENvbG9yLFxuICB9O1xufVxuXG50eXBlIFRha2VTY3JlZW5zaG90UHJvcHMgPSB7XG4gIGVsZW1lbnRzOiBFeGNhbGlkcmF3RWxlbWVudHM7XG4gIGFwcFN0YXRlOiBFeGNhbGlkcmF3QXBwU3RhdGU7XG59O1xuXG5hc3luYyBmdW5jdGlvbiB0YWtlU2NyZWVuc2hvdCh7XG4gIGVsZW1lbnRzLFxuICBhcHBTdGF0ZSxcbn06IFRha2VTY3JlZW5zaG90UHJvcHMpOiBQcm9taXNlPHN0cmluZz4ge1xuICBjb25zdCBzdGFydFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcblxuICBjb25zdCBpbWFnZUZpbGVJZHMgPSBlbGVtZW50c1xuICAgIC5maWx0ZXIoKGl0ZW0pOiBpdGVtIGlzIEV4Y2FsaWRyYXdJbWFnZUVsZW1lbnQgPT4gaXRlbS50eXBlID09PSBcImltYWdlXCIpXG4gICAgLm1hcCgoaXRlbSkgPT4gaXRlbS5maWxlSWQpO1xuXG4gIGxldCBmaWxlczogQmluYXJ5RmlsZXMgPSB7fTtcblxuICB0cnkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZ2V0TWFueTxCaW5hcnlGaWxlRGF0YSB8IHVuZGVmaW5lZD4oXG4gICAgICBpbWFnZUZpbGVJZHMsXG4gICAgICBmaWxlc1N0b3JlXG4gICAgKTtcblxuICAgIHJlc3BvbnNlLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgIGlmIChpdGVtKSB7XG4gICAgICAgIGZpbGVzW2l0ZW0uaWRdID0gaXRlbTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBYTG9nZ2VyLndhcm4oXCJFcnJvciByZXRyaWV2aW5nIGZpbGVzIGZyb20gSW5kZXhlZERCXCIsIGVycm9yKTtcbiAgfVxuXG4gIGNvbnN0IGJsb2IgPSBhd2FpdCB3aW5kb3cuRXhjYWxpZHJhd0xpYi5leHBvcnRUb0Jsb2Ioe1xuICAgIGVsZW1lbnRzLFxuICAgIGdldERpbWVuc2lvbnM6ICh3aWR0aCwgaGVpZ2h0KSA9PiB7XG4gICAgICByZXR1cm4gY2FsY3VsYXRlTmV3RGltZW5zaW9ucyh3aWR0aCwgaGVpZ2h0KTtcbiAgICB9LFxuICAgIGZpbGVzLFxuICAgIGFwcFN0YXRlLFxuICB9KTtcblxuICBjb25zdCBpbWFnZUJhc2U2NCA9IGF3YWl0IGNvbnZlcnRCbG9iVG9CYXNlNjRBc3luYyhibG9iKTtcblxuICBYTG9nZ2VyLmxvZyhcbiAgICBcIvCfk7cgVGFrZSBTY3JlZW5zaG9vdCBUb29rOlwiLFxuICAgIG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gc3RhcnRUaW1lICsgXCJtc1wiXG4gICk7XG5cbiAgcmV0dXJuIGltYWdlQmFzZTY0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RXhjYWxpZHJhd0RhdGFTdGF0ZSgpOiBFeGNhbGlkcmF3RGF0YVN0YXRlIHtcbiAgY29uc3QgZXhjYWxpZHJhdyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiZXhjYWxpZHJhd1wiKTtcbiAgY29uc3QgZXhjYWxpZHJhd1N0YXRlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJleGNhbGlkcmF3LXN0YXRlXCIpO1xuICBjb25zdCB2ZXJzaW9uRmlsZXMgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInZlcnNpb24tZmlsZXNcIik7XG4gIGNvbnN0IHZlcnNpb25EYXRhU3RhdGUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInZlcnNpb24tZGF0YVN0YXRlXCIpO1xuXG4gIHJldHVybiB7XG4gICAgZXhjYWxpZHJhdyxcbiAgICBleGNhbGlkcmF3U3RhdGUsXG4gICAgdmVyc2lvbkZpbGVzLFxuICAgIHZlcnNpb25EYXRhU3RhdGUsXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRFeGNhbGlkcmF3RW1wdHlEYXRhU3RhdGUoKTogRXhjYWxpZHJhd0RhdGFTdGF0ZSB7XG4gIGNvbnN0IGV4Y2FsaWRyYXcgPSBcIltdXCI7XG4gIGNvbnN0IGV4Y2FsaWRyYXdTdGF0ZSA9IEpTT04uc3RyaW5naWZ5KHtcbiAgICBzaG93V2VsY29tZVNjcmVlbjogZmFsc2UsXG4gICAgdGhlbWU6IFwibGlnaHRcIixcbiAgICBjdXJyZW50Q2hhcnRUeXBlOiBcImJhclwiLFxuICAgIGN1cnJlbnRJdGVtQmFja2dyb3VuZENvbG9yOiBcInRyYW5zcGFyZW50XCIsXG4gICAgY3VycmVudEl0ZW1FbmRBcnJvd2hlYWQ6IFwiYXJyb3dcIixcbiAgICBjdXJyZW50SXRlbUZpbGxTdHlsZTogXCJzb2xpZFwiLFxuICAgIGN1cnJlbnRJdGVtRm9udEZhbWlseTogMSxcbiAgICBjdXJyZW50SXRlbUZvbnRTaXplOiAyMCxcbiAgICBjdXJyZW50SXRlbU9wYWNpdHk6IDEwMCxcbiAgICBjdXJyZW50SXRlbVJvdWdobmVzczogMSxcbiAgICBjdXJyZW50SXRlbVN0YXJ0QXJyb3doZWFkOiBudWxsLFxuICAgIGN1cnJlbnRJdGVtU3Ryb2tlQ29sb3I6IFwiIzFlMWUxZVwiLFxuICAgIGN1cnJlbnRJdGVtUm91bmRuZXNzOiBcInJvdW5kXCIsXG4gICAgY3VycmVudEl0ZW1TdHJva2VTdHlsZTogXCJzb2xpZFwiLFxuICAgIGN1cnJlbnRJdGVtU3Ryb2tlV2lkdGg6IDIsXG4gICAgY3VycmVudEl0ZW1UZXh0QWxpZ246IFwibGVmdFwiLFxuICAgIGN1cnNvckJ1dHRvbjogXCJ1cFwiLFxuICAgIGVkaXRpbmdHcm91cElkOiBudWxsLFxuICAgIGFjdGl2ZVRvb2w6IHtcbiAgICAgIHR5cGU6IFwic2VsZWN0aW9uXCIsXG4gICAgICBjdXN0b21UeXBlOiBudWxsLFxuICAgICAgbG9ja2VkOiBmYWxzZSxcbiAgICAgIGxhc3RBY3RpdmVUb29sOiBudWxsLFxuICAgIH0sXG4gICAgcGVuTW9kZTogdHJ1ZSxcbiAgICBwZW5EZXRlY3RlZDogdHJ1ZSxcbiAgICBleHBvcnRCYWNrZ3JvdW5kOiB0cnVlLFxuICAgIGV4cG9ydFNjYWxlOiAxLFxuICAgIGV4cG9ydEVtYmVkU2NlbmU6IGZhbHNlLFxuICAgIGV4cG9ydFdpdGhEYXJrTW9kZTogZmFsc2UsXG4gICAgZ3JpZFNpemU6IG51bGwsXG4gICAgZGVmYXVsdFNpZGViYXJEb2NrZWRQcmVmZXJlbmNlOiBmYWxzZSxcbiAgICBsYXN0UG9pbnRlckRvd25XaXRoOiBcIm1vdXNlXCIsXG4gICAgbmFtZTogXCJVbnRpdGxlZC0yMDIzLTExLTA0LTE3MjVcIixcbiAgICBvcGVuTWVudTogbnVsbCxcbiAgICBvcGVuU2lkZWJhcjogbnVsbCxcbiAgICBwcmV2aW91c1NlbGVjdGVkRWxlbWVudElkczoge30sXG4gICAgc2Nyb2xsZWRPdXRzaWRlOiBmYWxzZSxcbiAgICBzY3JvbGxYOiAwLFxuICAgIHNjcm9sbFk6IDAsXG4gICAgc2VsZWN0ZWRFbGVtZW50SWRzOiB7fSxcbiAgICBzZWxlY3RlZEdyb3VwSWRzOiB7fSxcbiAgICBzaG91bGRDYWNoZUlnbm9yZVpvb206IGZhbHNlLFxuICAgIHNob3dTdGF0czogZmFsc2UsXG4gICAgdmlld0JhY2tncm91bmRDb2xvcjogXCIjZmZmZmZmXCIsXG4gICAgemVuTW9kZUVuYWJsZWQ6IGZhbHNlLFxuICAgIHpvb206IHtcbiAgICAgIHZhbHVlOiAxLFxuICAgIH0sXG4gICAgc2VsZWN0ZWRMaW5lYXJFbGVtZW50OiBudWxsLFxuICAgIG9iamVjdHNTbmFwTW9kZUVuYWJsZWQ6IGZhbHNlLFxuICB9KTtcbiAgY29uc3QgdmVyc2lvbkZpbGVzID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJ2ZXJzaW9uLWZpbGVzXCIpO1xuICBjb25zdCB2ZXJzaW9uRGF0YVN0YXRlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJ2ZXJzaW9uLWRhdGFTdGF0ZVwiKTtcblxuICByZXR1cm4ge1xuICAgIGV4Y2FsaWRyYXcsXG4gICAgZXhjYWxpZHJhd1N0YXRlLFxuICAgIHZlcnNpb25GaWxlcyxcbiAgICB2ZXJzaW9uRGF0YVN0YXRlLFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2NyaXB0UGFyYW1zPFQ+KCk6IFQge1xuICBjb25zdCBwYXJhbXMgPSB3aW5kb3cuX19TQ1JJUFRfUEFSQU1TX187XG5cbiAgLy8gUmVzZXQgcGFyYW1zIGFmdGVyIHJlYWQgdG8gYXZvaWQgYmVpbmcgdXNlZCBieSBhbm90aGVyIHNjcmlwdFxuICB3aW5kb3cuX19TQ1JJUFRfUEFSQU1TX18gPSB1bmRlZmluZWQ7XG5cbiAgcmV0dXJuIHBhcmFtcyBhcyBUO1xufVxuIiwiaW1wb3J0IHsgRHJhd2luZ0RhdGFTdGF0ZSB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL2RyYXdpbmctZGF0YS1zdGF0ZS5pbnRlcmZhY2VcIjtcblxuZXhwb3J0IGVudW0gTWVzc2FnZVR5cGUge1xuICAvLyBGb3IgYmFja2dyb3VuZDpcbiAgU0FWRV9EUkFXSU5HID0gXCJTQVZFX0RSQVdJTkdcIixcbiAgU0FWRV9ORVdfRFJBV0lORyA9IFwiU0FWRV9ORVdfRFJBV0lOR1wiLFxufVxuXG5leHBvcnQgdHlwZSBTYXZlTmV3RHJhd2luZ01lc3NhZ2UgPSB7XG4gIHR5cGU6IE1lc3NhZ2VUeXBlLlNBVkVfTkVXX0RSQVdJTkc7XG4gIHBheWxvYWQ6IHtcbiAgICBpZDogc3RyaW5nO1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBleGNhbGlkcmF3OiBzdHJpbmc7XG4gICAgZXhjYWxpZHJhd1N0YXRlOiBzdHJpbmc7XG4gICAgdmVyc2lvbkZpbGVzOiBzdHJpbmc7XG4gICAgdmVyc2lvbkRhdGFTdGF0ZTogc3RyaW5nO1xuICAgIGltYWdlQmFzZTY0PzogRHJhd2luZ0RhdGFTdGF0ZVtcImltYWdlQmFzZTY0XCJdO1xuICAgIHZpZXdCYWNrZ3JvdW5kQ29sb3I/OiBEcmF3aW5nRGF0YVN0YXRlW1widmlld0JhY2tncm91bmRDb2xvclwiXTtcbiAgfTtcbn07XG5cbmV4cG9ydCB0eXBlIFNhdmVEcmF3aW5nTWVzc2FnZSA9IHtcbiAgdHlwZTogTWVzc2FnZVR5cGUuU0FWRV9EUkFXSU5HO1xuICBwYXlsb2FkOiB7XG4gICAgaWQ6IHN0cmluZztcbiAgICBuYW1lPzogc3RyaW5nO1xuICAgIGV4Y2FsaWRyYXc6IHN0cmluZztcbiAgICBleGNhbGlkcmF3U3RhdGU6IHN0cmluZztcbiAgICB2ZXJzaW9uRmlsZXM6IHN0cmluZztcbiAgICB2ZXJzaW9uRGF0YVN0YXRlOiBzdHJpbmc7XG4gICAgaW1hZ2VCYXNlNjQ/OiBEcmF3aW5nRGF0YVN0YXRlW1wiaW1hZ2VCYXNlNjRcIl07XG4gICAgdmlld0JhY2tncm91bmRDb2xvcj86IERyYXdpbmdEYXRhU3RhdGVbXCJ2aWV3QmFja2dyb3VuZENvbG9yXCJdO1xuICB9O1xufTtcbiIsImltcG9ydCB7IGdldERyYXdpbmdEYXRhU3RhdGUgfSBmcm9tIFwiLi4vQ29udGVudFNjcmlwdC9jb250ZW50LXNjcmlwdC51dGlsc1wiO1xuaW1wb3J0IHsgTWVzc2FnZVR5cGUsIFNhdmVEcmF3aW5nTWVzc2FnZSB9IGZyb20gXCIuLi9jb25zdGFudHMvbWVzc2FnZS50eXBlc1wiO1xuaW1wb3J0IHsgRFJBV0lOR19JRF9LRVlfTFMgfSBmcm9tIFwiLi4vbGliL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgWExvZ2dlciB9IGZyb20gXCIuLi9saWIvbG9nZ2VyXCI7XG5pbXBvcnQgeyBBcyB9IGZyb20gXCIuLi9saWIvdHlwZXMudXRpbHNcIjtcbmNvbnN0IHsgYnJvd3NlciB9ID0gcmVxdWlyZShcIndlYmV4dGVuc2lvbi1wb2x5ZmlsbC10c1wiKTtcblxuKGFzeW5jICgpID0+IHtcbiAgLy8gU2F2ZSBkYXRhIGJlZm9yZSBsb2FkIG5ldyBkcmF3aW5nIGlmIHRoZXJlIGlzIGEgY3VycmVudCBkcmF3aW5nXG4gIGNvbnN0IGN1cnJlbnREcmF3aW5nSWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShEUkFXSU5HX0lEX0tFWV9MUyk7XG4gIGlmIChjdXJyZW50RHJhd2luZ0lkKSB7XG4gICAgY29uc3QgZHJhd2luZ0RhdGFTdGF0ZSA9IGF3YWl0IGdldERyYXdpbmdEYXRhU3RhdGUoKTtcblxuICAgIGF3YWl0IGJyb3dzZXIucnVudGltZS5zZW5kTWVzc2FnZShcbiAgICAgIEFzPFNhdmVEcmF3aW5nTWVzc2FnZT4oe1xuICAgICAgICB0eXBlOiBNZXNzYWdlVHlwZS5TQVZFX0RSQVdJTkcsXG4gICAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgICBpZDogY3VycmVudERyYXdpbmdJZCxcbiAgICAgICAgICBleGNhbGlkcmF3OiBkcmF3aW5nRGF0YVN0YXRlLmV4Y2FsaWRyYXcsXG4gICAgICAgICAgZXhjYWxpZHJhd1N0YXRlOiBkcmF3aW5nRGF0YVN0YXRlLmV4Y2FsaWRyYXdTdGF0ZSxcbiAgICAgICAgICB2ZXJzaW9uRmlsZXM6IGRyYXdpbmdEYXRhU3RhdGUudmVyc2lvbkZpbGVzLFxuICAgICAgICAgIHZlcnNpb25EYXRhU3RhdGU6IGRyYXdpbmdEYXRhU3RhdGUudmVyc2lvbkRhdGFTdGF0ZSxcbiAgICAgICAgICBpbWFnZUJhc2U2NDogZHJhd2luZ0RhdGFTdGF0ZS5pbWFnZUJhc2U2NCxcbiAgICAgICAgICB2aWV3QmFja2dyb3VuZENvbG9yOiBkcmF3aW5nRGF0YVN0YXRlLnZpZXdCYWNrZ3JvdW5kQ29sb3IsXG4gICAgICAgIH0sXG4gICAgICB9KVxuICAgICk7XG5cbiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShEUkFXSU5HX0lEX0tFWV9MUyk7XG4gIH1cblxuICBhc3luYyBmdW5jdGlvbiBjbGVhckJ5RXhjYWxpZHJhd0Zyb21VSSgpIHtcbiAgICBjb25zdCBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcblxuICAgIC8vIEhpZGUgaXRlbXMgdG8gbm93IHNob3cgc3RlcHMgdG8gdXNlclxuICAgIGNvbnN0IGNzc1N0cmluZyA9IGBcbiAgLmV4Y2FsaWRyYXcgLmRyb3Bkb3duLW1lbnUtYnV0dG9uIHtcbiAgICB2aXNpYmlsaXR5OiBoaWRkZW4gIWltcG9ydGFudDtcbiAgfVxuXG4gIC5leGNhbGlkcmF3IC5kcm9wZG93bi1tZW51IC5kcm9wZG93bi1tZW51LWNvbnRhaW5lciB7XG4gICAgdmlzaWJpbGl0eTogaGlkZGVuICFpbXBvcnRhbnQ7XG4gIH1cblxuICAuZXhjYWxpZHJhdy5leGNhbGlkcmF3LW1vZGFsLWNvbnRhaW5lciB7XG4gICAgdmlzaWJpbGl0eTogaGlkZGVuICFpbXBvcnRhbnQ7XG4gIH1cbmA7XG5cbiAgICBzdHlsZS50ZXh0Q29udGVudCA9IGNzc1N0cmluZztcbiAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHN0eWxlKTtcblxuICAgIGNvbnN0IGlzTGVmdE1lbnVPcGVuID0gISFkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgXCIuQXBwLW1lbnVfdG9wX19sZWZ0ID4gZGl2ID4gZGl2LmRyb3Bkb3duLW1lbnVcIlxuICAgICk7XG5cbiAgICBpZiAoIWlzTGVmdE1lbnVPcGVuKSB7XG4gICAgICAvLyBDbGljayBvbiBCdXJnZXIgbWVudTpcbiAgICAgIGRvY3VtZW50XG4gICAgICAgIC5xdWVyeVNlbGVjdG9yPEhUTUxFbGVtZW50PihcIi5BcHAtbWVudV90b3BfX2xlZnQgPiBkaXYgPiBidXR0b25cIilcbiAgICAgICAgLmNsaWNrKCk7XG5cbiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDEwKSk7XG4gICAgfVxuXG4gICAgLy8gQ2xpY2sgb24gXCJSZXNldCB0aGUgY2FudmFzXCI6XG4gICAgZG9jdW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yPEhUTUxFbGVtZW50PihcbiAgICAgICAgXCIuQXBwLW1lbnVfdG9wX19sZWZ0ID4gZGl2ID4gZGl2LmRyb3Bkb3duLW1lbnUgPiBkaXYgPiBidXR0b25bZGF0YS10ZXN0aWQ9J2NsZWFyLWNhbnZhcy1idXR0b24nXVwiXG4gICAgICApXG4gICAgICAuY2xpY2soKTtcblxuICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDEwKSk7XG5cbiAgICAvLyBDbGljayBvbiBcIkNvbmZpcm1cIjpcbiAgICBkb2N1bWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3I8SFRNTEVsZW1lbnQ+KFxuICAgICAgICBcImJ1dHRvbi5EaWFsb2dfX2FjdGlvbi1idXR0b24uRGlhbG9nX19hY3Rpb24tYnV0dG9uLS1kYW5nZXJcIlxuICAgICAgKVxuICAgICAgLmNsaWNrKCk7XG5cbiAgICBYTG9nZ2VyLmRlYnVnKFwiU3RhdGUgY2xlYW5lZCB1c2luZyB0aGUgRXhjYWxpZHJhdyBVSVwiKTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgYXdhaXQgY2xlYXJCeUV4Y2FsaWRyYXdGcm9tVUkoKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBYTG9nZ2VyLmRlYnVnKFwiRXJyb3IgY2xlYXJpbmcgc3RhdGUgd2l0aCBFeGNhbGlkcmF3IFVJXCIsIGVycm9yKTtcbiAgfVxuXG4gIC8vIExlYXZlIHRoaXMganVzdCBpbiBjYXNlIHRoZSBVSSBtZXRob2QgZmFpbHNcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJiZWZvcmV1bmxvYWRcIiwgKCkgPT4ge1xuICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFwiZXhjYWxpZHJhd1wiKTtcbiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShcImV4Y2FsaWRyYXctc3RhdGVcIik7XG4gICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oXCJ2ZXJzaW9uLWZpbGVzXCIpO1xuICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFwidmVyc2lvbi1kYXRhU3RhdGVcIik7XG4gIH0pO1xuXG4gIC8vIFJlbG9hZCBwYWdlIHRvIGFwcGx5IGNoYW5nZXNcbiAgbG9jYXRpb24ucmVsb2FkKCk7XG59KSgpO1xuIl0sIm5hbWVzIjpbIm1vZHVsZSIsImV4cG9ydHMiLCJnbG9iYWwiLCJsb2dIYW5kbGVyIiwiTG9nZ2VyIiwiVkVSU0lPTiIsImNvbnRleHR1YWxMb2dnZXJzQnlOYW1lTWFwIiwiYmluZCIsInNjb3BlIiwiZnVuYyIsImFwcGx5IiwiYXJndW1lbnRzIiwibWVyZ2UiLCJrZXkiLCJpIiwiYXJncyIsInRhcmdldCIsImxlbmd0aCIsImhhc093blByb3BlcnR5IiwiZGVmaW5lTG9nTGV2ZWwiLCJ2YWx1ZSIsIm5hbWUiLCJUUkFDRSIsIkRFQlVHIiwiSU5GTyIsIlRJTUUiLCJXQVJOIiwiRVJST1IiLCJPRkYiLCJDb250ZXh0dWFsTG9nZ2VyIiwiZGVmYXVsdENvbnRleHQiLCJ0aGlzIiwiY29udGV4dCIsInNldExldmVsIiwiZmlsdGVyTGV2ZWwiLCJsb2ciLCJpbmZvIiwicHJvdG90eXBlIiwibmV3TGV2ZWwiLCJnZXRMZXZlbCIsImVuYWJsZWRGb3IiLCJsdmwiLCJ0cmFjZSIsImludm9rZSIsImRlYnVnIiwid2FybiIsImVycm9yIiwidGltZSIsImxhYmVsIiwidGltZUVuZCIsImxldmVsIiwibXNnQXJncyIsIkwiLCJnbG9iYWxMb2dnZXIiLCJzZXRIYW5kbGVyIiwiZ2V0IiwiY3JlYXRlRGVmYXVsdEhhbmRsZXIiLCJvcHRpb25zIiwiZm9ybWF0dGVyIiwibWVzc2FnZXMiLCJ1bnNoaWZ0IiwidGltZXJTdGFydFRpbWVCeUxhYmVsTWFwIiwiaW52b2tlQ29uc29sZU1ldGhvZCIsImhkbHIiLCJGdW5jdGlvbiIsImNhbGwiLCJjb25zb2xlIiwiQXJyYXkiLCJzbGljZSIsInRpbWVyTGFiZWwiLCJEYXRlIiwiZ2V0VGltZSIsInVzZURlZmF1bHRzIiwiZGVmYXVsdExldmVsIiwic2V0RGVmYXVsdHMiLCJydW50aW1lIiwidW5kZWZpbmVkIiwiT3AiLCJPYmplY3QiLCJoYXNPd24iLCIkU3ltYm9sIiwiU3ltYm9sIiwiaXRlcmF0b3JTeW1ib2wiLCJpdGVyYXRvciIsImFzeW5jSXRlcmF0b3JTeW1ib2wiLCJhc3luY0l0ZXJhdG9yIiwidG9TdHJpbmdUYWdTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsIndyYXAiLCJpbm5lckZuIiwib3V0ZXJGbiIsInNlbGYiLCJ0cnlMb2NzTGlzdCIsInByb3RvR2VuZXJhdG9yIiwiR2VuZXJhdG9yIiwiZ2VuZXJhdG9yIiwiY3JlYXRlIiwiQ29udGV4dCIsIl9pbnZva2UiLCJzdGF0ZSIsIkdlblN0YXRlU3VzcGVuZGVkU3RhcnQiLCJtZXRob2QiLCJhcmciLCJHZW5TdGF0ZUV4ZWN1dGluZyIsIkVycm9yIiwiR2VuU3RhdGVDb21wbGV0ZWQiLCJkb25lUmVzdWx0IiwiZGVsZWdhdGUiLCJkZWxlZ2F0ZVJlc3VsdCIsIm1heWJlSW52b2tlRGVsZWdhdGUiLCJDb250aW51ZVNlbnRpbmVsIiwic2VudCIsIl9zZW50IiwiZGlzcGF0Y2hFeGNlcHRpb24iLCJhYnJ1cHQiLCJyZWNvcmQiLCJ0cnlDYXRjaCIsInR5cGUiLCJkb25lIiwiR2VuU3RhdGVTdXNwZW5kZWRZaWVsZCIsIm1ha2VJbnZva2VNZXRob2QiLCJmbiIsIm9iaiIsImVyciIsIkdlbmVyYXRvckZ1bmN0aW9uIiwiR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUiLCJJdGVyYXRvclByb3RvdHlwZSIsImdldFByb3RvIiwiZ2V0UHJvdG90eXBlT2YiLCJOYXRpdmVJdGVyYXRvclByb3RvdHlwZSIsInZhbHVlcyIsIkdwIiwiZGVmaW5lSXRlcmF0b3JNZXRob2RzIiwiZm9yRWFjaCIsIkFzeW5jSXRlcmF0b3IiLCJQcm9taXNlSW1wbCIsInJlc29sdmUiLCJyZWplY3QiLCJyZXN1bHQiLCJfX2F3YWl0IiwidGhlbiIsInVud3JhcHBlZCIsInByZXZpb3VzUHJvbWlzZSIsImNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnIiwiVHlwZUVycm9yIiwicmVzdWx0TmFtZSIsIm5leHQiLCJuZXh0TG9jIiwicHVzaFRyeUVudHJ5IiwibG9jcyIsImVudHJ5IiwidHJ5TG9jIiwiY2F0Y2hMb2MiLCJmaW5hbGx5TG9jIiwiYWZ0ZXJMb2MiLCJ0cnlFbnRyaWVzIiwicHVzaCIsInJlc2V0VHJ5RW50cnkiLCJjb21wbGV0aW9uIiwicmVzZXQiLCJpdGVyYWJsZSIsIml0ZXJhdG9yTWV0aG9kIiwiaXNOYU4iLCJjb25zdHJ1Y3RvciIsImRpc3BsYXlOYW1lIiwiaXNHZW5lcmF0b3JGdW5jdGlvbiIsImdlbkZ1biIsImN0b3IiLCJtYXJrIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJhd3JhcCIsImFzeW5jIiwiUHJvbWlzZSIsIml0ZXIiLCJ0b1N0cmluZyIsImtleXMiLCJvYmplY3QiLCJyZXZlcnNlIiwicG9wIiwic2tpcFRlbXBSZXNldCIsInByZXYiLCJjaGFyQXQiLCJzdG9wIiwicm9vdFJlY29yZCIsInJ2YWwiLCJleGNlcHRpb24iLCJoYW5kbGUiLCJsb2MiLCJjYXVnaHQiLCJoYXNDYXRjaCIsImhhc0ZpbmFsbHkiLCJmaW5hbGx5RW50cnkiLCJjb21wbGV0ZSIsImZpbmlzaCIsInRocm93biIsImRlbGVnYXRlWWllbGQiLCJyZWdlbmVyYXRvclJ1bnRpbWUiLCJhY2NpZGVudGFsU3RyaWN0TW9kZSIsImRlZmluZVByb3BlcnR5IiwiYnJvd3NlciIsImdsb2JhbFRoaXMiLCJDSFJPTUVfU0VORF9NRVNTQUdFX0NBTExCQUNLX05PX1JFU1BPTlNFX01FU1NBR0UiLCJTRU5EX1JFU1BPTlNFX0RFUFJFQ0FUSU9OX1dBUk5JTkciLCJ3cmFwQVBJcyIsImV4dGVuc2lvbkFQSXMiLCJhcGlNZXRhZGF0YSIsIkRlZmF1bHRXZWFrTWFwIiwiV2Vha01hcCIsImNyZWF0ZUl0ZW0iLCJpdGVtcyIsInN1cGVyIiwiaGFzIiwic2V0IiwiaXNUaGVuYWJsZSIsIm1ha2VDYWxsYmFjayIsInByb21pc2UiLCJtZXRhZGF0YSIsImNhbGxiYWNrQXJncyIsImxhc3RFcnJvciIsIm1lc3NhZ2UiLCJzaW5nbGVDYWxsYmFja0FyZyIsInBsdXJhbGl6ZUFyZ3VtZW50cyIsIm51bUFyZ3MiLCJ3cmFwQXN5bmNGdW5jdGlvbiIsIm1pbkFyZ3MiLCJtYXhBcmdzIiwiZmFsbGJhY2tUb05vQ2FsbGJhY2siLCJjYkVycm9yIiwibm9DYWxsYmFjayIsIndyYXBNZXRob2QiLCJ3cmFwcGVyIiwiUHJveHkiLCJ0YXJnZXRNZXRob2QiLCJ0aGlzT2JqIiwid3JhcE9iamVjdCIsIndyYXBwZXJzIiwiY2FjaGUiLCJoYW5kbGVycyIsInByb3h5VGFyZ2V0IiwicHJvcCIsInJlY2VpdmVyIiwiY29uZmlndXJhYmxlIiwiZW51bWVyYWJsZSIsImRlc2MiLCJSZWZsZWN0IiwiZGVsZXRlUHJvcGVydHkiLCJ3cmFwRXZlbnQiLCJ3cmFwcGVyTWFwIiwiYWRkTGlzdGVuZXIiLCJsaXN0ZW5lciIsImhhc0xpc3RlbmVyIiwicmVtb3ZlTGlzdGVuZXIiLCJvblJlcXVlc3RGaW5pc2hlZFdyYXBwZXJzIiwicmVxIiwid3JhcHBlZFJlcSIsImdldENvbnRlbnQiLCJsb2dnZWRTZW5kUmVzcG9uc2VEZXByZWNhdGlvbldhcm5pbmciLCJvbk1lc3NhZ2VXcmFwcGVycyIsInNlbmRlciIsInNlbmRSZXNwb25zZSIsIndyYXBwZWRTZW5kUmVzcG9uc2UiLCJkaWRDYWxsU2VuZFJlc3BvbnNlIiwic2VuZFJlc3BvbnNlUHJvbWlzZSIsInJlc3BvbnNlIiwic3RhY2siLCJpc1Jlc3VsdFRoZW5hYmxlIiwic2VuZFByb21pc2VkUmVzdWx0IiwibXNnIiwiX19tb3pXZWJFeHRlbnNpb25Qb2x5ZmlsbFJlamVjdF9fIiwiY2F0Y2giLCJ3cmFwcGVkU2VuZE1lc3NhZ2VDYWxsYmFjayIsInJlcGx5Iiwid3JhcHBlZFNlbmRNZXNzYWdlIiwiYXBpTmFtZXNwYWNlT2JqIiwid3JhcHBlZENiIiwic2VuZE1lc3NhZ2UiLCJzdGF0aWNXcmFwcGVycyIsImRldnRvb2xzIiwibmV0d29yayIsIm9uUmVxdWVzdEZpbmlzaGVkIiwib25NZXNzYWdlIiwib25NZXNzYWdlRXh0ZXJuYWwiLCJ0YWJzIiwic2V0dGluZ01ldGFkYXRhIiwiY2xlYXIiLCJwcml2YWN5Iiwic2VydmljZXMiLCJ3ZWJzaXRlcyIsImNocm9tZSIsImlkIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsIm4iLCJnZXR0ZXIiLCJfX2VzTW9kdWxlIiwiZCIsImEiLCJkZWZpbml0aW9uIiwibyIsInByb21pc2lmeVJlcXVlc3QiLCJyZXF1ZXN0Iiwib25jb21wbGV0ZSIsIm9uc3VjY2VzcyIsIm9uYWJvcnQiLCJvbmVycm9yIiwiY3JlYXRlU3RvcmUiLCJkYk5hbWUiLCJzdG9yZU5hbWUiLCJpbmRleGVkREIiLCJvcGVuIiwib251cGdyYWRlbmVlZGVkIiwiY3JlYXRlT2JqZWN0U3RvcmUiLCJkYnAiLCJ0eE1vZGUiLCJjYWxsYmFjayIsImRiIiwidHJhbnNhY3Rpb24iLCJvYmplY3RTdG9yZSIsImRlZmF1bHRHZXRTdG9yZUZ1bmMiLCJkZWZhdWx0R2V0U3RvcmUiLCJnZXRNYW55IiwiY3VzdG9tU3RvcmUiLCJzdG9yZSIsImFsbCIsIm1hcCIsIlhMb2dnZXIiLCJjb252ZXJ0QmxvYlRvQmFzZTY0QXN5bmMiLCJibG9iIiwicmVhZGVyIiwiRmlsZVJlYWRlciIsIm9ubG9hZGVuZCIsImJhc2U2NERhdGEiLCJyZWFkQXNEYXRhVVJMIiwiTUFYX1dJRFRIX1RIVU1CTkFJTCIsIk1hdGgiLCJyb3VuZCIsIk1BWF9IRUlHSFRfVEhVTUJOQUlMIiwiRFJBV0lOR19JRF9LRVlfTFMiLCJjYWxjdWxhdGVOZXdEaW1lbnNpb25zIiwid2lkdGgiLCJoZWlnaHQiLCJtYXgiLCJzY2FsZSIsIndpZHRoU2NhbGUiLCJoZWlnaHRTY2FsZSIsImZpbGVzU3RvcmUiLCJnZXREcmF3aW5nRGF0YVN0YXRlIiwicHJvcHMiLCJ0YWtlU2NyZWVuc2hvdCIsImdldEV4Y2FsaWRyYXdEYXRhU3RhdGUiLCJleGNhbGlkcmF3IiwiZXhjYWxpZHJhd1N0YXRlIiwidmVyc2lvbkZpbGVzIiwidmVyc2lvbkRhdGFTdGF0ZSIsImVsZW1lbnRzIiwiSlNPTiIsInBhcnNlIiwiYXBwU3RhdGUiLCJpbWFnZUJhc2U2NCIsInZpZXdCYWNrZ3JvdW5kQ29sb3IiLCJzdGFydFRpbWUiLCJpbWFnZUZpbGVJZHMiLCJmaWx0ZXIiLCJpdGVtIiwiZmlsZUlkIiwiZmlsZXMiLCJ3aW5kb3ciLCJFeGNhbGlkcmF3TGliIiwiZXhwb3J0VG9CbG9iIiwiZ2V0RGltZW5zaW9ucyIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJNZXNzYWdlVHlwZSIsInJlcXVpcmUiLCJjbGVhckJ5RXhjYWxpZHJhd0Zyb21VSSIsInN0eWxlIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwidGV4dENvbnRlbnQiLCJoZWFkIiwiYXBwZW5kQ2hpbGQiLCJxdWVyeVNlbGVjdG9yIiwiY2xpY2siLCJzZXRUaW1lb3V0IiwiY3VycmVudERyYXdpbmdJZCIsImRyYXdpbmdEYXRhU3RhdGUiLCJTQVZFX0RSQVdJTkciLCJwYXlsb2FkIiwicmVtb3ZlSXRlbSIsImFkZEV2ZW50TGlzdGVuZXIiLCJsb2NhdGlvbiIsInJlbG9hZCJdLCJzb3VyY2VSb290IjoiIn0=